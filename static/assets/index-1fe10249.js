var gb=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var YB=gb((nr,or)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();function Ru(e,t){const r=Object.create(null),n=e.split(",");for(let o=0;o<n.length;o++)r[n[o]]=!0;return t?o=>!!r[o.toLowerCase()]:o=>!!r[o]}const vt={},bo=[],Er=()=>{},vb=()=>!1,mb=/^on[^a-z]/,ca=e=>mb.test(e),Au=e=>e.startsWith("onUpdate:"),wt=Object.assign,Lu=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},bb=Object.prototype.hasOwnProperty,ot=(e,t)=>bb.call(e,t),We=Array.isArray,yo=e=>da(e)==="[object Map]",Uh=e=>da(e)==="[object Set]",qe=e=>typeof e=="function",Tt=e=>typeof e=="string",Pu=e=>typeof e=="symbol",dt=e=>e!==null&&typeof e=="object",zh=e=>dt(e)&&qe(e.then)&&qe(e.catch),jh=Object.prototype.toString,da=e=>jh.call(e),yb=e=>da(e).slice(8,-1),Hh=e=>da(e)==="[object Object]",ku=e=>Tt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Rs=Ru(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fa=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},xb=/-(\w)/g,Nr=fa(e=>e.replace(xb,(t,r)=>r?r.toUpperCase():"")),_b=/\B([A-Z])/g,Yn=fa(e=>e.replace(_b,"-$1").toLowerCase()),ha=fa(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ya=fa(e=>e?`on${ha(e)}`:""),Si=(e,t)=>!Object.is(e,t),Xa=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Ns=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},Cb=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Sb=e=>{const t=Tt(e)?Number(e):NaN;return isNaN(t)?e:t};let zc;const Fl=()=>zc||(zc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dr(e){if(We(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],o=Tt(n)?Rb(n):dr(n);if(o)for(const i in o)t[i]=o[i]}return t}else{if(Tt(e))return e;if(dt(e))return e}}const Eb=/;(?![^(]*\))/g,wb=/:([^]+)/,Tb=/\/\*[^]*?\*\//g;function Rb(e){const t={};return e.replace(Tb,"").split(Eb).forEach(r=>{if(r){const n=r.split(wb);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Mr(e){let t="";if(Tt(e))t=e;else if(We(e))for(let r=0;r<e.length;r++){const n=Mr(e[r]);n&&(t+=n+" ")}else if(dt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Ab="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Lb=Ru(Ab);function Wh(e){return!!e||e===""}const bt=e=>Tt(e)?e:e==null?"":We(e)||dt(e)&&(e.toString===jh||!qe(e.toString))?JSON.stringify(e,Gh,2):String(e),Gh=(e,t)=>t&&t.__v_isRef?Gh(e,t.value):yo(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,o])=>(r[`${n} =>`]=o,r),{})}:Uh(t)?{[`Set(${t.size})`]:[...t.values()]}:dt(t)&&!We(t)&&!Hh(t)?String(t):t;let yr;class Pb{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=yr,!t&&yr&&(this.index=(yr.scopes||(yr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=yr;try{return yr=this,t()}finally{yr=r}}}on(){yr=this}off(){yr=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function kb(e,t=yr){t&&t.active&&t.effects.push(e)}function Ob(){return yr}const Ou=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Vh=e=>(e.w&fn)>0,Kh=e=>(e.n&fn)>0,Db=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=fn},Ib=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const o=t[n];Vh(o)&&!Kh(o)?o.delete(e):t[r++]=o,o.w&=~fn,o.n&=~fn}t.length=r}},$s=new WeakMap;let ui=0,fn=1;const Bl=30;let Cr;const Bn=Symbol(""),Nl=Symbol("");class Du{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,kb(this,n)}run(){if(!this.active)return this.fn();let t=Cr,r=cn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Cr,Cr=this,cn=!0,fn=1<<++ui,ui<=Bl?Db(this):jc(this),this.fn()}finally{ui<=Bl&&Ib(this),fn=1<<--ui,Cr=this.parent,cn=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Cr===this?this.deferStop=!0:this.active&&(jc(this),this.onStop&&this.onStop(),this.active=!1)}}function jc(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let cn=!0;const Yh=[];function Oo(){Yh.push(cn),cn=!1}function Do(){const e=Yh.pop();cn=e===void 0?!0:e}function Zt(e,t,r){if(cn&&Cr){let n=$s.get(e);n||$s.set(e,n=new Map);let o=n.get(r);o||n.set(r,o=Ou()),Xh(o)}}function Xh(e,t){let r=!1;ui<=Bl?Kh(e)||(e.n|=fn,r=!Vh(e)):r=!e.has(Cr),r&&(e.add(Cr),Cr.deps.push(e))}function Vr(e,t,r,n,o,i){const a=$s.get(e);if(!a)return;let d=[];if(t==="clear")d=[...a.values()];else if(r==="length"&&We(e)){const l=Number(n);a.forEach((s,c)=>{(c==="length"||c>=l)&&d.push(s)})}else switch(r!==void 0&&d.push(a.get(r)),t){case"add":We(e)?ku(r)&&d.push(a.get("length")):(d.push(a.get(Bn)),yo(e)&&d.push(a.get(Nl)));break;case"delete":We(e)||(d.push(a.get(Bn)),yo(e)&&d.push(a.get(Nl)));break;case"set":yo(e)&&d.push(a.get(Bn));break}if(d.length===1)d[0]&&$l(d[0]);else{const l=[];for(const s of d)s&&l.push(...s);$l(Ou(l))}}function $l(e,t){const r=We(e)?e:[...e];for(const n of r)n.computed&&Hc(n);for(const n of r)n.computed||Hc(n)}function Hc(e,t){(e!==Cr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Mb(e,t){var r;return(r=$s.get(e))==null?void 0:r.get(t)}const Fb=Ru("__proto__,__v_isRef,__isVue"),qh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Pu)),Bb=Iu(),Nb=Iu(!1,!0),$b=Iu(!0),Wc=Ub();function Ub(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=rt(this);for(let i=0,a=this.length;i<a;i++)Zt(n,"get",i+"");const o=n[t](...r);return o===-1||o===!1?n[t](...r.map(rt)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Oo();const n=rt(this)[t].apply(this,r);return Do(),n}}),e}function zb(e){const t=rt(this);return Zt(t,"has",e),t.hasOwnProperty(e)}function Iu(e=!1,t=!1){return function(n,o,i){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&i===(e?t?ny:tp:t?ep:Qh).get(n))return n;const a=We(n);if(!e){if(a&&ot(Wc,o))return Reflect.get(Wc,o,i);if(o==="hasOwnProperty")return zb}const d=Reflect.get(n,o,i);return(Pu(o)?qh.has(o):Fb(o))||(e||Zt(n,"get",o),t)?d:Ft(d)?a&&ku(o)?d:d.value:dt(d)?e?pr(d):Jt(d):d}}const jb=Zh(),Hb=Zh(!0);function Zh(e=!1){return function(r,n,o,i){let a=r[n];if(wo(a)&&Ft(a)&&!Ft(o))return!1;if(!e&&(!Us(o)&&!wo(o)&&(a=rt(a),o=rt(o)),!We(r)&&Ft(a)&&!Ft(o)))return a.value=o,!0;const d=We(r)&&ku(n)?Number(n)<r.length:ot(r,n),l=Reflect.set(r,n,o,i);return r===rt(i)&&(d?Si(o,a)&&Vr(r,"set",n,o):Vr(r,"add",n,o)),l}}function Wb(e,t){const r=ot(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&Vr(e,"delete",t,void 0),n}function Gb(e,t){const r=Reflect.has(e,t);return(!Pu(t)||!qh.has(t))&&Zt(e,"has",t),r}function Vb(e){return Zt(e,"iterate",We(e)?"length":Bn),Reflect.ownKeys(e)}const Jh={get:Bb,set:jb,deleteProperty:Wb,has:Gb,ownKeys:Vb},Kb={get:$b,set(e,t){return!0},deleteProperty(e,t){return!0}},Yb=wt({},Jh,{get:Nb,set:Hb}),Mu=e=>e,pa=e=>Reflect.getPrototypeOf(e);function is(e,t,r=!1,n=!1){e=e.__v_raw;const o=rt(e),i=rt(t);r||(t!==i&&Zt(o,"get",t),Zt(o,"get",i));const{has:a}=pa(o),d=n?Mu:r?Nu:Ei;if(a.call(o,t))return d(e.get(t));if(a.call(o,i))return d(e.get(i));e!==o&&e.get(t)}function ss(e,t=!1){const r=this.__v_raw,n=rt(r),o=rt(e);return t||(e!==o&&Zt(n,"has",e),Zt(n,"has",o)),e===o?r.has(e):r.has(e)||r.has(o)}function as(e,t=!1){return e=e.__v_raw,!t&&Zt(rt(e),"iterate",Bn),Reflect.get(e,"size",e)}function Gc(e){e=rt(e);const t=rt(this);return pa(t).has.call(t,e)||(t.add(e),Vr(t,"add",e,e)),this}function Vc(e,t){t=rt(t);const r=rt(this),{has:n,get:o}=pa(r);let i=n.call(r,e);i||(e=rt(e),i=n.call(r,e));const a=o.call(r,e);return r.set(e,t),i?Si(t,a)&&Vr(r,"set",e,t):Vr(r,"add",e,t),this}function Kc(e){const t=rt(this),{has:r,get:n}=pa(t);let o=r.call(t,e);o||(e=rt(e),o=r.call(t,e)),n&&n.call(t,e);const i=t.delete(e);return o&&Vr(t,"delete",e,void 0),i}function Yc(){const e=rt(this),t=e.size!==0,r=e.clear();return t&&Vr(e,"clear",void 0,void 0),r}function ls(e,t){return function(n,o){const i=this,a=i.__v_raw,d=rt(a),l=t?Mu:e?Nu:Ei;return!e&&Zt(d,"iterate",Bn),a.forEach((s,c)=>n.call(o,l(s),l(c),i))}}function us(e,t,r){return function(...n){const o=this.__v_raw,i=rt(o),a=yo(i),d=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,s=o[e](...n),c=r?Mu:t?Nu:Ei;return!t&&Zt(i,"iterate",l?Nl:Bn),{next(){const{value:u,done:f}=s.next();return f?{value:u,done:f}:{value:d?[c(u[0]),c(u[1])]:c(u),done:f}},[Symbol.iterator](){return this}}}}function Qr(e){return function(...t){return e==="delete"?!1:this}}function Xb(){const e={get(i){return is(this,i)},get size(){return as(this)},has:ss,add:Gc,set:Vc,delete:Kc,clear:Yc,forEach:ls(!1,!1)},t={get(i){return is(this,i,!1,!0)},get size(){return as(this)},has:ss,add:Gc,set:Vc,delete:Kc,clear:Yc,forEach:ls(!1,!0)},r={get(i){return is(this,i,!0)},get size(){return as(this,!0)},has(i){return ss.call(this,i,!0)},add:Qr("add"),set:Qr("set"),delete:Qr("delete"),clear:Qr("clear"),forEach:ls(!0,!1)},n={get(i){return is(this,i,!0,!0)},get size(){return as(this,!0)},has(i){return ss.call(this,i,!0)},add:Qr("add"),set:Qr("set"),delete:Qr("delete"),clear:Qr("clear"),forEach:ls(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=us(i,!1,!1),r[i]=us(i,!0,!1),t[i]=us(i,!1,!0),n[i]=us(i,!0,!0)}),[e,r,t,n]}const[qb,Zb,Jb,Qb]=Xb();function Fu(e,t){const r=t?e?Qb:Jb:e?Zb:qb;return(n,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(ot(r,o)&&o in n?r:n,o,i)}const ey={get:Fu(!1,!1)},ty={get:Fu(!1,!0)},ry={get:Fu(!0,!1)},Qh=new WeakMap,ep=new WeakMap,tp=new WeakMap,ny=new WeakMap;function oy(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function iy(e){return e.__v_skip||!Object.isExtensible(e)?0:oy(yb(e))}function Jt(e){return wo(e)?e:Bu(e,!1,Jh,ey,Qh)}function rp(e){return Bu(e,!1,Yb,ty,ep)}function pr(e){return Bu(e,!0,Kb,ry,tp)}function Bu(e,t,r,n,o){if(!dt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const a=iy(e);if(a===0)return e;const d=new Proxy(e,a===2?n:r);return o.set(e,d),d}function xo(e){return wo(e)?xo(e.__v_raw):!!(e&&e.__v_isReactive)}function wo(e){return!!(e&&e.__v_isReadonly)}function Us(e){return!!(e&&e.__v_isShallow)}function np(e){return xo(e)||wo(e)}function rt(e){const t=e&&e.__v_raw;return t?rt(t):e}function zs(e){return Ns(e,"__v_skip",!0),e}const Ei=e=>dt(e)?Jt(e):e,Nu=e=>dt(e)?pr(e):e;function op(e){cn&&Cr&&(e=rt(e),Xh(e.dep||(e.dep=Ou())))}function ip(e,t){e=rt(e);const r=e.dep;r&&$l(r)}function Ft(e){return!!(e&&e.__v_isRef===!0)}function Q(e){return sp(e,!1)}function sy(e){return sp(e,!0)}function sp(e,t){return Ft(e)?e:new ay(e,t)}class ay{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:rt(t),this._value=r?t:Ei(t)}get value(){return op(this),this._value}set value(t){const r=this.__v_isShallow||Us(t)||wo(t);t=r?t:rt(t),Si(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:Ei(t),ip(this))}}function be(e){return Ft(e)?e.value:e}const ly={get:(e,t,r)=>be(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const o=e[t];return Ft(o)&&!Ft(r)?(o.value=r,!0):Reflect.set(e,t,r,n)}};function ap(e){return xo(e)?e:new Proxy(e,ly)}class uy{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Mb(rt(this._object),this._key)}}class cy{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Be(e,t,r){return Ft(e)?e:qe(e)?new cy(e):dt(e)&&arguments.length>1?dy(e,t,r):Q(e)}function dy(e,t,r){const n=e[t];return Ft(n)?n:new uy(e,t,r)}class fy{constructor(t,r,n,o){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Du(t,()=>{this._dirty||(this._dirty=!0,ip(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const t=rt(this);return op(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function hy(e,t,r=!1){let n,o;const i=qe(e);return i?(n=e,o=Er):(n=e.get,o=e.set),new fy(n,o,i||!o,r)}function dn(e,t,r,n){let o;try{o=n?e(...n):e()}catch(i){ga(i,t,r)}return o}function fr(e,t,r,n){if(qe(e)){const i=dn(e,t,r,n);return i&&zh(i)&&i.catch(a=>{ga(a,t,r)}),i}const o=[];for(let i=0;i<e.length;i++)o.push(fr(e[i],t,r,n));return o}function ga(e,t,r,n=!0){const o=t?t.vnode:null;if(t){let i=t.parent;const a=t.proxy,d=r;for(;i;){const s=i.ec;if(s){for(let c=0;c<s.length;c++)if(s[c](e,a,d)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){dn(l,null,10,[e,a,d]);return}}py(e,r,o,n)}function py(e,t,r,n=!0){console.error(e)}let wi=!1,Ul=!1;const Ht=[];let Dr=0;const _o=[];let Wr=null,Rn=0;const lp=Promise.resolve();let $u=null;function $t(e){const t=$u||lp;return e?t.then(this?e.bind(this):e):t}function gy(e){let t=Dr+1,r=Ht.length;for(;t<r;){const n=t+r>>>1;Ti(Ht[n])<e?t=n+1:r=n}return t}function Uu(e){(!Ht.length||!Ht.includes(e,wi&&e.allowRecurse?Dr+1:Dr))&&(e.id==null?Ht.push(e):Ht.splice(gy(e.id),0,e),up())}function up(){!wi&&!Ul&&(Ul=!0,$u=lp.then(dp))}function vy(e){const t=Ht.indexOf(e);t>Dr&&Ht.splice(t,1)}function my(e){We(e)?_o.push(...e):(!Wr||!Wr.includes(e,e.allowRecurse?Rn+1:Rn))&&_o.push(e),up()}function Xc(e,t=wi?Dr+1:0){for(;t<Ht.length;t++){const r=Ht[t];r&&r.pre&&(Ht.splice(t,1),t--,r())}}function cp(e){if(_o.length){const t=[...new Set(_o)];if(_o.length=0,Wr){Wr.push(...t);return}for(Wr=t,Wr.sort((r,n)=>Ti(r)-Ti(n)),Rn=0;Rn<Wr.length;Rn++)Wr[Rn]();Wr=null,Rn=0}}const Ti=e=>e.id==null?1/0:e.id,by=(e,t)=>{const r=Ti(e)-Ti(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function dp(e){Ul=!1,wi=!0,Ht.sort(by);const t=Er;try{for(Dr=0;Dr<Ht.length;Dr++){const r=Ht[Dr];r&&r.active!==!1&&dn(r,null,14)}}finally{Dr=0,Ht.length=0,cp(),wi=!1,$u=null,(Ht.length||_o.length)&&dp()}}function yy(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||vt;let o=r;const i=t.startsWith("update:"),a=i&&t.slice(7);if(a&&a in n){const c=`${a==="modelValue"?"model":a}Modifiers`,{number:u,trim:f}=n[c]||vt;f&&(o=r.map(_=>Tt(_)?_.trim():_)),u&&(o=r.map(Cb))}let d,l=n[d=Ya(t)]||n[d=Ya(Nr(t))];!l&&i&&(l=n[d=Ya(Yn(t))]),l&&fr(l,e,6,o);const s=n[d+"Once"];if(s){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,fr(s,e,6,o)}}function fp(e,t,r=!1){const n=t.emitsCache,o=n.get(e);if(o!==void 0)return o;const i=e.emits;let a={},d=!1;if(!qe(e)){const l=s=>{const c=fp(s,t,!0);c&&(d=!0,wt(a,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!d?(dt(e)&&n.set(e,null),null):(We(i)?i.forEach(l=>a[l]=null):wt(a,i),dt(e)&&n.set(e,a),a)}function va(e,t){return!e||!ca(t)?!1:(t=t.slice(2).replace(/Once$/,""),ot(e,t[0].toLowerCase()+t.slice(1))||ot(e,Yn(t))||ot(e,t))}let Nt=null,ma=null;function js(e){const t=Nt;return Nt=e,ma=e&&e.type.__scopeId||null,t}function gn(e){ma=e}function vn(){ma=null}function ke(e,t=Nt,r){if(!t||e._n)return e;const n=(...o)=>{n._d&&ld(-1);const i=js(t);let a;try{a=e(...o)}finally{js(i),n._d&&ld(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function qa(e){const{type:t,vnode:r,proxy:n,withProxy:o,props:i,propsOptions:[a],slots:d,attrs:l,emit:s,render:c,renderCache:u,data:f,setupState:_,ctx:v,inheritAttrs:b}=e;let g,m;const h=js(e);try{if(r.shapeFlag&4){const y=o||n;g=kr(c.call(y,y,u,i,_,f,v)),m=l}else{const y=t;g=kr(y.length>1?y(i,{attrs:l,slots:d,emit:s}):y(i,null)),m=t.props?l:xy(l)}}catch(y){gi.length=0,ga(y,e,1),g=fe(Vt)}let x=g;if(m&&b!==!1){const y=Object.keys(m),{shapeFlag:p}=x;y.length&&p&7&&(a&&y.some(Au)&&(m=_y(m,a)),x=ir(x,m))}return r.dirs&&(x=ir(x),x.dirs=x.dirs?x.dirs.concat(r.dirs):r.dirs),r.transition&&(x.transition=r.transition),g=x,js(h),g}const xy=e=>{let t;for(const r in e)(r==="class"||r==="style"||ca(r))&&((t||(t={}))[r]=e[r]);return t},_y=(e,t)=>{const r={};for(const n in e)(!Au(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function Cy(e,t,r){const{props:n,children:o,component:i}=e,{props:a,children:d,patchFlag:l}=t,s=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?qc(n,a,s):!!a;if(l&8){const c=t.dynamicProps;for(let u=0;u<c.length;u++){const f=c[u];if(a[f]!==n[f]&&!va(s,f))return!0}}}else return(o||d)&&(!d||!d.$stable)?!0:n===a?!1:n?a?qc(n,a,s):!0:!!a;return!1}function qc(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const i=n[o];if(t[i]!==e[i]&&!va(r,i))return!0}return!1}function Sy({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const Ey=e=>e.__isSuspense;function wy(e,t){t&&t.pendingBranch?We(e)?t.effects.push(...e):t.effects.push(e):my(e)}function Qt(e,t){return ba(e,null,t)}function Ty(e,t){return ba(e,null,{flush:"post"})}const cs={};function tt(e,t,r){return ba(e,t,r)}function ba(e,t,{immediate:r,deep:n,flush:o,onTrack:i,onTrigger:a}=vt){var d;const l=Ob()===((d=Mt)==null?void 0:d.scope)?Mt:null;let s,c=!1,u=!1;if(Ft(e)?(s=()=>e.value,c=Us(e)):xo(e)?(s=()=>e,n=!0):We(e)?(u=!0,c=e.some(y=>xo(y)||Us(y)),s=()=>e.map(y=>{if(Ft(y))return y.value;if(xo(y))return Pn(y);if(qe(y))return dn(y,l,2)})):qe(e)?t?s=()=>dn(e,l,2):s=()=>{if(!(l&&l.isUnmounted))return f&&f(),fr(e,l,3,[_])}:s=Er,t&&n){const y=s;s=()=>Pn(y())}let f,_=y=>{f=h.onStop=()=>{dn(y,l,4)}},v;if(ki)if(_=Er,t?r&&fr(t,l,3,[s(),u?[]:void 0,_]):s(),o==="sync"){const y=b1();v=y.__watcherHandles||(y.__watcherHandles=[])}else return Er;let b=u?new Array(e.length).fill(cs):cs;const g=()=>{if(h.active)if(t){const y=h.run();(n||c||(u?y.some((p,C)=>Si(p,b[C])):Si(y,b)))&&(f&&f(),fr(t,l,3,[y,b===cs?void 0:u&&b[0]===cs?[]:b,_]),b=y)}else h.run()};g.allowRecurse=!!t;let m;o==="sync"?m=g:o==="post"?m=()=>qt(g,l&&l.suspense):(g.pre=!0,l&&(g.id=l.uid),m=()=>Uu(g));const h=new Du(s,m);t?r?g():b=h.run():o==="post"?qt(h.run.bind(h),l&&l.suspense):h.run();const x=()=>{h.stop(),l&&l.scope&&Lu(l.scope.effects,h)};return v&&v.push(x),x}function Ry(e,t,r){const n=this.proxy,o=Tt(e)?e.includes(".")?hp(n,e):()=>n[e]:e.bind(n,n);let i;qe(t)?i=t:(i=t.handler,r=t);const a=Mt;To(this);const d=ba(o,i.bind(n),r);return a?To(a):Nn(),d}function hp(e,t){const r=t.split(".");return()=>{let n=e;for(let o=0;o<r.length&&n;o++)n=n[r[o]];return n}}function Pn(e,t){if(!dt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ft(e))Pn(e.value,t);else if(We(e))for(let r=0;r<e.length;r++)Pn(e[r],t);else if(Uh(e)||yo(e))e.forEach(r=>{Pn(r,t)});else if(Hh(e))for(const r in e)Pn(e[r],t);return e}function yt(e,t){const r=Nt;if(r===null)return e;const n=Ea(r)||r.proxy,o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,d,l,s=vt]=t[i];a&&(qe(a)&&(a={mounted:a,updated:a}),a.deep&&Pn(d),o.push({dir:a,instance:n,value:d,oldValue:void 0,arg:l,modifiers:s}))}return e}function Cn(e,t,r,n){const o=e.dirs,i=t&&t.dirs;for(let a=0;a<o.length;a++){const d=o[a];i&&(d.oldValue=i[a].value);let l=d.dir[n];l&&(Oo(),fr(l,r,8,[e.el,d,e,t]),Do())}}function pp(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Rt(()=>{e.isMounted=!0}),_t(()=>{e.isUnmounting=!0}),e}const lr=[Function,Array],gp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:lr,onEnter:lr,onAfterEnter:lr,onEnterCancelled:lr,onBeforeLeave:lr,onLeave:lr,onAfterLeave:lr,onLeaveCancelled:lr,onBeforeAppear:lr,onAppear:lr,onAfterAppear:lr,onAppearCancelled:lr},Ay={name:"BaseTransition",props:gp,setup(e,{slots:t}){const r=ar(),n=pp();let o;return()=>{const i=t.default&&zu(t.default(),!0);if(!i||!i.length)return;let a=i[0];if(i.length>1){for(const b of i)if(b.type!==Vt){a=b;break}}const d=rt(e),{mode:l}=d;if(n.isLeaving)return Za(a);const s=Zc(a);if(!s)return Za(a);const c=Ri(s,d,n,r);Ai(s,c);const u=r.subTree,f=u&&Zc(u);let _=!1;const{getTransitionKey:v}=s.type;if(v){const b=v();o===void 0?o=b:b!==o&&(o=b,_=!0)}if(f&&f.type!==Vt&&(!An(s,f)||_)){const b=Ri(f,d,n,r);if(Ai(f,b),l==="out-in")return n.isLeaving=!0,b.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&r.update()},Za(a);l==="in-out"&&s.type!==Vt&&(b.delayLeave=(g,m,h)=>{const x=vp(n,f);x[String(f.key)]=f,g._leaveCb=()=>{m(),g._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=h})}return a}}},Ly=Ay;function vp(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function Ri(e,t,r,n){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:d,onEnter:l,onAfterEnter:s,onEnterCancelled:c,onBeforeLeave:u,onLeave:f,onAfterLeave:_,onLeaveCancelled:v,onBeforeAppear:b,onAppear:g,onAfterAppear:m,onAppearCancelled:h}=t,x=String(e.key),y=vp(r,e),p=(w,A)=>{w&&fr(w,n,9,A)},C=(w,A)=>{const E=A[1];p(w,A),We(w)?w.every(R=>R.length<=1)&&E():w.length<=1&&E()},S={mode:i,persisted:a,beforeEnter(w){let A=d;if(!r.isMounted)if(o)A=b||d;else return;w._leaveCb&&w._leaveCb(!0);const E=y[x];E&&An(e,E)&&E.el._leaveCb&&E.el._leaveCb(),p(A,[w])},enter(w){let A=l,E=s,R=c;if(!r.isMounted)if(o)A=g||l,E=m||s,R=h||c;else return;let T=!1;const L=w._enterCb=P=>{T||(T=!0,P?p(R,[w]):p(E,[w]),S.delayedLeave&&S.delayedLeave(),w._enterCb=void 0)};A?C(A,[w,L]):L()},leave(w,A){const E=String(e.key);if(w._enterCb&&w._enterCb(!0),r.isUnmounting)return A();p(u,[w]);let R=!1;const T=w._leaveCb=L=>{R||(R=!0,A(),L?p(v,[w]):p(_,[w]),w._leaveCb=void 0,y[E]===e&&delete y[E])};y[E]=e,f?C(f,[w,T]):T()},clone(w){return Ri(w,t,r,n)}};return S}function Za(e){if(ya(e))return e=ir(e),e.children=null,e}function Zc(e){return ya(e)?e.children?e.children[0]:void 0:e}function Ai(e,t){e.shapeFlag&6&&e.component?Ai(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function zu(e,t=!1,r){let n=[],o=0;for(let i=0;i<e.length;i++){let a=e[i];const d=r==null?a.key:String(r)+String(a.key!=null?a.key:i);a.type===Qe?(a.patchFlag&128&&o++,n=n.concat(zu(a.children,t,d))):(t||a.type!==Vt)&&n.push(d!=null?ir(a,{key:d}):a)}if(o>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function ye(e,t){return qe(e)?(()=>wt({name:e.name},t,{setup:e}))():e}const fi=e=>!!e.type.__asyncLoader,ya=e=>e.type.__isKeepAlive;function xa(e,t){mp(e,"a",t)}function _a(e,t){mp(e,"da",t)}function mp(e,t,r=Mt){const n=e.__wdc||(e.__wdc=()=>{let o=r;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Ca(t,n,r),r){let o=r.parent;for(;o&&o.parent;)ya(o.parent.vnode)&&Py(n,t,r,o),o=o.parent}}function Py(e,t,r,n){const o=Ca(t,e,n,!0);Xn(()=>{Lu(n[t],o)},r)}function Ca(e,t,r=Mt,n=!1){if(r){const o=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...a)=>{if(r.isUnmounted)return;Oo(),To(r);const d=fr(t,r,e,a);return Nn(),Do(),d});return n?o.unshift(i):o.push(i),i}}const Xr=e=>(t,r=Mt)=>(!ki||e==="sp")&&Ca(e,(...n)=>t(...n),r),mr=Xr("bm"),Rt=Xr("m"),ky=Xr("bu"),bp=Xr("u"),_t=Xr("bum"),Xn=Xr("um"),Oy=Xr("sp"),Dy=Xr("rtg"),Iy=Xr("rtc");function My(e,t=Mt){Ca("ec",e,t)}const yp="components";function Fy(e,t){return Ny(yp,e,!0,t)||e}const By=Symbol.for("v-ndc");function Ny(e,t,r=!0,n=!1){const o=Nt||Mt;if(o){const i=o.type;if(e===yp){const d=g1(i,!1);if(d&&(d===t||d===Nr(t)||d===ha(Nr(t))))return i}const a=Jc(o[e]||i[e],t)||Jc(o.appContext[e],t);return!a&&n?i:a}}function Jc(e,t){return e&&(e[t]||e[Nr(t)]||e[ha(Nr(t))])}function Hs(e,t,r,n){let o;const i=r&&r[n];if(We(e)||Tt(e)){o=new Array(e.length);for(let a=0,d=e.length;a<d;a++)o[a]=t(e[a],a,void 0,i&&i[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,i&&i[a])}else if(dt(e))if(e[Symbol.iterator])o=Array.from(e,(a,d)=>t(a,d,void 0,i&&i[d]));else{const a=Object.keys(e);o=new Array(a.length);for(let d=0,l=a.length;d<l;d++){const s=a[d];o[d]=t(e[s],s,d,i&&i[d])}}else o=[];return r&&(r[n]=o),o}function xp(e,t,r={},n,o){if(Nt.isCE||Nt.parent&&fi(Nt.parent)&&Nt.parent.isCE)return t!=="default"&&(r.name=t),fe("slot",r,n&&n());let i=e[t];i&&i._c&&(i._d=!1),je();const a=i&&_p(i(r)),d=Hn(Qe,{key:r.key||a&&a.key||`_${t}`},a||(n?n():[]),a&&e._===1?64:-2);return!o&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),i&&i._c&&(i._d=!0),d}function _p(e){return e.some(t=>Pi(t)?!(t.type===Vt||t.type===Qe&&!_p(t.children)):!0)?e:null}const zl=e=>e?Op(e)?Ea(e)||e.proxy:zl(e.parent):null,hi=wt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>zl(e.parent),$root:e=>zl(e.root),$emit:e=>e.emit,$options:e=>ju(e),$forceUpdate:e=>e.f||(e.f=()=>Uu(e.update)),$nextTick:e=>e.n||(e.n=$t.bind(e.proxy)),$watch:e=>Ry.bind(e)}),Ja=(e,t)=>e!==vt&&!e.__isScriptSetup&&ot(e,t),$y={get({_:e},t){const{ctx:r,setupState:n,data:o,props:i,accessCache:a,type:d,appContext:l}=e;let s;if(t[0]!=="$"){const _=a[t];if(_!==void 0)switch(_){case 1:return n[t];case 2:return o[t];case 4:return r[t];case 3:return i[t]}else{if(Ja(n,t))return a[t]=1,n[t];if(o!==vt&&ot(o,t))return a[t]=2,o[t];if((s=e.propsOptions[0])&&ot(s,t))return a[t]=3,i[t];if(r!==vt&&ot(r,t))return a[t]=4,r[t];jl&&(a[t]=0)}}const c=hi[t];let u,f;if(c)return t==="$attrs"&&Zt(e,"get",t),c(e);if((u=d.__cssModules)&&(u=u[t]))return u;if(r!==vt&&ot(r,t))return a[t]=4,r[t];if(f=l.config.globalProperties,ot(f,t))return f[t]},set({_:e},t,r){const{data:n,setupState:o,ctx:i}=e;return Ja(o,t)?(o[t]=r,!0):n!==vt&&ot(n,t)?(n[t]=r,!0):ot(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:o,propsOptions:i}},a){let d;return!!r[a]||e!==vt&&ot(e,a)||Ja(t,a)||(d=i[0])&&ot(d,a)||ot(n,a)||ot(hi,a)||ot(o.config.globalProperties,a)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:ot(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Uy(){return zy().attrs}function zy(){const e=ar();return e.setupContext||(e.setupContext=Ip(e))}function Qc(e){return We(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let jl=!0;function jy(e){const t=ju(e),r=e.proxy,n=e.ctx;jl=!1,t.beforeCreate&&ed(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:a,watch:d,provide:l,inject:s,created:c,beforeMount:u,mounted:f,beforeUpdate:_,updated:v,activated:b,deactivated:g,beforeDestroy:m,beforeUnmount:h,destroyed:x,unmounted:y,render:p,renderTracked:C,renderTriggered:S,errorCaptured:w,serverPrefetch:A,expose:E,inheritAttrs:R,components:T,directives:L,filters:P}=t;if(s&&Hy(s,n,null),a)for(const O in a){const M=a[O];qe(M)&&(n[O]=M.bind(r))}if(o){const O=o.call(r,r);dt(O)&&(e.data=Jt(O))}if(jl=!0,i)for(const O in i){const M=i[O],F=qe(M)?M.bind(r,r):qe(M.get)?M.get.bind(r,r):Er,N=!qe(M)&&qe(M.set)?M.set.bind(r):Er,U=ne({get:F,set:N});Object.defineProperty(n,O,{enumerable:!0,configurable:!0,get:()=>U.value,set:G=>U.value=G})}if(d)for(const O in d)Cp(d[O],n,r,O);if(l){const O=qe(l)?l.call(r):l;Reflect.ownKeys(O).forEach(M=>{ut(M,O[M])})}c&&ed(c,e,"c");function D(O,M){We(M)?M.forEach(F=>O(F.bind(r))):M&&O(M.bind(r))}if(D(mr,u),D(Rt,f),D(ky,_),D(bp,v),D(xa,b),D(_a,g),D(My,w),D(Iy,C),D(Dy,S),D(_t,h),D(Xn,y),D(Oy,A),We(E))if(E.length){const O=e.exposed||(e.exposed={});E.forEach(M=>{Object.defineProperty(O,M,{get:()=>r[M],set:F=>r[M]=F})})}else e.exposed||(e.exposed={});p&&e.render===Er&&(e.render=p),R!=null&&(e.inheritAttrs=R),T&&(e.components=T),L&&(e.directives=L)}function Hy(e,t,r=Er){We(e)&&(e=Hl(e));for(const n in e){const o=e[n];let i;dt(o)?"default"in o?i=$e(o.from||n,o.default,!0):i=$e(o.from||n):i=$e(o),Ft(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[n]=i}}function ed(e,t,r){fr(We(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function Cp(e,t,r,n){const o=n.includes(".")?hp(r,n):()=>r[n];if(Tt(e)){const i=t[e];qe(i)&&tt(o,i)}else if(qe(e))tt(o,e.bind(r));else if(dt(e))if(We(e))e.forEach(i=>Cp(i,t,r,n));else{const i=qe(e.handler)?e.handler.bind(r):t[e.handler];qe(i)&&tt(o,i,e)}}function ju(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,d=i.get(t);let l;return d?l=d:!o.length&&!r&&!n?l=t:(l={},o.length&&o.forEach(s=>Ws(l,s,a,!0)),Ws(l,t,a)),dt(t)&&i.set(t,l),l}function Ws(e,t,r,n=!1){const{mixins:o,extends:i}=t;i&&Ws(e,i,r,!0),o&&o.forEach(a=>Ws(e,a,r,!0));for(const a in t)if(!(n&&a==="expose")){const d=Wy[a]||r&&r[a];e[a]=d?d(e[a],t[a]):t[a]}return e}const Wy={data:td,props:rd,emits:rd,methods:ci,computed:ci,beforeCreate:Wt,created:Wt,beforeMount:Wt,mounted:Wt,beforeUpdate:Wt,updated:Wt,beforeDestroy:Wt,beforeUnmount:Wt,destroyed:Wt,unmounted:Wt,activated:Wt,deactivated:Wt,errorCaptured:Wt,serverPrefetch:Wt,components:ci,directives:ci,watch:Vy,provide:td,inject:Gy};function td(e,t){return t?e?function(){return wt(qe(e)?e.call(this,this):e,qe(t)?t.call(this,this):t)}:t:e}function Gy(e,t){return ci(Hl(e),Hl(t))}function Hl(e){if(We(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Wt(e,t){return e?[...new Set([].concat(e,t))]:t}function ci(e,t){return e?wt(Object.create(null),e,t):t}function rd(e,t){return e?We(e)&&We(t)?[...new Set([...e,...t])]:wt(Object.create(null),Qc(e),Qc(t??{})):t}function Vy(e,t){if(!e)return t;if(!t)return e;const r=wt(Object.create(null),e);for(const n in t)r[n]=Wt(e[n],t[n]);return r}function Sp(){return{app:null,config:{isNativeTag:vb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ky=0;function Yy(e,t){return function(n,o=null){qe(n)||(n=wt({},n)),o!=null&&!dt(o)&&(o=null);const i=Sp(),a=new Set;let d=!1;const l=i.app={_uid:Ky++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:Yu,get config(){return i.config},set config(s){},use(s,...c){return a.has(s)||(s&&qe(s.install)?(a.add(s),s.install(l,...c)):qe(s)&&(a.add(s),s(l,...c))),l},mixin(s){return i.mixins.includes(s)||i.mixins.push(s),l},component(s,c){return c?(i.components[s]=c,l):i.components[s]},directive(s,c){return c?(i.directives[s]=c,l):i.directives[s]},mount(s,c,u){if(!d){const f=fe(n,o);return f.appContext=i,c&&t?t(f,s):e(f,s,u),d=!0,l._container=s,s.__vue_app__=l,Ea(f.component)||f.component.proxy}},unmount(){d&&(e(null,l._container),delete l._container.__vue_app__)},provide(s,c){return i.provides[s]=c,l},runWithContext(s){Gs=l;try{return s()}finally{Gs=null}}};return l}}let Gs=null;function ut(e,t){if(Mt){let r=Mt.provides;const n=Mt.parent&&Mt.parent.provides;n===r&&(r=Mt.provides=Object.create(n)),r[e]=t}}function $e(e,t,r=!1){const n=Mt||Nt;if(n||Gs){const o=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Gs._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return r&&qe(t)?t.call(n&&n.proxy):t}}function Xy(e,t,r,n=!1){const o={},i={};Ns(i,Sa,1),e.propsDefaults=Object.create(null),Ep(e,t,o,i);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);r?e.props=n?o:rp(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function qy(e,t,r,n){const{props:o,attrs:i,vnode:{patchFlag:a}}=e,d=rt(o),[l]=e.propsOptions;let s=!1;if((n||a>0)&&!(a&16)){if(a&8){const c=e.vnode.dynamicProps;for(let u=0;u<c.length;u++){let f=c[u];if(va(e.emitsOptions,f))continue;const _=t[f];if(l)if(ot(i,f))_!==i[f]&&(i[f]=_,s=!0);else{const v=Nr(f);o[v]=Wl(l,d,v,_,e,!1)}else _!==i[f]&&(i[f]=_,s=!0)}}}else{Ep(e,t,o,i)&&(s=!0);let c;for(const u in d)(!t||!ot(t,u)&&((c=Yn(u))===u||!ot(t,c)))&&(l?r&&(r[u]!==void 0||r[c]!==void 0)&&(o[u]=Wl(l,d,u,void 0,e,!0)):delete o[u]);if(i!==d)for(const u in i)(!t||!ot(t,u))&&(delete i[u],s=!0)}s&&Vr(e,"set","$attrs")}function Ep(e,t,r,n){const[o,i]=e.propsOptions;let a=!1,d;if(t)for(let l in t){if(Rs(l))continue;const s=t[l];let c;o&&ot(o,c=Nr(l))?!i||!i.includes(c)?r[c]=s:(d||(d={}))[c]=s:va(e.emitsOptions,l)||(!(l in n)||s!==n[l])&&(n[l]=s,a=!0)}if(i){const l=rt(r),s=d||vt;for(let c=0;c<i.length;c++){const u=i[c];r[u]=Wl(o,l,u,s[u],e,!ot(s,u))}}return a}function Wl(e,t,r,n,o,i){const a=e[r];if(a!=null){const d=ot(a,"default");if(d&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&qe(l)){const{propsDefaults:s}=o;r in s?n=s[r]:(To(o),n=s[r]=l.call(null,t),Nn())}else n=l}a[0]&&(i&&!d?n=!1:a[1]&&(n===""||n===Yn(r))&&(n=!0))}return n}function wp(e,t,r=!1){const n=t.propsCache,o=n.get(e);if(o)return o;const i=e.props,a={},d=[];let l=!1;if(!qe(e)){const c=u=>{l=!0;const[f,_]=wp(u,t,!0);wt(a,f),_&&d.push(..._)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return dt(e)&&n.set(e,bo),bo;if(We(i))for(let c=0;c<i.length;c++){const u=Nr(i[c]);nd(u)&&(a[u]=vt)}else if(i)for(const c in i){const u=Nr(c);if(nd(u)){const f=i[c],_=a[u]=We(f)||qe(f)?{type:f}:wt({},f);if(_){const v=sd(Boolean,_.type),b=sd(String,_.type);_[0]=v>-1,_[1]=b<0||v<b,(v>-1||ot(_,"default"))&&d.push(u)}}}const s=[a,d];return dt(e)&&n.set(e,s),s}function nd(e){return e[0]!=="$"}function od(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function id(e,t){return od(e)===od(t)}function sd(e,t){return We(t)?t.findIndex(r=>id(r,e)):qe(t)&&id(t,e)?0:-1}const Tp=e=>e[0]==="_"||e==="$stable",Hu=e=>We(e)?e.map(kr):[kr(e)],Zy=(e,t,r)=>{if(t._n)return t;const n=ke((...o)=>Hu(t(...o)),r);return n._c=!1,n},Rp=(e,t,r)=>{const n=e._ctx;for(const o in e){if(Tp(o))continue;const i=e[o];if(qe(i))t[o]=Zy(o,i,n);else if(i!=null){const a=Hu(i);t[o]=()=>a}}},Ap=(e,t)=>{const r=Hu(t);e.slots.default=()=>r},Jy=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=rt(t),Ns(t,"_",r)):Rp(t,e.slots={})}else e.slots={},t&&Ap(e,t);Ns(e.slots,Sa,1)},Qy=(e,t,r)=>{const{vnode:n,slots:o}=e;let i=!0,a=vt;if(n.shapeFlag&32){const d=t._;d?r&&d===1?i=!1:(wt(o,t),!r&&d===1&&delete o._):(i=!t.$stable,Rp(t,o)),a=t}else t&&(Ap(e,t),a={default:1});if(i)for(const d in o)!Tp(d)&&!(d in a)&&delete o[d]};function Gl(e,t,r,n,o=!1){if(We(e)){e.forEach((f,_)=>Gl(f,t&&(We(t)?t[_]:t),r,n,o));return}if(fi(n)&&!o)return;const i=n.shapeFlag&4?Ea(n.component)||n.component.proxy:n.el,a=o?null:i,{i:d,r:l}=e,s=t&&t.r,c=d.refs===vt?d.refs={}:d.refs,u=d.setupState;if(s!=null&&s!==l&&(Tt(s)?(c[s]=null,ot(u,s)&&(u[s]=null)):Ft(s)&&(s.value=null)),qe(l))dn(l,d,12,[a,c]);else{const f=Tt(l),_=Ft(l);if(f||_){const v=()=>{if(e.f){const b=f?ot(u,l)?u[l]:c[l]:l.value;o?We(b)&&Lu(b,i):We(b)?b.includes(i)||b.push(i):f?(c[l]=[i],ot(u,l)&&(u[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else f?(c[l]=a,ot(u,l)&&(u[l]=a)):_&&(l.value=a,e.k&&(c[e.k]=a))};a?(v.id=-1,qt(v,r)):v()}}}const qt=wy;function e1(e){return t1(e)}function t1(e,t){const r=Fl();r.__VUE__=!0;const{insert:n,remove:o,patchProp:i,createElement:a,createText:d,createComment:l,setText:s,setElementText:c,parentNode:u,nextSibling:f,setScopeId:_=Er,insertStaticContent:v}=e,b=(B,$,z,Y=null,j=null,K=null,te=!1,re=null,ue=!!$.dynamicChildren)=>{if(B===$)return;B&&!An(B,$)&&(Y=W(B),G(B,j,K,!0),B=null),$.patchFlag===-2&&(ue=!1,$.dynamicChildren=null);const{type:ie,ref:_e,shapeFlag:Se}=$;switch(ie){case Vi:g(B,$,z,Y);break;case Vt:m(B,$,z,Y);break;case As:B==null&&h($,z,Y,te);break;case Qe:T(B,$,z,Y,j,K,te,re,ue);break;default:Se&1?p(B,$,z,Y,j,K,te,re,ue):Se&6?L(B,$,z,Y,j,K,te,re,ue):(Se&64||Se&128)&&ie.process(B,$,z,Y,j,K,te,re,ue,q)}_e!=null&&j&&Gl(_e,B&&B.ref,K,$||B,!$)},g=(B,$,z,Y)=>{if(B==null)n($.el=d($.children),z,Y);else{const j=$.el=B.el;$.children!==B.children&&s(j,$.children)}},m=(B,$,z,Y)=>{B==null?n($.el=l($.children||""),z,Y):$.el=B.el},h=(B,$,z,Y)=>{[B.el,B.anchor]=v(B.children,$,z,Y,B.el,B.anchor)},x=({el:B,anchor:$},z,Y)=>{let j;for(;B&&B!==$;)j=f(B),n(B,z,Y),B=j;n($,z,Y)},y=({el:B,anchor:$})=>{let z;for(;B&&B!==$;)z=f(B),o(B),B=z;o($)},p=(B,$,z,Y,j,K,te,re,ue)=>{te=te||$.type==="svg",B==null?C($,z,Y,j,K,te,re,ue):A(B,$,j,K,te,re,ue)},C=(B,$,z,Y,j,K,te,re)=>{let ue,ie;const{type:_e,props:Se,shapeFlag:Ee,transition:Me,dirs:Ue}=B;if(ue=B.el=a(B.type,K,Se&&Se.is,Se),Ee&8?c(ue,B.children):Ee&16&&w(B.children,ue,null,Y,j,K&&_e!=="foreignObject",te,re),Ue&&Cn(B,null,Y,"created"),S(ue,B,B.scopeId,te,Y),Se){for(const Ne in Se)Ne!=="value"&&!Rs(Ne)&&i(ue,Ne,null,Se[Ne],K,B.children,Y,j,ee);"value"in Se&&i(ue,"value",null,Se.value),(ie=Se.onVnodeBeforeMount)&&Ar(ie,Y,B)}Ue&&Cn(B,null,Y,"beforeMount");const Ve=(!j||j&&!j.pendingBranch)&&Me&&!Me.persisted;Ve&&Me.beforeEnter(ue),n(ue,$,z),((ie=Se&&Se.onVnodeMounted)||Ve||Ue)&&qt(()=>{ie&&Ar(ie,Y,B),Ve&&Me.enter(ue),Ue&&Cn(B,null,Y,"mounted")},j)},S=(B,$,z,Y,j)=>{if(z&&_(B,z),Y)for(let K=0;K<Y.length;K++)_(B,Y[K]);if(j){let K=j.subTree;if($===K){const te=j.vnode;S(B,te,te.scopeId,te.slotScopeIds,j.parent)}}},w=(B,$,z,Y,j,K,te,re,ue=0)=>{for(let ie=ue;ie<B.length;ie++){const _e=B[ie]=re?an(B[ie]):kr(B[ie]);b(null,_e,$,z,Y,j,K,te,re)}},A=(B,$,z,Y,j,K,te)=>{const re=$.el=B.el;let{patchFlag:ue,dynamicChildren:ie,dirs:_e}=$;ue|=B.patchFlag&16;const Se=B.props||vt,Ee=$.props||vt;let Me;z&&Sn(z,!1),(Me=Ee.onVnodeBeforeUpdate)&&Ar(Me,z,$,B),_e&&Cn($,B,z,"beforeUpdate"),z&&Sn(z,!0);const Ue=j&&$.type!=="foreignObject";if(ie?E(B.dynamicChildren,ie,re,z,Y,Ue,K):te||M(B,$,re,null,z,Y,Ue,K,!1),ue>0){if(ue&16)R(re,$,Se,Ee,z,Y,j);else if(ue&2&&Se.class!==Ee.class&&i(re,"class",null,Ee.class,j),ue&4&&i(re,"style",Se.style,Ee.style,j),ue&8){const Ve=$.dynamicProps;for(let Ne=0;Ne<Ve.length;Ne++){const Ze=Ve[Ne],se=Se[Ze],me=Ee[Ze];(me!==se||Ze==="value")&&i(re,Ze,se,me,j,B.children,z,Y,ee)}}ue&1&&B.children!==$.children&&c(re,$.children)}else!te&&ie==null&&R(re,$,Se,Ee,z,Y,j);((Me=Ee.onVnodeUpdated)||_e)&&qt(()=>{Me&&Ar(Me,z,$,B),_e&&Cn($,B,z,"updated")},Y)},E=(B,$,z,Y,j,K,te)=>{for(let re=0;re<$.length;re++){const ue=B[re],ie=$[re],_e=ue.el&&(ue.type===Qe||!An(ue,ie)||ue.shapeFlag&70)?u(ue.el):z;b(ue,ie,_e,null,Y,j,K,te,!0)}},R=(B,$,z,Y,j,K,te)=>{if(z!==Y){if(z!==vt)for(const re in z)!Rs(re)&&!(re in Y)&&i(B,re,z[re],null,te,$.children,j,K,ee);for(const re in Y){if(Rs(re))continue;const ue=Y[re],ie=z[re];ue!==ie&&re!=="value"&&i(B,re,ie,ue,te,$.children,j,K,ee)}"value"in Y&&i(B,"value",z.value,Y.value)}},T=(B,$,z,Y,j,K,te,re,ue)=>{const ie=$.el=B?B.el:d(""),_e=$.anchor=B?B.anchor:d("");let{patchFlag:Se,dynamicChildren:Ee,slotScopeIds:Me}=$;Me&&(re=re?re.concat(Me):Me),B==null?(n(ie,z,Y),n(_e,z,Y),w($.children,z,_e,j,K,te,re,ue)):Se>0&&Se&64&&Ee&&B.dynamicChildren?(E(B.dynamicChildren,Ee,z,j,K,te,re),($.key!=null||j&&$===j.subTree)&&Wu(B,$,!0)):M(B,$,z,_e,j,K,te,re,ue)},L=(B,$,z,Y,j,K,te,re,ue)=>{$.slotScopeIds=re,B==null?$.shapeFlag&512?j.ctx.activate($,z,Y,te,ue):P($,z,Y,j,K,te,ue):k(B,$,ue)},P=(B,$,z,Y,j,K,te)=>{const re=B.component=d1(B,Y,j);if(ya(B)&&(re.ctx.renderer=q),f1(re),re.asyncDep){if(j&&j.registerDep(re,D),!B.el){const ue=re.subTree=fe(Vt);m(null,ue,$,z)}return}D(re,B,$,z,j,K,te)},k=(B,$,z)=>{const Y=$.component=B.component;if(Cy(B,$,z))if(Y.asyncDep&&!Y.asyncResolved){O(Y,$,z);return}else Y.next=$,vy(Y.update),Y.update();else $.el=B.el,Y.vnode=$},D=(B,$,z,Y,j,K,te)=>{const re=()=>{if(B.isMounted){let{next:_e,bu:Se,u:Ee,parent:Me,vnode:Ue}=B,Ve=_e,Ne;Sn(B,!1),_e?(_e.el=Ue.el,O(B,_e,te)):_e=Ue,Se&&Xa(Se),(Ne=_e.props&&_e.props.onVnodeBeforeUpdate)&&Ar(Ne,Me,_e,Ue),Sn(B,!0);const Ze=qa(B),se=B.subTree;B.subTree=Ze,b(se,Ze,u(se.el),W(se),B,j,K),_e.el=Ze.el,Ve===null&&Sy(B,Ze.el),Ee&&qt(Ee,j),(Ne=_e.props&&_e.props.onVnodeUpdated)&&qt(()=>Ar(Ne,Me,_e,Ue),j)}else{let _e;const{el:Se,props:Ee}=$,{bm:Me,m:Ue,parent:Ve}=B,Ne=fi($);if(Sn(B,!1),Me&&Xa(Me),!Ne&&(_e=Ee&&Ee.onVnodeBeforeMount)&&Ar(_e,Ve,$),Sn(B,!0),Se&&we){const Ze=()=>{B.subTree=qa(B),we(Se,B.subTree,B,j,null)};Ne?$.type.__asyncLoader().then(()=>!B.isUnmounted&&Ze()):Ze()}else{const Ze=B.subTree=qa(B);b(null,Ze,z,Y,B,j,K),$.el=Ze.el}if(Ue&&qt(Ue,j),!Ne&&(_e=Ee&&Ee.onVnodeMounted)){const Ze=$;qt(()=>Ar(_e,Ve,Ze),j)}($.shapeFlag&256||Ve&&fi(Ve.vnode)&&Ve.vnode.shapeFlag&256)&&B.a&&qt(B.a,j),B.isMounted=!0,$=z=Y=null}},ue=B.effect=new Du(re,()=>Uu(ie),B.scope),ie=B.update=()=>ue.run();ie.id=B.uid,Sn(B,!0),ie()},O=(B,$,z)=>{$.component=B;const Y=B.vnode.props;B.vnode=$,B.next=null,qy(B,$.props,Y,z),Qy(B,$.children,z),Oo(),Xc(),Do()},M=(B,$,z,Y,j,K,te,re,ue=!1)=>{const ie=B&&B.children,_e=B?B.shapeFlag:0,Se=$.children,{patchFlag:Ee,shapeFlag:Me}=$;if(Ee>0){if(Ee&128){N(ie,Se,z,Y,j,K,te,re,ue);return}else if(Ee&256){F(ie,Se,z,Y,j,K,te,re,ue);return}}Me&8?(_e&16&&ee(ie,j,K),Se!==ie&&c(z,Se)):_e&16?Me&16?N(ie,Se,z,Y,j,K,te,re,ue):ee(ie,j,K,!0):(_e&8&&c(z,""),Me&16&&w(Se,z,Y,j,K,te,re,ue))},F=(B,$,z,Y,j,K,te,re,ue)=>{B=B||bo,$=$||bo;const ie=B.length,_e=$.length,Se=Math.min(ie,_e);let Ee;for(Ee=0;Ee<Se;Ee++){const Me=$[Ee]=ue?an($[Ee]):kr($[Ee]);b(B[Ee],Me,z,null,j,K,te,re,ue)}ie>_e?ee(B,j,K,!0,!1,Se):w($,z,Y,j,K,te,re,ue,Se)},N=(B,$,z,Y,j,K,te,re,ue)=>{let ie=0;const _e=$.length;let Se=B.length-1,Ee=_e-1;for(;ie<=Se&&ie<=Ee;){const Me=B[ie],Ue=$[ie]=ue?an($[ie]):kr($[ie]);if(An(Me,Ue))b(Me,Ue,z,null,j,K,te,re,ue);else break;ie++}for(;ie<=Se&&ie<=Ee;){const Me=B[Se],Ue=$[Ee]=ue?an($[Ee]):kr($[Ee]);if(An(Me,Ue))b(Me,Ue,z,null,j,K,te,re,ue);else break;Se--,Ee--}if(ie>Se){if(ie<=Ee){const Me=Ee+1,Ue=Me<_e?$[Me].el:Y;for(;ie<=Ee;)b(null,$[ie]=ue?an($[ie]):kr($[ie]),z,Ue,j,K,te,re,ue),ie++}}else if(ie>Ee)for(;ie<=Se;)G(B[ie],j,K,!0),ie++;else{const Me=ie,Ue=ie,Ve=new Map;for(ie=Ue;ie<=Ee;ie++){const Oe=$[ie]=ue?an($[ie]):kr($[ie]);Oe.key!=null&&Ve.set(Oe.key,ie)}let Ne,Ze=0;const se=Ee-Ue+1;let me=!1,xe=0;const Le=new Array(se);for(ie=0;ie<se;ie++)Le[ie]=0;for(ie=Me;ie<=Se;ie++){const Oe=B[ie];if(Ze>=se){G(Oe,j,K,!0);continue}let ce;if(Oe.key!=null)ce=Ve.get(Oe.key);else for(Ne=Ue;Ne<=Ee;Ne++)if(Le[Ne-Ue]===0&&An(Oe,$[Ne])){ce=Ne;break}ce===void 0?G(Oe,j,K,!0):(Le[ce-Ue]=ie+1,ce>=xe?xe=ce:me=!0,b(Oe,$[ce],z,null,j,K,te,re,ue),Ze++)}const Fe=me?r1(Le):bo;for(Ne=Fe.length-1,ie=se-1;ie>=0;ie--){const Oe=Ue+ie,ce=$[Oe],Re=Oe+1<_e?$[Oe+1].el:Y;Le[ie]===0?b(null,ce,z,Re,j,K,te,re,ue):me&&(Ne<0||ie!==Fe[Ne]?U(ce,z,Re,2):Ne--)}}},U=(B,$,z,Y,j=null)=>{const{el:K,type:te,transition:re,children:ue,shapeFlag:ie}=B;if(ie&6){U(B.component.subTree,$,z,Y);return}if(ie&128){B.suspense.move($,z,Y);return}if(ie&64){te.move(B,$,z,q);return}if(te===Qe){n(K,$,z);for(let Se=0;Se<ue.length;Se++)U(ue[Se],$,z,Y);n(B.anchor,$,z);return}if(te===As){x(B,$,z);return}if(Y!==2&&ie&1&&re)if(Y===0)re.beforeEnter(K),n(K,$,z),qt(()=>re.enter(K),j);else{const{leave:Se,delayLeave:Ee,afterLeave:Me}=re,Ue=()=>n(K,$,z),Ve=()=>{Se(K,()=>{Ue(),Me&&Me()})};Ee?Ee(K,Ue,Ve):Ve()}else n(K,$,z)},G=(B,$,z,Y=!1,j=!1)=>{const{type:K,props:te,ref:re,children:ue,dynamicChildren:ie,shapeFlag:_e,patchFlag:Se,dirs:Ee}=B;if(re!=null&&Gl(re,null,z,B,!0),_e&256){$.ctx.deactivate(B);return}const Me=_e&1&&Ee,Ue=!fi(B);let Ve;if(Ue&&(Ve=te&&te.onVnodeBeforeUnmount)&&Ar(Ve,$,B),_e&6)de(B.component,z,Y);else{if(_e&128){B.suspense.unmount(z,Y);return}Me&&Cn(B,null,$,"beforeUnmount"),_e&64?B.type.remove(B,$,z,j,q,Y):ie&&(K!==Qe||Se>0&&Se&64)?ee(ie,$,z,!1,!0):(K===Qe&&Se&384||!j&&_e&16)&&ee(ue,$,z),Y&&H(B)}(Ue&&(Ve=te&&te.onVnodeUnmounted)||Me)&&qt(()=>{Ve&&Ar(Ve,$,B),Me&&Cn(B,null,$,"unmounted")},z)},H=B=>{const{type:$,el:z,anchor:Y,transition:j}=B;if($===Qe){Z(z,Y);return}if($===As){y(B);return}const K=()=>{o(z),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(B.shapeFlag&1&&j&&!j.persisted){const{leave:te,delayLeave:re}=j,ue=()=>te(z,K);re?re(B.el,K,ue):ue()}else K()},Z=(B,$)=>{let z;for(;B!==$;)z=f(B),o(B),B=z;o($)},de=(B,$,z)=>{const{bum:Y,scope:j,update:K,subTree:te,um:re}=B;Y&&Xa(Y),j.stop(),K&&(K.active=!1,G(te,B,$,z)),re&&qt(re,$),qt(()=>{B.isUnmounted=!0},$),$&&$.pendingBranch&&!$.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===$.pendingId&&($.deps--,$.deps===0&&$.resolve())},ee=(B,$,z,Y=!1,j=!1,K=0)=>{for(let te=K;te<B.length;te++)G(B[te],$,z,Y,j)},W=B=>B.shapeFlag&6?W(B.component.subTree):B.shapeFlag&128?B.suspense.next():f(B.anchor||B.el),ae=(B,$,z)=>{B==null?$._vnode&&G($._vnode,null,null,!0):b($._vnode||null,B,$,null,null,null,z),Xc(),cp(),$._vnode=B},q={p:b,um:G,m:U,r:H,mt:P,mc:w,pc:M,pbc:E,n:W,o:e};let pe,we;return t&&([pe,we]=t(q)),{render:ae,hydrate:pe,createApp:Yy(ae,pe)}}function Sn({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Wu(e,t,r=!1){const n=e.children,o=t.children;if(We(n)&&We(o))for(let i=0;i<n.length;i++){const a=n[i];let d=o[i];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=o[i]=an(o[i]),d.el=a.el),r||Wu(a,d)),d.type===Vi&&(d.el=a.el)}}function r1(e){const t=e.slice(),r=[0];let n,o,i,a,d;const l=e.length;for(n=0;n<l;n++){const s=e[n];if(s!==0){if(o=r[r.length-1],e[o]<s){t[n]=o,r.push(n);continue}for(i=0,a=r.length-1;i<a;)d=i+a>>1,e[r[d]]<s?i=d+1:a=d;s<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}for(i=r.length,a=r[i-1];i-- >0;)r[i]=a,a=t[a];return r}const n1=e=>e.__isTeleport,pi=e=>e&&(e.disabled||e.disabled===""),ad=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Vl=(e,t)=>{const r=e&&e.to;return Tt(r)?t?t(r):null:r},o1={__isTeleport:!0,process(e,t,r,n,o,i,a,d,l,s){const{mc:c,pc:u,pbc:f,o:{insert:_,querySelector:v,createText:b,createComment:g}}=s,m=pi(t.props);let{shapeFlag:h,children:x,dynamicChildren:y}=t;if(e==null){const p=t.el=b(""),C=t.anchor=b("");_(p,r,n),_(C,r,n);const S=t.target=Vl(t.props,v),w=t.targetAnchor=b("");S&&(_(w,S),a=a||ad(S));const A=(E,R)=>{h&16&&c(x,E,R,o,i,a,d,l)};m?A(r,C):S&&A(S,w)}else{t.el=e.el;const p=t.anchor=e.anchor,C=t.target=e.target,S=t.targetAnchor=e.targetAnchor,w=pi(e.props),A=w?r:C,E=w?p:S;if(a=a||ad(C),y?(f(e.dynamicChildren,y,A,o,i,a,d),Wu(e,t,!0)):l||u(e,t,A,E,o,i,a,d,!1),m)w||ds(t,r,p,s,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const R=t.target=Vl(t.props,v);R&&ds(t,R,null,s,0)}else w&&ds(t,C,S,s,1)}Lp(t)},remove(e,t,r,n,{um:o,o:{remove:i}},a){const{shapeFlag:d,children:l,anchor:s,targetAnchor:c,target:u,props:f}=e;if(u&&i(c),(a||!pi(f))&&(i(s),d&16))for(let _=0;_<l.length;_++){const v=l[_];o(v,t,r,!0,!!v.dynamicChildren)}},move:ds,hydrate:i1};function ds(e,t,r,{o:{insert:n},m:o},i=2){i===0&&n(e.targetAnchor,t,r);const{el:a,anchor:d,shapeFlag:l,children:s,props:c}=e,u=i===2;if(u&&n(a,t,r),(!u||pi(c))&&l&16)for(let f=0;f<s.length;f++)o(s[f],t,r,2);u&&n(d,t,r)}function i1(e,t,r,n,o,i,{o:{nextSibling:a,parentNode:d,querySelector:l}},s){const c=t.target=Vl(t.props,l);if(c){const u=c._lpa||c.firstChild;if(t.shapeFlag&16)if(pi(t.props))t.anchor=s(a(e),t,d(e),r,n,o,i),t.targetAnchor=u;else{t.anchor=a(e);let f=u;for(;f;)if(f=a(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,c._lpa=t.targetAnchor&&a(t.targetAnchor);break}s(u,t,c,r,n,o,i)}Lp(t)}return t.anchor&&a(t.anchor)}const Gu=o1;function Lp(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;for(;r!==e.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}const Qe=Symbol.for("v-fgt"),Vi=Symbol.for("v-txt"),Vt=Symbol.for("v-cmt"),As=Symbol.for("v-stc"),gi=[];let Sr=null;function je(e=!1){gi.push(Sr=e?null:[])}function s1(){gi.pop(),Sr=gi[gi.length-1]||null}let Li=1;function ld(e){Li+=e}function Pp(e){return e.dynamicChildren=Li>0?Sr||bo:null,s1(),Li>0&&Sr&&Sr.push(e),e}function Ye(e,t,r,n,o,i){return Pp(ge(e,t,r,n,o,i,!0))}function Hn(e,t,r,n,o){return Pp(fe(e,t,r,n,o,!0))}function Pi(e){return e?e.__v_isVNode===!0:!1}function An(e,t){return e.type===t.type&&e.key===t.key}const Sa="__vInternal",kp=({key:e})=>e??null,Ls=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Tt(e)||Ft(e)||qe(e)?{i:Nt,r:e,k:t,f:!!r}:e:null);function ge(e,t=null,r=null,n=0,o=null,i=e===Qe?0:1,a=!1,d=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&kp(t),ref:t&&Ls(t),scopeId:ma,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Nt};return d?(Vu(l,r),i&128&&e.normalize(l)):r&&(l.shapeFlag|=Tt(r)?8:16),Li>0&&!a&&Sr&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Sr.push(l),l}const fe=a1;function a1(e,t=null,r=null,n=0,o=null,i=!1){if((!e||e===By)&&(e=Vt),Pi(e)){const d=ir(e,t,!0);return r&&Vu(d,r),Li>0&&!i&&Sr&&(d.shapeFlag&6?Sr[Sr.indexOf(e)]=d:Sr.push(d)),d.patchFlag|=-2,d}if(v1(e)&&(e=e.__vccOpts),t){t=l1(t);let{class:d,style:l}=t;d&&!Tt(d)&&(t.class=Mr(d)),dt(l)&&(np(l)&&!We(l)&&(l=wt({},l)),t.style=dr(l))}const a=Tt(e)?1:Ey(e)?128:n1(e)?64:dt(e)?4:qe(e)?2:0;return ge(e,t,r,n,o,a,i,!0)}function l1(e){return e?np(e)||Sa in e?wt({},e):e:null}function ir(e,t,r=!1){const{props:n,ref:o,patchFlag:i,children:a}=e,d=t?sr(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&kp(d),ref:t&&t.ref?r&&o?We(o)?o.concat(Ls(t)):[o,Ls(t)]:Ls(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Qe?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ir(e.ssContent),ssFallback:e.ssFallback&&ir(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Xe(e=" ",t=0){return fe(Vi,null,e,t)}function Ot(e="",t=!1){return t?(je(),Hn(Vt,null,e)):fe(Vt,null,e)}function kr(e){return e==null||typeof e=="boolean"?fe(Vt):We(e)?fe(Qe,null,e.slice()):typeof e=="object"?an(e):fe(Vi,null,String(e))}function an(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ir(e)}function Vu(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(We(t))r=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),Vu(e,o()),o._c&&(o._d=!0));return}else{r=32;const o=t._;!o&&!(Sa in t)?t._ctx=Nt:o===3&&Nt&&(Nt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else qe(t)?(t={default:t,_ctx:Nt},r=32):(t=String(t),n&64?(r=16,t=[Xe(t)]):r=8);e.children=t,e.shapeFlag|=r}function sr(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=Mr([t.class,n.class]));else if(o==="style")t.style=dr([t.style,n.style]);else if(ca(o)){const i=t[o],a=n[o];a&&i!==a&&!(We(i)&&i.includes(a))&&(t[o]=i?[].concat(i,a):a)}else o!==""&&(t[o]=n[o])}return t}function Ar(e,t,r,n=null){fr(e,t,7,[r,n])}const u1=Sp();let c1=0;function d1(e,t,r){const n=e.type,o=(t?t.appContext:e.appContext)||u1,i={uid:c1++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Pb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wp(n,o),emitsOptions:fp(n,o),emit:null,emitted:null,propsDefaults:vt,inheritAttrs:n.inheritAttrs,ctx:vt,data:vt,props:vt,attrs:vt,slots:vt,refs:vt,setupState:vt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=yy.bind(null,i),e.ce&&e.ce(i),i}let Mt=null;const ar=()=>Mt||Nt;let Ku,so,ud="__VUE_INSTANCE_SETTERS__";(so=Fl()[ud])||(so=Fl()[ud]=[]),so.push(e=>Mt=e),Ku=e=>{so.length>1?so.forEach(t=>t(e)):so[0](e)};const To=e=>{Ku(e),e.scope.on()},Nn=()=>{Mt&&Mt.scope.off(),Ku(null)};function Op(e){return e.vnode.shapeFlag&4}let ki=!1;function f1(e,t=!1){ki=t;const{props:r,children:n}=e.vnode,o=Op(e);Xy(e,r,o,t),Jy(e,n);const i=o?h1(e,t):void 0;return ki=!1,i}function h1(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=zs(new Proxy(e.ctx,$y));const{setup:n}=r;if(n){const o=e.setupContext=n.length>1?Ip(e):null;To(e),Oo();const i=dn(n,e,0,[e.props,o]);if(Do(),Nn(),zh(i)){if(i.then(Nn,Nn),t)return i.then(a=>{cd(e,a,t)}).catch(a=>{ga(a,e,0)});e.asyncDep=i}else cd(e,i,t)}else Dp(e,t)}function cd(e,t,r){qe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:dt(t)&&(e.setupState=ap(t)),Dp(e,r)}let dd;function Dp(e,t,r){const n=e.type;if(!e.render){if(!t&&dd&&!n.render){const o=n.template||ju(e).template;if(o){const{isCustomElement:i,compilerOptions:a}=e.appContext.config,{delimiters:d,compilerOptions:l}=n,s=wt(wt({isCustomElement:i,delimiters:d},a),l);n.render=dd(o,s)}}e.render=n.render||Er}To(e),Oo(),jy(e),Do(),Nn()}function p1(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return Zt(e,"get","$attrs"),t[r]}}))}function Ip(e){const t=r=>{e.exposed=r||{}};return{get attrs(){return p1(e)},slots:e.slots,emit:e.emit,expose:t}}function Ea(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ap(zs(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in hi)return hi[r](e)},has(t,r){return r in t||r in hi}}))}function g1(e,t=!0){return qe(e)?e.displayName||e.name:e.name||t&&e.__name}function v1(e){return qe(e)&&"__vccOpts"in e}const ne=(e,t)=>hy(e,t,ki);function I(e,t,r){const n=arguments.length;return n===2?dt(t)&&!We(t)?Pi(t)?fe(e,null,[t]):fe(e,t):fe(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Pi(r)&&(r=[r]),fe(e,t,r))}const m1=Symbol.for("v-scx"),b1=()=>$e(m1),Yu="3.3.4",y1="http://www.w3.org/2000/svg",Ln=typeof document<"u"?document:null,fd=Ln&&Ln.createElement("template"),x1={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const o=t?Ln.createElementNS(y1,e):Ln.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>Ln.createTextNode(e),createComment:e=>Ln.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ln.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,o,i){const a=r?r.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),r),!(o===i||!(o=o.nextSibling)););else{fd.innerHTML=n?`<svg>${e}</svg>`:e;const d=fd.content;if(n){const l=d.firstChild;for(;l.firstChild;)d.appendChild(l.firstChild);d.removeChild(l)}t.insertBefore(d,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function _1(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function C1(e,t,r){const n=e.style,o=Tt(r);if(r&&!o){if(t&&!Tt(t))for(const i in t)r[i]==null&&Kl(n,i,"");for(const i in r)Kl(n,i,r[i])}else{const i=n.display;o?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=i)}}const hd=/\s*!important$/;function Kl(e,t,r){if(We(r))r.forEach(n=>Kl(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=S1(e,t);hd.test(r)?e.setProperty(Yn(n),r.replace(hd,""),"important"):e[n]=r}}const pd=["Webkit","Moz","ms"],Qa={};function S1(e,t){const r=Qa[t];if(r)return r;let n=Nr(t);if(n!=="filter"&&n in e)return Qa[t]=n;n=ha(n);for(let o=0;o<pd.length;o++){const i=pd[o]+n;if(i in e)return Qa[t]=i}return t}const gd="http://www.w3.org/1999/xlink";function E1(e,t,r,n,o){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(gd,t.slice(6,t.length)):e.setAttributeNS(gd,t,r);else{const i=Lb(t);r==null||i&&!Wh(r)?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}function w1(e,t,r,n,o,i,a){if(t==="innerHTML"||t==="textContent"){n&&a(n,o,i),e[t]=r??"";return}const d=e.tagName;if(t==="value"&&d!=="PROGRESS"&&!d.includes("-")){e._value=r;const s=d==="OPTION"?e.getAttribute("value"):e.value,c=r??"";s!==c&&(e.value=c),r==null&&e.removeAttribute(t);return}let l=!1;if(r===""||r==null){const s=typeof e[t];s==="boolean"?r=Wh(r):r==null&&s==="string"?(r="",l=!0):s==="number"&&(r=0,l=!0)}try{e[t]=r}catch{}l&&e.removeAttribute(t)}function T1(e,t,r,n){e.addEventListener(t,r,n)}function R1(e,t,r,n){e.removeEventListener(t,r,n)}function A1(e,t,r,n,o=null){const i=e._vei||(e._vei={}),a=i[t];if(n&&a)a.value=n;else{const[d,l]=L1(t);if(n){const s=i[t]=O1(n,o);T1(e,d,s,l)}else a&&(R1(e,d,a,l),i[t]=void 0)}}const vd=/(?:Once|Passive|Capture)$/;function L1(e){let t;if(vd.test(e)){t={};let n;for(;n=e.match(vd);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Yn(e.slice(2)),t]}let el=0;const P1=Promise.resolve(),k1=()=>el||(P1.then(()=>el=0),el=Date.now());function O1(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;fr(D1(n,r.value),t,5,[n])};return r.value=e,r.attached=k1(),r}function D1(e,t){if(We(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const md=/^on[a-z]/,I1=(e,t,r,n,o=!1,i,a,d,l)=>{t==="class"?_1(e,n,o):t==="style"?C1(e,r,n):ca(t)?Au(t)||A1(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):M1(e,t,n,o))?w1(e,t,n,i,a,d,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),E1(e,t,n,o))};function M1(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&md.test(t)&&qe(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||md.test(t)&&Tt(r)?!1:t in e}function Xu(e){const t=ar();if(!t)return;const r=t.ut=(o=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(i=>Xl(i,o))},n=()=>{const o=e(t.proxy);Yl(t.subTree,o),r(o)};Ty(n),Rt(()=>{const o=new MutationObserver(n);o.observe(t.subTree.el.parentNode,{childList:!0}),Xn(()=>o.disconnect())})}function Yl(e,t){if(e.shapeFlag&128){const r=e.suspense;e=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Yl(r.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Xl(e.el,t);else if(e.type===Qe)e.children.forEach(r=>Yl(r,t));else if(e.type===As){let{el:r,anchor:n}=e;for(;r&&(Xl(r,t),r!==n);)r=r.nextSibling}}function Xl(e,t){if(e.nodeType===1){const r=e.style;for(const n in t)r.setProperty(`--${n}`,t[n])}}const en="transition",Yo="animation",Ut=(e,{slots:t})=>I(Ly,Fp(e),t);Ut.displayName="Transition";const Mp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},F1=Ut.props=wt({},gp,Mp),En=(e,t=[])=>{We(e)?e.forEach(r=>r(...t)):e&&e(...t)},bd=e=>e?We(e)?e.some(t=>t.length>1):e.length>1:!1;function Fp(e){const t={};for(const T in e)T in Mp||(t[T]=e[T]);if(e.css===!1)return t;const{name:r="v",type:n,duration:o,enterFromClass:i=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:d=`${r}-enter-to`,appearFromClass:l=i,appearActiveClass:s=a,appearToClass:c=d,leaveFromClass:u=`${r}-leave-from`,leaveActiveClass:f=`${r}-leave-active`,leaveToClass:_=`${r}-leave-to`}=e,v=B1(o),b=v&&v[0],g=v&&v[1],{onBeforeEnter:m,onEnter:h,onEnterCancelled:x,onLeave:y,onLeaveCancelled:p,onBeforeAppear:C=m,onAppear:S=h,onAppearCancelled:w=x}=t,A=(T,L,P)=>{sn(T,L?c:d),sn(T,L?s:a),P&&P()},E=(T,L)=>{T._isLeaving=!1,sn(T,u),sn(T,_),sn(T,f),L&&L()},R=T=>(L,P)=>{const k=T?S:h,D=()=>A(L,T,P);En(k,[L,D]),yd(()=>{sn(L,T?l:i),Hr(L,T?c:d),bd(k)||xd(L,n,b,D)})};return wt(t,{onBeforeEnter(T){En(m,[T]),Hr(T,i),Hr(T,a)},onBeforeAppear(T){En(C,[T]),Hr(T,l),Hr(T,s)},onEnter:R(!1),onAppear:R(!0),onLeave(T,L){T._isLeaving=!0;const P=()=>E(T,L);Hr(T,u),Np(),Hr(T,f),yd(()=>{T._isLeaving&&(sn(T,u),Hr(T,_),bd(y)||xd(T,n,g,P))}),En(y,[T,P])},onEnterCancelled(T){A(T,!1),En(x,[T])},onAppearCancelled(T){A(T,!0),En(w,[T])},onLeaveCancelled(T){E(T),En(p,[T])}})}function B1(e){if(e==null)return null;if(dt(e))return[tl(e.enter),tl(e.leave)];{const t=tl(e);return[t,t]}}function tl(e){return Sb(e)}function Hr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e._vtc||(e._vtc=new Set)).add(t)}function sn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function yd(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let N1=0;function xd(e,t,r,n){const o=e._endId=++N1,i=()=>{o===e._endId&&n()};if(r)return setTimeout(i,r);const{type:a,timeout:d,propCount:l}=Bp(e,t);if(!a)return n();const s=a+"end";let c=0;const u=()=>{e.removeEventListener(s,f),i()},f=_=>{_.target===e&&++c>=l&&u()};setTimeout(()=>{c<l&&u()},d+1),e.addEventListener(s,f)}function Bp(e,t){const r=window.getComputedStyle(e),n=v=>(r[v]||"").split(", "),o=n(`${en}Delay`),i=n(`${en}Duration`),a=_d(o,i),d=n(`${Yo}Delay`),l=n(`${Yo}Duration`),s=_d(d,l);let c=null,u=0,f=0;t===en?a>0&&(c=en,u=a,f=i.length):t===Yo?s>0&&(c=Yo,u=s,f=l.length):(u=Math.max(a,s),c=u>0?a>s?en:Yo:null,f=c?c===en?i.length:l.length:0);const _=c===en&&/\b(transform|all)(,|$)/.test(n(`${en}Property`).toString());return{type:c,timeout:u,propCount:f,hasTransform:_}}function _d(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>Cd(r)+Cd(e[n])))}function Cd(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Np(){return document.body.offsetHeight}const $p=new WeakMap,Up=new WeakMap,zp={name:"TransitionGroup",props:wt({},F1,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=ar(),n=pp();let o,i;return bp(()=>{if(!o.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!H1(o[0].el,r.vnode.el,a))return;o.forEach(U1),o.forEach(z1);const d=o.filter(j1);Np(),d.forEach(l=>{const s=l.el,c=s.style;Hr(s,a),c.transform=c.webkitTransform=c.transitionDuration="";const u=s._moveCb=f=>{f&&f.target!==s||(!f||/transform$/.test(f.propertyName))&&(s.removeEventListener("transitionend",u),s._moveCb=null,sn(s,a))};s.addEventListener("transitionend",u)})}),()=>{const a=rt(e),d=Fp(a);let l=a.tag||Qe;o=i,i=t.default?zu(t.default()):[];for(let s=0;s<i.length;s++){const c=i[s];c.key!=null&&Ai(c,Ri(c,d,n,r))}if(o)for(let s=0;s<o.length;s++){const c=o[s];Ai(c,Ri(c,d,n,r)),$p.set(c,c.el.getBoundingClientRect())}return fe(l,null,i)}}},$1=e=>delete e.mode;zp.props;const qu=zp;function U1(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function z1(e){Up.set(e,e.el.getBoundingClientRect())}function j1(e){const t=$p.get(e),r=Up.get(e),n=t.left-r.left,o=t.top-r.top;if(n||o){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${o}px)`,i.transitionDuration="0s",e}}function H1(e,t,r){const n=e.cloneNode();e._vtc&&e._vtc.forEach(a=>{a.split(/\s+/).forEach(d=>d&&n.classList.remove(d))}),r.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(n);const{hasTransform:i}=Bp(n);return o.removeChild(n),i}const W1=["ctrl","shift","alt","meta"],G1={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>W1.some(r=>e[`${r}Key`]&&!t.includes(r))},V1=(e,t)=>(r,...n)=>{for(let o=0;o<t.length;o++){const i=G1[t[o]];if(i&&i(r,t))return}return e(r,...n)},K1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Xo=(e,t)=>r=>{if(!("key"in r))return;const n=Yn(r.key);if(t.some(o=>o===n||K1[o]===n))return e(r)},Lt={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):qo(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),qo(e,!0),n.enter(e)):n.leave(e,()=>{qo(e,!1)}):qo(e,t))},beforeUnmount(e,{value:t}){qo(e,t)}};function qo(e,t){e.style.display=t?e._vod:"none"}const Y1=wt({patchProp:I1},x1);let Sd;function X1(){return Sd||(Sd=e1(Y1))}const q1=(...e)=>{const t=X1().createApp(...e),{mount:r}=t;return t.mount=n=>{const o=Z1(n);if(!o)return;const i=t._component;!qe(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const a=r(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function Z1(e){return Tt(e)?document.querySelector(e):e}function ql(e,t={},r){for(const n in e){const o=e[n],i=r?`${r}:${n}`:n;typeof o=="object"&&o!==null?ql(o,t,i):typeof o=="function"&&(t[i]=o)}return t}const J1={run:e=>e()},Q1=()=>J1,jp=typeof console.createTask<"u"?console.createTask:Q1;function ex(e,t){const r=t.shift(),n=jp(r);return e.reduce((o,i)=>o.then(()=>n.run(()=>i(...t))),Promise.resolve())}function tx(e,t){const r=t.shift(),n=jp(r);return Promise.all(e.map(o=>n.run(()=>o(...t))))}function rl(e,t){for(const r of[...e])r(t)}class rx{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,r,n={}){if(!t||typeof r!="function")return()=>{};const o=t;let i;for(;this._deprecatedHooks[t];)i=this._deprecatedHooks[t],t=i.to;if(i&&!n.allowDeprecated){let a=i.message;a||(a=`${o} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(a)||(console.warn(a),this._deprecatedMessages.add(a))}if(!r.name)try{Object.defineProperty(r,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(r),()=>{r&&(this.removeHook(t,r),r=void 0)}}hookOnce(t,r){let n,o=(...i)=>(typeof n=="function"&&n(),n=void 0,o=void 0,r(...i));return n=this.hook(t,o),n}removeHook(t,r){if(this._hooks[t]){const n=this._hooks[t].indexOf(r);n!==-1&&this._hooks[t].splice(n,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,r){this._deprecatedHooks[t]=typeof r=="string"?{to:r}:r;const n=this._hooks[t]||[];delete this._hooks[t];for(const o of n)this.hook(t,o)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const r in t)this.deprecateHook(r,t[r])}addHooks(t){const r=ql(t),n=Object.keys(r).map(o=>this.hook(o,r[o]));return()=>{for(const o of n.splice(0,n.length))o()}}removeHooks(t){const r=ql(t);for(const n in r)this.removeHook(n,r[n])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...r){return r.unshift(t),this.callHookWith(ex,t,...r)}callHookParallel(t,...r){return r.unshift(t),this.callHookWith(tx,t,...r)}callHookWith(t,r,...n){const o=this._before||this._after?{name:r,args:n,context:{}}:void 0;this._before&&rl(this._before,o);const i=t(r in this._hooks?[...this._hooks[r]]:[],n);return i instanceof Promise?i.finally(()=>{this._after&&o&&rl(this._after,o)}):(this._after&&o&&rl(this._after,o),i)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const r=this._before.indexOf(t);r!==-1&&this._before.splice(r,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const r=this._after.indexOf(t);r!==-1&&this._after.splice(r,1)}}}}function nx(){return new rx}function ox(e){return Array.isArray(e)?e:[e]}const Hp=["title","script","style","noscript"],Wp=["base","meta","link","style","script","noscript"],ix=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],sx=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],Ed=["tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent"];function Gp(e){let t=9;for(let r=0;r<e.length;)t=Math.imul(t^e.charCodeAt(r++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Zl(e){return Gp(`${e.tag}:${e.textContent||e.innerHTML||""}:${Object.entries(e.props).map(([t,r])=>`${t}:${String(r)}`).join(",")}`)}function ax(e){let t=9;for(const r of e)for(let n=0;n<r.length;)t=Math.imul(t^r.charCodeAt(n++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Vp(e,t){const{props:r,tag:n}=e;if(sx.includes(n))return n;if(n==="link"&&r.rel==="canonical")return"canonical";if(r.charset)return"charset";const o=["id"];n==="meta"&&o.push("name","property","http-equiv");for(const i of o)if(typeof r[i]<"u"){const a=String(r[i]);return t&&!t(a)?!1:`${n}:${i}:${a}`}return!1}function wd(e,t){return e==null?t||null:typeof e=="function"?e(t):e}function fs(e,t=!1,r){const{tag:n,$el:o}=e;o&&(Object.entries(n.props).forEach(([i,a])=>{a=String(a);const d=`attr:${i}`;if(i==="class"){if(!a)return;for(const l of a.split(" ")){const s=`${d}:${l}`;r&&r(e,s,()=>o.classList.remove(l)),o.classList.contains(l)||o.classList.add(l)}return}r&&!i.startsWith("data-h-")&&r(e,d,()=>o.removeAttribute(i)),(t||o.getAttribute(i)!==a)&&o.setAttribute(i,a)}),Hp.includes(n.tag)&&(n.textContent&&n.textContent!==o.textContent?o.textContent=n.textContent:n.innerHTML&&n.innerHTML!==o.innerHTML&&(o.innerHTML=n.innerHTML)))}let Zo=!1;async function Kp(e,t={}){var f,_;const r={shouldRender:!0};if(await e.hooks.callHook("dom:beforeRender",r),!r.shouldRender)return;const n=t.document||e.resolvedOptions.document||window.document,o=(await e.resolveTags()).map(d);if(e.resolvedOptions.experimentalHashHydration&&(Zo=Zo||e._hash||!1,Zo)){const v=ax(o.map(b=>b.tag._h));if(Zo===v)return;Zo=v}const i=e._popSideEffectQueue();e.headEntries().map(v=>v._sde).forEach(v=>{Object.entries(v).forEach(([b,g])=>{i[b]=g})});const a=(v,b,g)=>{b=`${v.renderId}:${b}`,v.entry&&(v.entry._sde[b]=g),delete i[b]};function d(v){const b=e.headEntries().find(m=>m._i===v._e),g={renderId:v._d||Zl(v),$el:null,shouldRender:!0,tag:v,entry:b,markSideEffect:(m,h)=>a(g,m,h)};return g}const l=[],s={body:[],head:[]},c=v=>{e._elMap[v.renderId]=v.$el,l.push(v),a(v,"el",()=>{var b;(b=v.$el)==null||b.remove(),delete e._elMap[v.renderId]})};for(const v of o){if(await e.hooks.callHook("dom:beforeRenderTag",v),!v.shouldRender)continue;const{tag:b}=v;if(b.tag==="title"){n.title=b.textContent||"",l.push(v);continue}if(b.tag==="htmlAttrs"||b.tag==="bodyAttrs"){v.$el=n[b.tag==="htmlAttrs"?"documentElement":"body"],fs(v,!1,a),l.push(v);continue}if(v.$el=e._elMap[v.renderId],!v.$el&&b.key&&(v.$el=n.querySelector(`${(f=b.tagPosition)!=null&&f.startsWith("body")?"body":"head"} > ${b.tag}[data-h-${b._h}]`)),v.$el){v.tag._d&&fs(v),c(v);continue}s[(_=b.tagPosition)!=null&&_.startsWith("body")?"body":"head"].push(v)}const u={bodyClose:void 0,bodyOpen:void 0,head:void 0};Object.entries(s).forEach(([v,b])=>{var m;if(!b.length)return;const g=(m=n==null?void 0:n[v])==null?void 0:m.children;if(g){for(const h of[...g].reverse()){const x=h.tagName.toLowerCase();if(!Wp.includes(x))continue;const y=h.getAttributeNames().reduce((w,A)=>({...w,[A]:h.getAttribute(A)}),{}),p={tag:x,props:y};h.innerHTML&&(p.innerHTML=h.innerHTML);const C=Zl(p);let S=b.findIndex(w=>(w==null?void 0:w.renderId)===C);if(S===-1){const w=Vp(p);S=b.findIndex(A=>(A==null?void 0:A.tag._d)&&A.tag._d===w)}if(S!==-1){const w=b[S];w.$el=h,fs(w),c(w),delete b[S]}}b.forEach(h=>{const x=h.tag.tagPosition||"head";u[x]=u[x]||n.createDocumentFragment(),h.$el||(h.$el=n.createElement(h.tag.tag),fs(h,!0)),u[x].appendChild(h.$el),c(h)})}}),u.head&&n.head.appendChild(u.head),u.bodyOpen&&n.body.insertBefore(u.bodyOpen,n.body.firstChild),u.bodyClose&&n.body.appendChild(u.bodyClose);for(const v of l)await e.hooks.callHook("dom:renderTag",v);Object.values(i).forEach(v=>v())}let nl=null;async function Yp(e,t={}){function r(){return nl=null,Kp(e,t)}const n=t.delayFn||(o=>setTimeout(o,10));return nl=nl||new Promise(o=>n(()=>o(r())))}function lx(e){return{hooks:{"entries:updated":function(t){if(typeof(e==null?void 0:e.document)>"u"&&typeof window>"u")return;let r=e==null?void 0:e.delayFn;!r&&typeof requestAnimationFrame<"u"&&(r=requestAnimationFrame),Yp(t,{document:(e==null?void 0:e.document)||window.document,delayFn:r})}}}}function ux(e){var t;return((t=e==null?void 0:e.head.querySelector('meta[name="unhead:ssr"]'))==null?void 0:t.getAttribute("content"))||!1}const Td={base:-1,title:1},Rd={critical:-8,high:-1,low:2};function Vs(e){let t=10;const r=e.tagPriority;return typeof r=="number"?r:(e.tag==="meta"?(e.props.charset&&(t=-2),e.props["http-equiv"]==="content-security-policy"&&(t=0)):e.tag in Td&&(t=Td[e.tag]),typeof r=="string"&&r in Rd?t+Rd[r]:t)}const cx=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}];function dx(){return{hooks:{"tags:resolve":e=>{const t=r=>{var n;return(n=e.tags.find(o=>o._d===r))==null?void 0:n._p};for(const{prefix:r,offset:n}of cx)for(const o of e.tags.filter(i=>typeof i.tagPriority=="string"&&i.tagPriority.startsWith(r))){const i=t(o.tagPriority.replace(r,""));typeof i<"u"&&(o._p=i+n)}e.tags.sort((r,n)=>r._p-n._p).sort((r,n)=>Vs(r)-Vs(n))}}}}function fx(){return{hooks:{"tags:resolve":e=>{const{tags:t}=e;let r=t.findIndex(o=>o.tag==="titleTemplate");const n=t.findIndex(o=>o.tag==="title");if(n!==-1&&r!==-1){const o=wd(t[r].textContent,t[n].textContent);o!==null?t[n].textContent=o||t[n].textContent:delete t[n]}else if(r!==-1){const o=wd(t[r].textContent);o!==null&&(t[r].textContent=o,t[r].tag="title",r=-1)}r!==-1&&delete t[r],e.tags=t.filter(Boolean)}}}}function hx(){return{hooks:{"tag:normalise":function({tag:e}){typeof e.props.body<"u"&&(e.tagPosition="bodyClose",delete e.props.body)}}}}const px=["link","style","script","noscript"];function gx(){return{hooks:{"tag:normalise":({tag:e,resolvedOptions:t})=>{t.experimentalHashHydration===!0&&(e._h=Zl(e)),e.key&&px.includes(e.tag)&&(e._h=Gp(e.key),e.props[`data-h-${e._h}`]="")}}}}const Ad=["script","link","bodyAttrs"];function vx(){const e=(t,r)=>{const n={},o={};Object.entries(r.props).forEach(([a,d])=>{a.startsWith("on")&&typeof d=="function"?o[a]=d:n[a]=d});let i;return t==="dom"&&r.tag==="script"&&typeof n.src=="string"&&typeof o.onload<"u"&&(i=n.src,delete n.src),{props:n,eventHandlers:o,delayedSrc:i}};return{hooks:{"ssr:render":function(t){t.tags=t.tags.map(r=>(!Ad.includes(r.tag)||!Object.entries(r.props).find(([n,o])=>n.startsWith("on")&&typeof o=="function")||(r.props=e("ssr",r).props),r))},"dom:beforeRenderTag":function(t){if(!Ad.includes(t.tag.tag)||!Object.entries(t.tag.props).find(([i,a])=>i.startsWith("on")&&typeof a=="function"))return;const{props:r,eventHandlers:n,delayedSrc:o}=e("dom",t.tag);Object.keys(n).length&&(t.tag.props=r,t.tag._eventHandlers=n,t.tag._delayedSrc=o)},"dom:renderTag":function(t){const r=t.$el;if(!t.tag._eventHandlers||!r)return;const n=t.tag.tag==="bodyAttrs"&&typeof window<"u"?window:r;Object.entries(t.tag._eventHandlers).forEach(([o,i])=>{const a=`${t.tag._d||t.tag._p}:${o}`,d=o.slice(2).toLowerCase(),l=`data-h-${d}`;if(t.markSideEffect(a,()=>{}),r.hasAttribute(l))return;const s=i;r.setAttribute(l,""),n.addEventListener(d,s),t.entry&&(t.entry._sde[a]=()=>{n.removeEventListener(d,s),r.removeAttribute(l)})}),t.tag._delayedSrc&&r.setAttribute("src",t.tag._delayedSrc)}}}}const mx=["templateParams","htmlAttrs","bodyAttrs"];function bx(){return{hooks:{"tag:normalise":function({tag:e}){["hid","vmid","key"].forEach(n=>{e.props[n]&&(e.key=e.props[n],delete e.props[n])});const r=Vp(e)||(e.key?`${e.tag}:${e.key}`:!1);r&&(e._d=r)},"tags:resolve":function(e){const t={};e.tags.forEach(n=>{const o=(n.key?`${n.tag}:${n.key}`:n._d)||n._p,i=t[o];if(i){let d=n==null?void 0:n.tagDuplicateStrategy;if(!d&&mx.includes(n.tag)&&(d="merge"),d==="merge"){const l=i.props;["class","style"].forEach(s=>{n.props[s]&&l[s]&&(s==="style"&&!l[s].endsWith(";")&&(l[s]+=";"),n.props[s]=`${l[s]} ${n.props[s]}`)}),t[o].props={...l,...n.props};return}else if(n._e===i._e){i._duped=i._duped||[],n._d=`${i._d}:${i._duped.length+1}`,i._duped.push(n);return}else if(Vs(n)>Vs(i))return}const a=Object.keys(n.props).length+(n.innerHTML?1:0)+(n.textContent?1:0);if(Wp.includes(n.tag)&&a===0){delete t[o];return}t[o]=n});const r=[];Object.values(t).forEach(n=>{const o=n._duped;delete n._duped,r.push(n),o&&r.push(...o)}),e.tags=r}}}}function Jo(e,t){if(typeof e!="string")return e;function r(a){if(["s","pageTitle"].includes(a))return t.pageTitle;let d;return a.includes(".")?d=a.split(".").reduce((l,s)=>l&&l[s]||void 0,t):d=t[a],typeof d<"u"?d||"":!1}let n=e;try{n=decodeURI(e)}catch{}(n.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(a=>{const d=r(a.slice(1));typeof d=="string"&&(e=e.replace(new RegExp(`\\${a}(\\W|$)`,"g"),`${d}$1`).trim())});const i=t.separator;return e.includes(i)&&(e.endsWith(i)&&(e=e.slice(0,-i.length).trim()),e.startsWith(i)&&(e=e.slice(i.length).trim()),e=e.replace(new RegExp(`\\${i}\\s*\\${i}`,"g"),i)),e}function yx(){return{hooks:{"tags:resolve":e=>{var i;const{tags:t}=e,r=(i=t.find(a=>a.tag==="title"))==null?void 0:i.textContent,n=t.findIndex(a=>a.tag==="templateParams"),o=n!==-1?t[n].props:{};o.separator=o.separator||"|",o.pageTitle=Jo(o.pageTitle||r||"",o);for(const a of t)if(["titleTemplate","title"].includes(a.tag)&&typeof a.textContent=="string")a.textContent=Jo(a.textContent,o);else if(a.tag==="meta"&&typeof a.props.content=="string")a.props.content=Jo(a.props.content,o);else if(a.tag==="link"&&typeof a.props.href=="string")a.props.href=Jo(a.props.href,o);else if(a.tag==="script"&&["application/json","application/ld+json"].includes(a.props.type)&&typeof a.innerHTML=="string")try{a.innerHTML=JSON.stringify(JSON.parse(a.innerHTML),(d,l)=>typeof l=="string"?Jo(l,o):l)}catch{}e.tags=t.filter(a=>a.tag!=="templateParams")}}}}const xx=typeof window<"u";let Xp;function _x(e){return Xp=e}function Cx(){return Xp}async function Sx(e,t,r){const n={tag:e,props:{}};return t instanceof Promise&&(t=await t),e==="templateParams"?(n.props=t,n):["title","titleTemplate"].includes(e)?(t&&typeof t=="object"?(n.textContent=t.textContent,t.tagPriority&&(n.tagPriority=t.tagPriority)):n.textContent=t,n):typeof t=="string"?["script","noscript","style"].includes(e)?(e==="script"&&(/^(https?:)?\/\//.test(t)||t.startsWith("/"))?n.props.src=t:n.innerHTML=t,n):!1:(n.props=await wx(e,{...t}),n.props.children&&(n.props.innerHTML=n.props.children),delete n.props.children,Object.keys(n.props).filter(o=>Ed.includes(o)).forEach(o=>{(!["innerHTML","textContent"].includes(o)||Hp.includes(n.tag))&&(n[o]=n.props[o]),delete n.props[o]}),Ed.forEach(o=>{!n[o]&&r[o]&&(n[o]=r[o])}),["innerHTML","textContent"].forEach(o=>{if(n.tag==="script"&&typeof n[o]=="string"&&["application/ld+json","application/json"].includes(n.props.type))try{n[o]=JSON.parse(n[o])}catch{n[o]=""}typeof n[o]=="object"&&(n[o]=JSON.stringify(n[o]))}),n.props.class&&(n.props.class=Ex(n.props.class)),n.props.content&&Array.isArray(n.props.content)?n.props.content.map(o=>({...n,props:{...n.props,content:o}})):n)}function Ex(e){return typeof e=="object"&&!Array.isArray(e)&&(e=Object.keys(e).filter(t=>e[t])),(Array.isArray(e)?e.join(" "):e).split(" ").filter(t=>t.trim()).filter(Boolean).join(" ")}async function wx(e,t){for(const r of Object.keys(t)){const n=r.startsWith("data-");t[r]instanceof Promise&&(t[r]=await t[r]),String(t[r])==="true"?t[r]=n?"true":"":String(t[r])==="false"&&(n?t[r]="false":delete t[r])}return t}const Tx=10;async function Rx(e){const t=[];return Object.entries(e.resolvedInput).filter(([r,n])=>typeof n<"u"&&ix.includes(r)).forEach(([r,n])=>{const o=ox(n);t.push(...o.map(i=>Sx(r,i,e)).flat())}),(await Promise.all(t)).flat().filter(Boolean).map((r,n)=>(r._e=e._i,r._p=(e._i<<Tx)+n,r))}function Ax(){return[bx(),dx(),yx(),fx(),gx(),vx(),hx()]}function Lx(e={}){return[lx({document:e==null?void 0:e.document,delayFn:e==null?void 0:e.domDelayFn})]}function Px(e={}){const t=kx({...e,plugins:[...Lx(e),...(e==null?void 0:e.plugins)||[]]});return e.experimentalHashHydration&&t.resolvedOptions.document&&(t._hash=ux(t.resolvedOptions.document)),_x(t),t}function kx(e={}){let t=[],r={},n=0;const o=nx();e!=null&&e.hooks&&o.addHooks(e.hooks),e.plugins=[...Ax(),...(e==null?void 0:e.plugins)||[]],e.plugins.forEach(d=>d.hooks&&o.addHooks(d.hooks)),e.document=e.document||(xx?document:void 0);const i=()=>o.callHook("entries:updated",a),a={resolvedOptions:e,headEntries(){return t},get hooks(){return o},use(d){d.hooks&&o.addHooks(d.hooks)},push(d,l){const s={_i:n++,input:d,_sde:{},...l},c=(s==null?void 0:s.mode)||e.mode;return c&&(s.mode=c),t.push(s),i(),{dispose(){t=t.filter(u=>u._i!==s._i?!0:(r={...r,...u._sde||{}},u._sde={},i(),!1))},patch(u){t=t.map(f=>(f._i===s._i&&(s.input=f.input=u,i()),f))}}},async resolveTags(){const d={tags:[],entries:[...t]};await o.callHook("entries:resolve",d);for(const l of d.entries){const s=l.resolvedInput||l.input;if(l.resolvedInput=l.transform?l.transform(s):s,l.resolvedInput)for(const c of await Rx(l)){const u={tag:c,entry:l,resolvedOptions:a.resolvedOptions};await o.callHook("tag:normalise",u),d.tags.push(u.tag)}}return await o.callHook("tags:resolve",d),d.tags},_popSideEffectQueue(){const d={...r};return r={},d},_elMap:{}};return a.hooks.callHook("init",a),a}function Ox(e){return typeof e=="function"?e():be(e)}function Ks(e,t=""){if(e instanceof Promise)return e;const r=Ox(e);return!e||!r?r:Array.isArray(r)?r.map(n=>Ks(n,t)):typeof r=="object"?Object.fromEntries(Object.entries(r).map(([n,o])=>n==="titleTemplate"||n.startsWith("on")?[n,be(o)]:[n,Ks(o,n)])):r}const Dx=Yu.startsWith("3"),Ix=typeof window<"u",qp="usehead";function Zu(){return ar()&&$e(qp)||Cx()}function Mx(e){return{install(r){Dx&&(r.config.globalProperties.$unhead=e,r.config.globalProperties.$head=e,r.provide(qp,e))}}.install}function Fx(e={}){const t=Px({...e,domDelayFn:r=>setTimeout(()=>$t(()=>r()),10),plugins:[Bx(),...(e==null?void 0:e.plugins)||[]]});return t.install=Mx(t),t}function Bx(){return{hooks:{"entries:resolve":function(e){for(const t of e.entries)t.resolvedInput=Ks(t.input)}}}}function Nx(e,t={}){const r=Zu(),n=Q(!1),o=Q({});Qt(()=>{o.value=n.value?{}:Ks(e)});const i=r.push(o.value,t);return tt(o,d=>{i.patch(d)}),ar()&&(_t(()=>{i.dispose()}),_a(()=>{n.value=!0}),xa(()=>{n.value=!1})),i}function $x(e,t={}){return Zu().push(e,t)}function Ki(e,t={}){var n;const r=Zu();if(r){const o=Ix||!!((n=r.resolvedOptions)!=null&&n.document);return t.mode==="server"&&o||t.mode==="client"&&!o?void 0:o?Nx(e,t):$x(e,t)}}function Ux(e,t){const r=Fx(t||{}),n={unhead:r,install(o){Yu.startsWith("3")&&(o.config.globalProperties.$head=r,o.provide("usehead",r))},use(o){r.use(o)},resolveTags(){return r.resolveTags()},headEntries(){return r.headEntries()},headTags(){return r.resolveTags()},push(o,i){return r.push(o,i)},addEntry(o,i){return r.push(o,i)},addHeadObjs(o,i){return r.push(o,i)},addReactiveEntry(o,i){const a=Ki(o,i);return typeof a<"u"?a.dispose:()=>{}},removeHeadObjs(){},updateDOM(o,i){i?Kp(r,{document:o}):Yp(r,{delayFn:a=>setTimeout(()=>a(),50),document:o})},internalHooks:r.hooks,hooks:{"before:dom":[],"resolved:tags":[],"resolved:entries":[]}};return r.addHeadObjs=n.addHeadObjs,r.updateDOM=n.updateDOM,r.hooks.hook("dom:beforeRender",o=>{for(const i of n.hooks["before:dom"])i()===!1&&(o.shouldRender=!1)}),e&&n.addHeadObjs(e),n}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const ho=typeof window<"u";function zx(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const at=Object.assign;function ol(e,t){const r={};for(const n in t){const o=t[n];r[n]=Tr(o)?o.map(e):e(o)}return r}const vi=()=>{},Tr=Array.isArray,jx=/\/$/,Hx=e=>e.replace(jx,"");function il(e,t,r="/"){let n,o={},i="",a="";const d=t.indexOf("#");let l=t.indexOf("?");return d<l&&d>=0&&(l=-1),l>-1&&(n=t.slice(0,l),i=t.slice(l+1,d>-1?d:t.length),o=e(i)),d>-1&&(n=n||t.slice(0,d),a=t.slice(d,t.length)),n=Kx(n??t,r),{fullPath:n+(i&&"?")+i+a,path:n,query:o,hash:a}}function Wx(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function Ld(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Gx(e,t,r){const n=t.matched.length-1,o=r.matched.length-1;return n>-1&&n===o&&Ro(t.matched[n],r.matched[o])&&Zp(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function Ro(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Zp(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!Vx(e[r],t[r]))return!1;return!0}function Vx(e,t){return Tr(e)?Pd(e,t):Tr(t)?Pd(t,e):e===t}function Pd(e,t){return Tr(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function Kx(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/"),o=n[n.length-1];(o===".."||o===".")&&n.push("");let i=r.length-1,a,d;for(a=0;a<n.length;a++)if(d=n[a],d!==".")if(d==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(a-(a===n.length?1:0)).join("/")}var Oi;(function(e){e.pop="pop",e.push="push"})(Oi||(Oi={}));var mi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(mi||(mi={}));function Yx(e){if(!e)if(ho){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Hx(e)}const Xx=/^[^#]+#/;function qx(e,t){return e.replace(Xx,"#")+t}function Zx(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const wa=()=>({left:window.pageXOffset,top:window.pageYOffset});function Jx(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),o=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!o)return;t=Zx(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function kd(e,t){return(history.state?history.state.position-t:-1)+e}const Jl=new Map;function Qx(e,t){Jl.set(e,t)}function e_(e){const t=Jl.get(e);return Jl.delete(e),t}let t_=()=>location.protocol+"//"+location.host;function Jp(e,t){const{pathname:r,search:n,hash:o}=t,i=e.indexOf("#");if(i>-1){let d=o.includes(e.slice(i))?e.slice(i).length:1,l=o.slice(d);return l[0]!=="/"&&(l="/"+l),Ld(l,"")}return Ld(r,e)+n+o}function r_(e,t,r,n){let o=[],i=[],a=null;const d=({state:f})=>{const _=Jp(e,location),v=r.value,b=t.value;let g=0;if(f){if(r.value=_,t.value=f,a&&a===v){a=null;return}g=b?f.position-b.position:0}else n(_);o.forEach(m=>{m(r.value,v,{delta:g,type:Oi.pop,direction:g?g>0?mi.forward:mi.back:mi.unknown})})};function l(){a=r.value}function s(f){o.push(f);const _=()=>{const v=o.indexOf(f);v>-1&&o.splice(v,1)};return i.push(_),_}function c(){const{history:f}=window;f.state&&f.replaceState(at({},f.state,{scroll:wa()}),"")}function u(){for(const f of i)f();i=[],window.removeEventListener("popstate",d),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",d),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:s,destroy:u}}function Od(e,t,r,n=!1,o=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:o?wa():null}}function n_(e){const{history:t,location:r}=window,n={value:Jp(e,r)},o={value:t.state};o.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,s,c){const u=e.indexOf("#"),f=u>-1?(r.host&&document.querySelector("base")?e:e.slice(u))+l:t_()+e+l;try{t[c?"replaceState":"pushState"](s,"",f),o.value=s}catch(_){console.error(_),r[c?"replace":"assign"](f)}}function a(l,s){const c=at({},t.state,Od(o.value.back,l,o.value.forward,!0),s,{position:o.value.position});i(l,c,!0),n.value=l}function d(l,s){const c=at({},o.value,t.state,{forward:l,scroll:wa()});i(c.current,c,!0);const u=at({},Od(n.value,l,null),{position:c.position+1},s);i(l,u,!1),n.value=l}return{location:n,state:o,push:d,replace:a}}function o_(e){e=Yx(e);const t=n_(e),r=r_(e,t.state,t.location,t.replace);function n(i,a=!0){a||r.pauseListeners(),history.go(i)}const o=at({location:"",base:e,go:n,createHref:qx.bind(null,e)},t,r);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function i_(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),o_(e)}function s_(e){return typeof e=="string"||e&&typeof e=="object"}function Qp(e){return typeof e=="string"||typeof e=="symbol"}const tn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},eg=Symbol("");var Dd;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Dd||(Dd={}));function Ao(e,t){return at(new Error,{type:e,[eg]:!0},t)}function zr(e,t){return e instanceof Error&&eg in e&&(t==null||!!(e.type&t))}const Id="[^/]+?",a_={sensitive:!1,strict:!1,start:!0,end:!0},l_=/[.+*?^${}()[\]/\\]/g;function u_(e,t){const r=at({},a_,t),n=[];let o=r.start?"^":"";const i=[];for(const s of e){const c=s.length?[]:[90];r.strict&&!s.length&&(o+="/");for(let u=0;u<s.length;u++){const f=s[u];let _=40+(r.sensitive?.25:0);if(f.type===0)u||(o+="/"),o+=f.value.replace(l_,"\\$&"),_+=40;else if(f.type===1){const{value:v,repeatable:b,optional:g,regexp:m}=f;i.push({name:v,repeatable:b,optional:g});const h=m||Id;if(h!==Id){_+=10;try{new RegExp(`(${h})`)}catch(y){throw new Error(`Invalid custom RegExp for param "${v}" (${h}): `+y.message)}}let x=b?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;u||(x=g&&s.length<2?`(?:/${x})`:"/"+x),g&&(x+="?"),o+=x,_+=20,g&&(_+=-8),b&&(_+=-20),h===".*"&&(_+=-50)}c.push(_)}n.push(c)}if(r.strict&&r.end){const s=n.length-1;n[s][n[s].length-1]+=.7000000000000001}r.strict||(o+="/?"),r.end?o+="$":r.strict&&(o+="(?:/|$)");const a=new RegExp(o,r.sensitive?"":"i");function d(s){const c=s.match(a),u={};if(!c)return null;for(let f=1;f<c.length;f++){const _=c[f]||"",v=i[f-1];u[v.name]=_&&v.repeatable?_.split("/"):_}return u}function l(s){let c="",u=!1;for(const f of e){(!u||!c.endsWith("/"))&&(c+="/"),u=!1;for(const _ of f)if(_.type===0)c+=_.value;else if(_.type===1){const{value:v,repeatable:b,optional:g}=_,m=v in s?s[v]:"";if(Tr(m)&&!b)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const h=Tr(m)?m.join("/"):m;if(!h)if(g)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):u=!0);else throw new Error(`Missing required param "${v}"`);c+=h}}return c||"/"}return{re:a,score:n,keys:i,parse:d,stringify:l}}function c_(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function d_(e,t){let r=0;const n=e.score,o=t.score;for(;r<n.length&&r<o.length;){const i=c_(n[r],o[r]);if(i)return i;r++}if(Math.abs(o.length-n.length)===1){if(Md(n))return 1;if(Md(o))return-1}return o.length-n.length}function Md(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const f_={type:0,value:""},h_=/[a-zA-Z0-9_]/;function p_(e){if(!e)return[[]];if(e==="/")return[[f_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(_){throw new Error(`ERR (${r})/"${s}": ${_}`)}let r=0,n=r;const o=[];let i;function a(){i&&o.push(i),i=[]}let d=0,l,s="",c="";function u(){s&&(r===0?i.push({type:0,value:s}):r===1||r===2||r===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${s}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:s,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),s="")}function f(){s+=l}for(;d<e.length;){if(l=e[d++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(s&&u(),a()):l===":"?(u(),r=1):f();break;case 4:f(),r=n;break;case 1:l==="("?r=2:h_.test(l)?f():(u(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&d--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:r=3:c+=l;break;case 3:u(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&d--,c="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${s}"`),u(),a(),o}function g_(e,t,r){const n=u_(p_(e.path),r),o=at(n,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function v_(e,t){const r=[],n=new Map;t=Nd({strict:!1,end:!0,sensitive:!1},t);function o(c){return n.get(c)}function i(c,u,f){const _=!f,v=m_(c);v.aliasOf=f&&f.record;const b=Nd(t,c),g=[v];if("alias"in c){const x=typeof c.alias=="string"?[c.alias]:c.alias;for(const y of x)g.push(at({},v,{components:f?f.record.components:v.components,path:y,aliasOf:f?f.record:v}))}let m,h;for(const x of g){const{path:y}=x;if(u&&y[0]!=="/"){const p=u.record.path,C=p[p.length-1]==="/"?"":"/";x.path=u.record.path+(y&&C+y)}if(m=g_(x,u,b),f?f.alias.push(m):(h=h||m,h!==m&&h.alias.push(m),_&&c.name&&!Bd(m)&&a(c.name)),v.children){const p=v.children;for(let C=0;C<p.length;C++)i(p[C],m,f&&f.children[C])}f=f||m,(m.record.components&&Object.keys(m.record.components).length||m.record.name||m.record.redirect)&&l(m)}return h?()=>{a(h)}:vi}function a(c){if(Qp(c)){const u=n.get(c);u&&(n.delete(c),r.splice(r.indexOf(u),1),u.children.forEach(a),u.alias.forEach(a))}else{const u=r.indexOf(c);u>-1&&(r.splice(u,1),c.record.name&&n.delete(c.record.name),c.children.forEach(a),c.alias.forEach(a))}}function d(){return r}function l(c){let u=0;for(;u<r.length&&d_(c,r[u])>=0&&(c.record.path!==r[u].record.path||!tg(c,r[u]));)u++;r.splice(u,0,c),c.record.name&&!Bd(c)&&n.set(c.record.name,c)}function s(c,u){let f,_={},v,b;if("name"in c&&c.name){if(f=n.get(c.name),!f)throw Ao(1,{location:c});b=f.record.name,_=at(Fd(u.params,f.keys.filter(h=>!h.optional).map(h=>h.name)),c.params&&Fd(c.params,f.keys.map(h=>h.name))),v=f.stringify(_)}else if("path"in c)v=c.path,f=r.find(h=>h.re.test(v)),f&&(_=f.parse(v),b=f.record.name);else{if(f=u.name?n.get(u.name):r.find(h=>h.re.test(u.path)),!f)throw Ao(1,{location:c,currentLocation:u});b=f.record.name,_=at({},u.params,c.params),v=f.stringify(_)}const g=[];let m=f;for(;m;)g.unshift(m.record),m=m.parent;return{name:b,path:v,params:_,matched:g,meta:y_(g)}}return e.forEach(c=>i(c)),{addRoute:i,resolve:s,removeRoute:a,getRoutes:d,getRecordMatcher:o}}function Fd(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function m_(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:b_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function b_(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="object"?r[n]:r;return t}function Bd(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function y_(e){return e.reduce((t,r)=>at(t,r.meta),{})}function Nd(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function tg(e,t){return t.children.some(r=>r===e||tg(e,r))}const rg=/#/g,x_=/&/g,__=/\//g,C_=/=/g,S_=/\?/g,ng=/\+/g,E_=/%5B/g,w_=/%5D/g,og=/%5E/g,T_=/%60/g,ig=/%7B/g,R_=/%7C/g,sg=/%7D/g,A_=/%20/g;function Ju(e){return encodeURI(""+e).replace(R_,"|").replace(E_,"[").replace(w_,"]")}function L_(e){return Ju(e).replace(ig,"{").replace(sg,"}").replace(og,"^")}function Ql(e){return Ju(e).replace(ng,"%2B").replace(A_,"+").replace(rg,"%23").replace(x_,"%26").replace(T_,"`").replace(ig,"{").replace(sg,"}").replace(og,"^")}function P_(e){return Ql(e).replace(C_,"%3D")}function k_(e){return Ju(e).replace(rg,"%23").replace(S_,"%3F")}function O_(e){return e==null?"":k_(e).replace(__,"%2F")}function Ys(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function D_(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<n.length;++o){const i=n[o].replace(ng," "),a=i.indexOf("="),d=Ys(a<0?i:i.slice(0,a)),l=a<0?null:Ys(i.slice(a+1));if(d in t){let s=t[d];Tr(s)||(s=t[d]=[s]),s.push(l)}else t[d]=l}return t}function $d(e){let t="";for(let r in e){const n=e[r];if(r=P_(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(Tr(n)?n.map(i=>i&&Ql(i)):[n&&Ql(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+r,i!=null&&(t+="="+i))})}return t}function I_(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=Tr(n)?n.map(o=>o==null?null:""+o):n==null?n:""+n)}return t}const ag=Symbol(""),Ud=Symbol(""),Qu=Symbol(""),ec=Symbol(""),eu=Symbol("");function Qo(){let e=[];function t(n){return e.push(n),()=>{const o=e.indexOf(n);o>-1&&e.splice(o,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function M_(e,t,r){const n=()=>{e[t].delete(r)};Xn(n),_a(n),xa(()=>{e[t].add(r)}),e[t].add(r)}function F_(e){const t=$e(ag,{}).value;t&&M_(t,"updateGuards",e)}function ln(e,t,r,n,o){const i=n&&(n.enterCallbacks[o]=n.enterCallbacks[o]||[]);return()=>new Promise((a,d)=>{const l=u=>{u===!1?d(Ao(4,{from:r,to:t})):u instanceof Error?d(u):s_(u)?d(Ao(2,{from:t,to:u})):(i&&n.enterCallbacks[o]===i&&typeof u=="function"&&i.push(u),a())},s=e.call(n&&n.instances[o],t,r,l);let c=Promise.resolve(s);e.length<3&&(c=c.then(l)),c.catch(u=>d(u))})}function sl(e,t,r,n){const o=[];for(const i of e)for(const a in i.components){let d=i.components[a];if(!(t!=="beforeRouteEnter"&&!i.instances[a]))if(B_(d)){const s=(d.__vccOpts||d)[t];s&&o.push(ln(s,r,n,i,a))}else{let l=d();o.push(()=>l.then(s=>{if(!s)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${i.path}"`));const c=zx(s)?s.default:s;i.components[a]=c;const f=(c.__vccOpts||c)[t];return f&&ln(f,r,n,i,a)()}))}}return o}function B_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function zd(e){const t=$e(Qu),r=$e(ec),n=ne(()=>t.resolve(be(e.to))),o=ne(()=>{const{matched:l}=n.value,{length:s}=l,c=l[s-1],u=r.matched;if(!c||!u.length)return-1;const f=u.findIndex(Ro.bind(null,c));if(f>-1)return f;const _=jd(l[s-2]);return s>1&&jd(c)===_&&u[u.length-1].path!==_?u.findIndex(Ro.bind(null,l[s-2])):f}),i=ne(()=>o.value>-1&&z_(r.params,n.value.params)),a=ne(()=>o.value>-1&&o.value===r.matched.length-1&&Zp(r.params,n.value.params));function d(l={}){return U_(l)?t[be(e.replace)?"replace":"push"](be(e.to)).catch(vi):Promise.resolve()}return{route:n,href:ne(()=>n.value.href),isActive:i,isExactActive:a,navigate:d}}const N_=ye({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:zd,setup(e,{slots:t}){const r=Jt(zd(e)),{options:n}=$e(Qu),o=ne(()=>({[Hd(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Hd(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=t.default&&t.default(r);return e.custom?i:I("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:o.value},i)}}}),$_=N_;function U_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function z_(e,t){for(const r in t){const n=t[r],o=e[r];if(typeof n=="string"){if(n!==o)return!1}else if(!Tr(o)||o.length!==n.length||n.some((i,a)=>i!==o[a]))return!1}return!0}function jd(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Hd=(e,t,r)=>e??t??r,j_=ye({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=$e(eu),o=ne(()=>e.route||n.value),i=$e(Ud,0),a=ne(()=>{let s=be(i);const{matched:c}=o.value;let u;for(;(u=c[s])&&!u.components;)s++;return s}),d=ne(()=>o.value.matched[a.value]);ut(Ud,ne(()=>a.value+1)),ut(ag,d),ut(eu,o);const l=Q();return tt(()=>[l.value,d.value,e.name],([s,c,u],[f,_,v])=>{c&&(c.instances[u]=s,_&&_!==c&&s&&s===f&&(c.leaveGuards.size||(c.leaveGuards=_.leaveGuards),c.updateGuards.size||(c.updateGuards=_.updateGuards))),s&&c&&(!_||!Ro(c,_)||!f)&&(c.enterCallbacks[u]||[]).forEach(b=>b(s))},{flush:"post"}),()=>{const s=o.value,c=e.name,u=d.value,f=u&&u.components[c];if(!f)return Wd(r.default,{Component:f,route:s});const _=u.props[c],v=_?_===!0?s.params:typeof _=="function"?_(s):_:null,g=I(f,at({},v,t,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(u.instances[c]=null)},ref:l}));return Wd(r.default,{Component:g,route:s})||g}}});function Wd(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const H_=j_;function W_(e){const t=v_(e.routes,e),r=e.parseQuery||D_,n=e.stringifyQuery||$d,o=e.history,i=Qo(),a=Qo(),d=Qo(),l=sy(tn);let s=tn;ho&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=ol.bind(null,W=>""+W),u=ol.bind(null,O_),f=ol.bind(null,Ys);function _(W,ae){let q,pe;return Qp(W)?(q=t.getRecordMatcher(W),pe=ae):pe=W,t.addRoute(pe,q)}function v(W){const ae=t.getRecordMatcher(W);ae&&t.removeRoute(ae)}function b(){return t.getRoutes().map(W=>W.record)}function g(W){return!!t.getRecordMatcher(W)}function m(W,ae){if(ae=at({},ae||l.value),typeof W=="string"){const z=il(r,W,ae.path),Y=t.resolve({path:z.path},ae),j=o.createHref(z.fullPath);return at(z,Y,{params:f(Y.params),hash:Ys(z.hash),redirectedFrom:void 0,href:j})}let q;if("path"in W)q=at({},W,{path:il(r,W.path,ae.path).path});else{const z=at({},W.params);for(const Y in z)z[Y]==null&&delete z[Y];q=at({},W,{params:u(z)}),ae.params=u(ae.params)}const pe=t.resolve(q,ae),we=W.hash||"";pe.params=c(f(pe.params));const B=Wx(n,at({},W,{hash:L_(we),path:pe.path})),$=o.createHref(B);return at({fullPath:B,hash:we,query:n===$d?I_(W.query):W.query||{}},pe,{redirectedFrom:void 0,href:$})}function h(W){return typeof W=="string"?il(r,W,l.value.path):at({},W)}function x(W,ae){if(s!==W)return Ao(8,{from:ae,to:W})}function y(W){return S(W)}function p(W){return y(at(h(W),{replace:!0}))}function C(W){const ae=W.matched[W.matched.length-1];if(ae&&ae.redirect){const{redirect:q}=ae;let pe=typeof q=="function"?q(W):q;return typeof pe=="string"&&(pe=pe.includes("?")||pe.includes("#")?pe=h(pe):{path:pe},pe.params={}),at({query:W.query,hash:W.hash,params:"path"in pe?{}:W.params},pe)}}function S(W,ae){const q=s=m(W),pe=l.value,we=W.state,B=W.force,$=W.replace===!0,z=C(q);if(z)return S(at(h(z),{state:typeof z=="object"?at({},we,z.state):we,force:B,replace:$}),ae||q);const Y=q;Y.redirectedFrom=ae;let j;return!B&&Gx(n,pe,q)&&(j=Ao(16,{to:Y,from:pe}),U(pe,pe,!0,!1)),(j?Promise.resolve(j):E(Y,pe)).catch(K=>zr(K)?zr(K,2)?K:N(K):M(K,Y,pe)).then(K=>{if(K){if(zr(K,2))return S(at({replace:$},h(K.to),{state:typeof K.to=="object"?at({},we,K.to.state):we,force:B}),ae||Y)}else K=T(Y,pe,!0,$,we);return R(Y,pe,K),K})}function w(W,ae){const q=x(W,ae);return q?Promise.reject(q):Promise.resolve()}function A(W){const ae=Z.values().next().value;return ae&&typeof ae.runWithContext=="function"?ae.runWithContext(W):W()}function E(W,ae){let q;const[pe,we,B]=G_(W,ae);q=sl(pe.reverse(),"beforeRouteLeave",W,ae);for(const z of pe)z.leaveGuards.forEach(Y=>{q.push(ln(Y,W,ae))});const $=w.bind(null,W,ae);return q.push($),ee(q).then(()=>{q=[];for(const z of i.list())q.push(ln(z,W,ae));return q.push($),ee(q)}).then(()=>{q=sl(we,"beforeRouteUpdate",W,ae);for(const z of we)z.updateGuards.forEach(Y=>{q.push(ln(Y,W,ae))});return q.push($),ee(q)}).then(()=>{q=[];for(const z of B)if(z.beforeEnter)if(Tr(z.beforeEnter))for(const Y of z.beforeEnter)q.push(ln(Y,W,ae));else q.push(ln(z.beforeEnter,W,ae));return q.push($),ee(q)}).then(()=>(W.matched.forEach(z=>z.enterCallbacks={}),q=sl(B,"beforeRouteEnter",W,ae),q.push($),ee(q))).then(()=>{q=[];for(const z of a.list())q.push(ln(z,W,ae));return q.push($),ee(q)}).catch(z=>zr(z,8)?z:Promise.reject(z))}function R(W,ae,q){d.list().forEach(pe=>A(()=>pe(W,ae,q)))}function T(W,ae,q,pe,we){const B=x(W,ae);if(B)return B;const $=ae===tn,z=ho?history.state:{};q&&(pe||$?o.replace(W.fullPath,at({scroll:$&&z&&z.scroll},we)):o.push(W.fullPath,we)),l.value=W,U(W,ae,q,$),N()}let L;function P(){L||(L=o.listen((W,ae,q)=>{if(!de.listening)return;const pe=m(W),we=C(pe);if(we){S(at(we,{replace:!0}),pe).catch(vi);return}s=pe;const B=l.value;ho&&Qx(kd(B.fullPath,q.delta),wa()),E(pe,B).catch($=>zr($,12)?$:zr($,2)?(S($.to,pe).then(z=>{zr(z,20)&&!q.delta&&q.type===Oi.pop&&o.go(-1,!1)}).catch(vi),Promise.reject()):(q.delta&&o.go(-q.delta,!1),M($,pe,B))).then($=>{$=$||T(pe,B,!1),$&&(q.delta&&!zr($,8)?o.go(-q.delta,!1):q.type===Oi.pop&&zr($,20)&&o.go(-1,!1)),R(pe,B,$)}).catch(vi)}))}let k=Qo(),D=Qo(),O;function M(W,ae,q){N(W);const pe=D.list();return pe.length?pe.forEach(we=>we(W,ae,q)):console.error(W),Promise.reject(W)}function F(){return O&&l.value!==tn?Promise.resolve():new Promise((W,ae)=>{k.add([W,ae])})}function N(W){return O||(O=!W,P(),k.list().forEach(([ae,q])=>W?q(W):ae()),k.reset()),W}function U(W,ae,q,pe){const{scrollBehavior:we}=e;if(!ho||!we)return Promise.resolve();const B=!q&&e_(kd(W.fullPath,0))||(pe||!q)&&history.state&&history.state.scroll||null;return $t().then(()=>we(W,ae,B)).then($=>$&&Jx($)).catch($=>M($,W,ae))}const G=W=>o.go(W);let H;const Z=new Set,de={currentRoute:l,listening:!0,addRoute:_,removeRoute:v,hasRoute:g,getRoutes:b,resolve:m,options:e,push:y,replace:p,go:G,back:()=>G(-1),forward:()=>G(1),beforeEach:i.add,beforeResolve:a.add,afterEach:d.add,onError:D.add,isReady:F,install(W){const ae=this;W.component("RouterLink",$_),W.component("RouterView",H_),W.config.globalProperties.$router=ae,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>be(l)}),ho&&!H&&l.value===tn&&(H=!0,y(o.location).catch(we=>{}));const q={};for(const we in tn)Object.defineProperty(q,we,{get:()=>l.value[we],enumerable:!0});W.provide(Qu,ae),W.provide(ec,rp(q)),W.provide(eu,l);const pe=W.unmount;Z.add(W),W.unmount=function(){Z.delete(W),Z.size<1&&(s=tn,L&&L(),L=null,l.value=tn,H=!1,O=!1),pe()}}};function ee(W){return W.reduce((ae,q)=>ae.then(()=>A(q)),Promise.resolve())}return de}function G_(e,t){const r=[],n=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const d=t.matched[a];d&&(e.matched.find(s=>Ro(s,d))?n.push(d):r.push(d));const l=e.matched[a];l&&(t.matched.find(s=>Ro(s,l))||o.push(l))}return[r,n,o]}function V_(){return $e(ec)}let Xs=[];const lg=new WeakMap;function K_(){Xs.forEach(e=>e(...lg.get(e))),Xs=[]}function tc(e,...t){lg.set(e,t),!Xs.includes(e)&&Xs.push(e)===1&&requestAnimationFrame(K_)}function Gd(e,t){let{target:r}=e;for(;r;){if(r.dataset&&r.dataset[t]!==void 0)return!0;r=r.parentElement}return!1}function Di(e){return e.composedPath()[0]||null}function Y_(e){if(typeof e=="number")return{"":e.toString()};const t={};return e.split(/ +/).forEach(r=>{if(r==="")return;const[n,o]=r.split(":");o===void 0?t[""]=n:t[n]=o}),t}function ei(e,t){var r;if(e==null)return;const n=Y_(e);if(t===void 0)return n[""];if(typeof t=="string")return(r=n[t])!==null&&r!==void 0?r:n[""];if(Array.isArray(t)){for(let o=t.length-1;o>=0;--o){const i=t[o];if(i in n)return n[i]}return n[""]}else{let o,i=-1;return Object.keys(n).forEach(a=>{const d=Number(a);!Number.isNaN(d)&&t>=d&&d>=i&&(i=d,o=n[a])}),o}}function go(e){if(e!=null)return typeof e=="number"?`${e}px`:e.endsWith("px")?e:`${e}px`}function kn(e,t){const r=e.trim().split(/\s+/g),n={top:r[0]};switch(r.length){case 1:n.right=r[0],n.bottom=r[0],n.left=r[0];break;case 2:n.right=r[1],n.left=r[1],n.bottom=r[0];break;case 3:n.right=r[1],n.bottom=r[2],n.left=r[1];break;case 4:n.right=r[1],n.bottom=r[2],n.left=r[3];break;default:throw new Error("[seemly/getMargin]:"+e+" is not a valid value.")}return t===void 0?n:n[t]}const Vd={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},Io="^\\s*",Mo="\\s*$",On="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",Dn="([0-9A-Fa-f])",In="([0-9A-Fa-f]{2})",X_=new RegExp(`${Io}rgb\\s*\\(${On},${On},${On}\\)${Mo}`),q_=new RegExp(`${Io}rgba\\s*\\(${On},${On},${On},${On}\\)${Mo}`),Z_=new RegExp(`${Io}#${Dn}${Dn}${Dn}${Mo}`),J_=new RegExp(`${Io}#${In}${In}${In}${Mo}`),Q_=new RegExp(`${Io}#${Dn}${Dn}${Dn}${Dn}${Mo}`),eC=new RegExp(`${Io}#${In}${In}${In}${In}${Mo}`);function Xt(e){return parseInt(e,16)}function Kr(e){try{let t;if(t=J_.exec(e))return[Xt(t[1]),Xt(t[2]),Xt(t[3]),1];if(t=X_.exec(e))return[jt(t[1]),jt(t[5]),jt(t[9]),1];if(t=q_.exec(e))return[jt(t[1]),jt(t[5]),jt(t[9]),bi(t[13])];if(t=Z_.exec(e))return[Xt(t[1]+t[1]),Xt(t[2]+t[2]),Xt(t[3]+t[3]),1];if(t=eC.exec(e))return[Xt(t[1]),Xt(t[2]),Xt(t[3]),bi(Xt(t[4])/255)];if(t=Q_.exec(e))return[Xt(t[1]+t[1]),Xt(t[2]+t[2]),Xt(t[3]+t[3]),bi(Xt(t[4]+t[4])/255)];if(e in Vd)return Kr(Vd[e]);throw new Error(`[seemly/rgba]: Invalid color value ${e}.`)}catch(t){throw t}}function tC(e){return e>1?1:e<0?0:e}function tu(e,t,r,n){return`rgba(${jt(e)}, ${jt(t)}, ${jt(r)}, ${tC(n)})`}function al(e,t,r,n,o){return jt((e*t*(1-n)+r*n)/o)}function Ie(e,t){Array.isArray(e)||(e=Kr(e)),Array.isArray(t)||(t=Kr(t));const r=e[3],n=t[3],o=bi(r+n-r*n);return tu(al(e[0],r,t[0],n,o),al(e[1],r,t[1],n,o),al(e[2],r,t[2],n,o),o)}function Ae(e,t){const[r,n,o,i=1]=Array.isArray(e)?e:Kr(e);return t.alpha?tu(r,n,o,t.alpha):tu(r,n,o,i)}function St(e,t){const[r,n,o,i=1]=Array.isArray(e)?e:Kr(e),{lightness:a=1,alpha:d=1}=t;return rC([r*a,n*a,o*a,i*d])}function bi(e){const t=Math.round(Number(e)*100)/100;return t>1?1:t<0?0:t}function jt(e){const t=Math.round(Number(e));return t>255?255:t<0?0:t}function rC(e){const[t,r,n]=e;return 3 in e?`rgba(${jt(t)}, ${jt(r)}, ${jt(n)}, ${bi(e[3])})`:`rgba(${jt(t)}, ${jt(r)}, ${jt(n)}, 1)`}function Ii(e=8){return Math.random().toString(16).slice(2,2+e)}function nC(e,t="default",r=[]){const o=e.$slots[t];return o===void 0?r:o()}function Mi(e,t=[],r){const n={};return t.forEach(o=>{n[o]=e[o]}),Object.assign(n,r)}function ug(e,t=[],r){const n={};return Object.getOwnPropertyNames(e).forEach(i=>{t.includes(i)||(n[i]=e[i])}),Object.assign(n,r)}function $n(e,t=!0,r=[]){return e.forEach(n=>{if(n!==null){if(typeof n!="object"){(typeof n=="string"||typeof n=="number")&&r.push(Xe(String(n)));return}if(Array.isArray(n)){$n(n,t,r);return}if(n.type===Qe){if(n.children===null)return;Array.isArray(n.children)&&$n(n.children,t,r)}else n.type!==Vt&&r.push(n)}}),r}function et(e,...t){if(Array.isArray(e))e.forEach(r=>et(r,...t));else return e(...t)}function rc(e){return Object.keys(e)}const cr=(e,...t)=>typeof e=="function"?e(...t):typeof e=="string"?Xe(e):typeof e=="number"?Xe(String(e)):null;function Wn(e,t){console.error(`[naive/${e}]: ${t}`)}function qn(e,t){throw new Error(`[naive/${e}]: ${t}`)}function oC(e){switch(typeof e){case"string":return e||void 0;case"number":return String(e);default:return}}function ru(e,t="default",r=void 0){const n=e[t];if(!n)return Wn("getFirstSlotVNode",`slot[${t}] is empty`),null;const o=$n(n(r));return o.length===1?o[0]:(Wn("getFirstSlotVNode",`slot[${t}] should have exactly one child`),null)}function iC(e){return t=>{t?e.value=t.$el:e.value=null}}function Yi(e){return e.some(t=>Pi(t)?!(t.type===Vt||t.type===Qe&&!Yi(t.children)):!0)?e:null}function wr(e,t){return e&&Yi(e())||t()}function sC(e,t,r){return e&&Yi(e(t))||r(t)}function Et(e,t){const r=e&&Yi(e());return t(r||null)}function qs(e){return!(e&&Yi(e()))}function aC(e){var t;const r=(t=e.dirs)===null||t===void 0?void 0:t.find(({dir:n})=>n===Lt);return!!(r&&r.value===!1)}const Kd=ye({render(){var e,t;return(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e)}}),lC=/^(\d|\.)+$/,Yd=/(\d|\.)+/;function Or(e,{c:t=1,offset:r=0,attachPx:n=!0}={}){if(typeof e=="number"){const o=(e+r)*t;return o===0?"0":`${o}px`}else if(typeof e=="string")if(lC.test(e)){const o=(Number(e)+r)*t;return n?o===0?"0":`${o}px`:`${o}`}else{const o=Yd.exec(e);return o?e.replace(Yd,String((Number(o[0])+r)*t)):e}return e}function Zs(e){return e.replace(/#|\(|\)|,|\s/g,"_")}function uC(e){let t=0;for(let r=0;r<e.length;++r)e[r]==="&"&&++t;return t}const cg=/\s*,(?![^(]*\))\s*/g,cC=/\s+/g;function dC(e,t){const r=[];return t.split(cg).forEach(n=>{let o=uC(n);if(o){if(o===1){e.forEach(a=>{r.push(n.replace("&",a))});return}}else{e.forEach(a=>{r.push((a&&a+" ")+n)});return}let i=[n];for(;o--;){const a=[];i.forEach(d=>{e.forEach(l=>{a.push(d.replace("&",l))})}),i=a}i.forEach(a=>r.push(a))}),r}function fC(e,t){const r=[];return t.split(cg).forEach(n=>{e.forEach(o=>{r.push((o&&o+" ")+n)})}),r}function hC(e){let t=[""];return e.forEach(r=>{r=r&&r.trim(),r&&(r.includes("&")?t=dC(t,r):t=fC(t,r))}),t.join(", ").replace(cC," ")}function Xd(e){if(!e)return;const t=e.parentElement;t&&t.removeChild(e)}function Ta(e){return document.querySelector(`style[cssr-id="${e}"]`)}function pC(e){const t=document.createElement("style");return t.setAttribute("cssr-id",e),t}function hs(e){return e?/^\s*@(s|m)/.test(e):!1}const gC=/[A-Z]/g;function dg(e){return e.replace(gC,t=>"-"+t.toLowerCase())}function vC(e,t="  "){return typeof e=="object"&&e!==null?` {
`+Object.entries(e).map(r=>t+`  ${dg(r[0])}: ${r[1]};`).join(`
`)+`
`+t+"}":`: ${e};`}function mC(e,t,r){return typeof e=="function"?e({context:t.context,props:r}):e}function qd(e,t,r,n){if(!t)return"";const o=mC(t,r,n);if(!o)return"";if(typeof o=="string")return`${e} {
${o}
}`;const i=Object.keys(o);if(i.length===0)return r.config.keepEmptyBlock?e+` {
}`:"";const a=e?[e+" {"]:[];return i.forEach(d=>{const l=o[d];if(d==="raw"){a.push(`
`+l+`
`);return}d=dg(d),l!=null&&a.push(`  ${d}${vC(l)}`)}),e&&a.push("}"),a.join(`
`)}function nu(e,t,r){e&&e.forEach(n=>{if(Array.isArray(n))nu(n,t,r);else if(typeof n=="function"){const o=n(t);Array.isArray(o)?nu(o,t,r):o&&r(o)}else n&&r(n)})}function fg(e,t,r,n,o,i){const a=e.$;let d="";if(!a||typeof a=="string")hs(a)?d=a:t.push(a);else if(typeof a=="function"){const c=a({context:n.context,props:o});hs(c)?d=c:t.push(c)}else if(a.before&&a.before(n.context),!a.$||typeof a.$=="string")hs(a.$)?d=a.$:t.push(a.$);else if(a.$){const c=a.$({context:n.context,props:o});hs(c)?d=c:t.push(c)}const l=hC(t),s=qd(l,e.props,n,o);d?(r.push(`${d} {`),i&&s&&i.insertRule(`${d} {
${s}
}
`)):(i&&s&&i.insertRule(s),!i&&s.length&&r.push(s)),e.children&&nu(e.children,{context:n.context,props:o},c=>{if(typeof c=="string"){const u=qd(l,{raw:c},n,o);i?i.insertRule(u):r.push(u)}else fg(c,t,r,n,o,i)}),t.pop(),d&&r.push("}"),a&&a.after&&a.after(n.context)}function hg(e,t,r,n=!1){const o=[];return fg(e,[],o,t,r,n?e.instance.__styleSheet:void 0),n?"":o.join(`

`)}function Fi(e){for(var t=0,r,n=0,o=e.length;o>=4;++n,o-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}typeof window<"u"&&(window.__cssrContext={});function bC(e,t,r){const{els:n}=t;if(r===void 0)n.forEach(Xd),t.els=[];else{const o=Ta(r);o&&n.includes(o)&&(Xd(o),t.els=n.filter(i=>i!==o))}}function Zd(e,t){e.push(t)}function yC(e,t,r,n,o,i,a,d,l){if(i&&!l){if(r===void 0){console.error("[css-render/mount]: `id` is required in `silent` mode.");return}const f=window.__cssrContext;f[r]||(f[r]=!0,hg(t,e,n,i));return}let s;if(r===void 0&&(s=t.render(n),r=Fi(s)),l){l.adapter(r,s??t.render(n));return}const c=Ta(r);if(c!==null&&!a)return c;const u=c??pC(r);if(s===void 0&&(s=t.render(n)),u.textContent=s,c!==null)return c;if(d){const f=document.head.querySelector(`meta[name="${d}"]`);if(f)return document.head.insertBefore(u,f),Zd(t.els,u),u}return o?document.head.insertBefore(u,document.head.querySelector("style, link")):document.head.appendChild(u),Zd(t.els,u),u}function xC(e){return hg(this,this.instance,e)}function _C(e={}){const{id:t,ssr:r,props:n,head:o=!1,silent:i=!1,force:a=!1,anchorMetaName:d}=e;return yC(this.instance,this,t,n,o,i,a,d,r)}function CC(e={}){const{id:t}=e;bC(this.instance,this,t)}const ps=function(e,t,r,n){return{instance:e,$:t,props:r,children:n,els:[],render:xC,mount:_C,unmount:CC}},SC=function(e,t,r,n){return Array.isArray(t)?ps(e,{$:null},null,t):Array.isArray(r)?ps(e,t,null,r):Array.isArray(n)?ps(e,t,r,n):ps(e,t,r,null)};function pg(e={}){let t=null;const r={c:(...n)=>SC(r,...n),use:(n,...o)=>n.install(r,...o),find:Ta,context:{},config:e,get __styleSheet(){if(!t){const n=document.createElement("style");return document.head.appendChild(n),t=document.styleSheets[document.styleSheets.length-1],t}return t}};return r}function EC(e,t){if(e===void 0)return!1;if(t){const{context:{ids:r}}=t;return r.has(e)}return Ta(e)!==null}function wC(e){let t=".",r="__",n="--",o;if(e){let v=e.blockPrefix;v&&(t=v),v=e.elementPrefix,v&&(r=v),v=e.modifierPrefix,v&&(n=v)}const i={install(v){o=v.c;const b=v.context;b.bem={},b.bem.b=null,b.bem.els=null}};function a(v){let b,g;return{before(m){b=m.bem.b,g=m.bem.els,m.bem.els=null},after(m){m.bem.b=b,m.bem.els=g},$({context:m,props:h}){return v=typeof v=="string"?v:v({context:m,props:h}),m.bem.b=v,`${(h==null?void 0:h.bPrefix)||t}${m.bem.b}`}}}function d(v){let b;return{before(g){b=g.bem.els},after(g){g.bem.els=b},$({context:g,props:m}){return v=typeof v=="string"?v:v({context:g,props:m}),g.bem.els=v.split(",").map(h=>h.trim()),g.bem.els.map(h=>`${(m==null?void 0:m.bPrefix)||t}${g.bem.b}${r}${h}`).join(", ")}}}function l(v){return{$({context:b,props:g}){v=typeof v=="string"?v:v({context:b,props:g});const m=v.split(",").map(y=>y.trim());function h(y){return m.map(p=>`&${(g==null?void 0:g.bPrefix)||t}${b.bem.b}${y!==void 0?`${r}${y}`:""}${n}${p}`).join(", ")}const x=b.bem.els;return x!==null?h(x[0]):h()}}}function s(v){return{$({context:b,props:g}){v=typeof v=="string"?v:v({context:b,props:g});const m=b.bem.els;return`&:not(${(g==null?void 0:g.bPrefix)||t}${b.bem.b}${m!==null&&m.length>0?`${r}${m[0]}`:""}${n}${v})`}}}return Object.assign(i,{cB:(...v)=>o(a(v[0]),v[1],v[2]),cE:(...v)=>o(d(v[0]),v[1],v[2]),cM:(...v)=>o(l(v[0]),v[1],v[2]),cNotM:(...v)=>o(s(v[0]),v[1],v[2])}),i}function Ce(e,t){return e+(t==="default"?"":t.replace(/^[a-z]/,r=>r.toUpperCase()))}Ce("abc","def");const TC="n",Bi=`.${TC}-`,RC="__",AC="--",gg=pg(),vg=wC({blockPrefix:Bi,elementPrefix:RC,modifierPrefix:AC});gg.use(vg);const{c:X,find:qB}=gg,{cB:V,cE:oe,cM:le,cNotM:Gt}=vg;function nc(e){return X(({props:{bPrefix:t}})=>`${t||Bi}modal, ${t||Bi}drawer`,[e])}function mg(e){return X(({props:{bPrefix:t}})=>`${t||Bi}popover`,[e])}function bg(e){return X(({props:{bPrefix:t}})=>`&${t||Bi}modal`,e)}const LC=(...e)=>X(">",[V(...e)]);let ll;function PC(){return ll===void 0&&(ll=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),ll}const mn=typeof document<"u"&&typeof window<"u",kC=new WeakSet;function OC(e){return!kC.has(e)}function DC(e,t,r){if(!t)return e;const n=Q(e.value);let o=null;return tt(e,i=>{o!==null&&window.clearTimeout(o),i===!0?r&&!r.value?n.value=!0:o=window.setTimeout(()=>{n.value=!0},t):n.value=!1}),n}function IC(e){const t=Q(!!e.value);if(t.value)return pr(t);const r=tt(e,n=>{n&&(t.value=!0,r())});return pr(t)}function Dt(e){const t=ne(e),r=Q(t.value);return tt(t,n=>{r.value=n}),typeof e=="function"?r:{__v_isRef:!0,get value(){return r.value},set value(n){e.set(n)}}}function Ra(){return ar()!==null}const Aa=typeof window<"u";let Co,yi;const MC=()=>{var e,t;Co=Aa?(t=(e=document)===null||e===void 0?void 0:e.fonts)===null||t===void 0?void 0:t.ready:void 0,yi=!1,Co!==void 0?Co.then(()=>{yi=!0}):yi=!0};MC();function yg(e){if(yi)return;let t=!1;Rt(()=>{yi||Co==null||Co.then(()=>{t||e()})}),_t(()=>{t=!0})}function Ps(e){return e.composedPath()[0]}const FC={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function BC(e,t,r){if(e==="mousemoveoutside"){const n=o=>{t.contains(Ps(o))||r(o)};return{mousemove:n,touchstart:n}}else if(e==="clickoutside"){let n=!1;const o=a=>{n=!t.contains(Ps(a))},i=a=>{n&&(t.contains(Ps(a))||r(a))};return{mousedown:o,mouseup:i,touchstart:o,touchend:i}}return console.error(`[evtd/create-trap-handler]: name \`${e}\` is invalid. This could be a bug of evtd.`),{}}function xg(e,t,r){const n=FC[e];let o=n.get(t);o===void 0&&n.set(t,o=new WeakMap);let i=o.get(r);return i===void 0&&o.set(r,i=BC(e,t,r)),i}function NC(e,t,r,n){if(e==="mousemoveoutside"||e==="clickoutside"){const o=xg(e,t,r);return Object.keys(o).forEach(i=>{ct(i,document,o[i],n)}),!0}return!1}function $C(e,t,r,n){if(e==="mousemoveoutside"||e==="clickoutside"){const o=xg(e,t,r);return Object.keys(o).forEach(i=>{st(i,document,o[i],n)}),!0}return!1}function UC(){if(typeof window>"u")return{on:()=>{},off:()=>{}};const e=new WeakMap,t=new WeakMap;function r(){e.set(this,!0)}function n(){e.set(this,!0),t.set(this,!0)}function o(S,w,A){const E=S[w];return S[w]=function(){return A.apply(S,arguments),E.apply(S,arguments)},S}function i(S,w){S[w]=Event.prototype[w]}const a=new WeakMap,d=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function l(){var S;return(S=a.get(this))!==null&&S!==void 0?S:null}function s(S,w){d!==void 0&&Object.defineProperty(S,"currentTarget",{configurable:!0,enumerable:!0,get:w??d.get})}const c={bubble:{},capture:{}},u={};function f(){const S=function(w){const{type:A,eventPhase:E,bubbles:R}=w,T=Ps(w);if(E===2)return;const L=E===1?"capture":"bubble";let P=T;const k=[];for(;P===null&&(P=window),k.push(P),P!==window;)P=P.parentNode||null;const D=c.capture[A],O=c.bubble[A];if(o(w,"stopPropagation",r),o(w,"stopImmediatePropagation",n),s(w,l),L==="capture"){if(D===void 0)return;for(let M=k.length-1;M>=0&&!e.has(w);--M){const F=k[M],N=D.get(F);if(N!==void 0){a.set(w,F);for(const U of N){if(t.has(w))break;U(w)}}if(M===0&&!R&&O!==void 0){const U=O.get(F);if(U!==void 0)for(const G of U){if(t.has(w))break;G(w)}}}}else if(L==="bubble"){if(O===void 0)return;for(let M=0;M<k.length&&!e.has(w);++M){const F=k[M],N=O.get(F);if(N!==void 0){a.set(w,F);for(const U of N){if(t.has(w))break;U(w)}}}}i(w,"stopPropagation"),i(w,"stopImmediatePropagation"),s(w)};return S.displayName="evtdUnifiedHandler",S}function _(){const S=function(w){const{type:A,eventPhase:E}=w;if(E!==2)return;const R=u[A];R!==void 0&&R.forEach(T=>T(w))};return S.displayName="evtdUnifiedWindowEventHandler",S}const v=f(),b=_();function g(S,w){const A=c[S];return A[w]===void 0&&(A[w]=new Map,window.addEventListener(w,v,S==="capture")),A[w]}function m(S){return u[S]===void 0&&(u[S]=new Set,window.addEventListener(S,b)),u[S]}function h(S,w){let A=S.get(w);return A===void 0&&S.set(w,A=new Set),A}function x(S,w,A,E){const R=c[w][A];if(R!==void 0){const T=R.get(S);if(T!==void 0&&T.has(E))return!0}return!1}function y(S,w){const A=u[S];return!!(A!==void 0&&A.has(w))}function p(S,w,A,E){let R;if(typeof E=="object"&&E.once===!0?R=D=>{C(S,w,R,E),A(D)}:R=A,NC(S,w,R,E))return;const L=E===!0||typeof E=="object"&&E.capture===!0?"capture":"bubble",P=g(L,S),k=h(P,w);if(k.has(R)||k.add(R),w===window){const D=m(S);D.has(R)||D.add(R)}}function C(S,w,A,E){if($C(S,w,A,E))return;const T=E===!0||typeof E=="object"&&E.capture===!0,L=T?"capture":"bubble",P=g(L,S),k=h(P,w);if(w===window&&!x(w,T?"bubble":"capture",S,A)&&y(S,A)){const O=u[S];O.delete(A),O.size===0&&(window.removeEventListener(S,b),u[S]=void 0)}k.has(A)&&k.delete(A),k.size===0&&P.delete(w),P.size===0&&(window.removeEventListener(S,v,L==="capture"),c[L][S]=void 0)}return{on:p,off:C}}const{on:ct,off:st}=UC(),di=Q(null);function Jd(e){if(e.clientX>0||e.clientY>0)di.value={x:e.clientX,y:e.clientY};else{const{target:t}=e;if(t instanceof Element){const{left:r,top:n,width:o,height:i}=t.getBoundingClientRect();r>0||n>0?di.value={x:r+o/2,y:n+i/2}:di.value={x:0,y:0}}else di.value=null}}let gs=0,Qd=!0;function zC(){if(!Aa)return pr(Q(null));gs===0&&ct("click",document,Jd,!0);const e=()=>{gs+=1};return Qd&&(Qd=Ra())?(mr(e),_t(()=>{gs-=1,gs===0&&st("click",document,Jd,!0)})):e(),pr(di)}const jC=Q(void 0);let vs=0;function ef(){jC.value=Date.now()}let tf=!0;function HC(e){if(!Aa)return pr(Q(!1));const t=Q(!1);let r=null;function n(){r!==null&&window.clearTimeout(r)}function o(){n(),t.value=!0,r=window.setTimeout(()=>{t.value=!1},e)}vs===0&&ct("click",window,ef,!0);const i=()=>{vs+=1,ct("click",window,o,!0)};return tf&&(tf=Ra())?(mr(i),_t(()=>{vs-=1,vs===0&&st("click",window,ef,!0),st("click",window,o,!0),n()})):i(),pr(t)}let ms=0;const WC=typeof window<"u"&&window.matchMedia!==void 0,Un=Q(null);let _r,Mn;function Js(e){e.matches&&(Un.value="dark")}function Qs(e){e.matches&&(Un.value="light")}function GC(){_r=window.matchMedia("(prefers-color-scheme: dark)"),Mn=window.matchMedia("(prefers-color-scheme: light)"),_r.matches?Un.value="dark":Mn.matches?Un.value="light":Un.value=null,_r.addEventListener?(_r.addEventListener("change",Js),Mn.addEventListener("change",Qs)):_r.addListener&&(_r.addListener(Js),Mn.addListener(Qs))}function VC(){"removeEventListener"in _r?(_r.removeEventListener("change",Js),Mn.removeEventListener("change",Qs)):"removeListener"in _r&&(_r.removeListener(Js),Mn.removeListener(Qs)),_r=void 0,Mn=void 0}let rf=!0;function KC(){return WC&&(ms===0&&GC(),rf&&(rf=Ra())&&(mr(()=>{ms+=1}),_t(()=>{ms-=1,ms===0&&VC()}))),pr(Un)}function Xi(e,t){return tt(e,r=>{r!==void 0&&(t.value=r)}),ne(()=>e.value===void 0?t.value:e.value)}function qi(){const e=Q(!1);return Rt(()=>{e.value=!0}),pr(e)}function ea(e,t){return ne(()=>{for(const r of t)if(e[r]!==void 0)return e[r];return e[t[t.length-1]]})}const YC=(typeof window>"u"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function XC(){return YC}const qC={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function ZC(e){return`(min-width: ${e}px)`}const ti={};function JC(e=qC){if(!Aa)return ne(()=>[]);if(typeof window.matchMedia!="function")return ne(()=>[]);const t=Q({}),r=Object.keys(e),n=(o,i)=>{o.matches?t.value[i]=!0:t.value[i]=!1};return r.forEach(o=>{const i=e[o];let a,d;ti[i]===void 0?(a=window.matchMedia(ZC(i)),a.addEventListener?a.addEventListener("change",l=>{d.forEach(s=>{s(l,o)})}):a.addListener&&a.addListener(l=>{d.forEach(s=>{s(l,o)})}),d=new Set,ti[i]={mql:a,cbs:d}):(a=ti[i].mql,d=ti[i].cbs),d.add(n),a.matches&&d.forEach(l=>{l(a,o)})}),_t(()=>{r.forEach(o=>{const{cbs:i}=ti[e[o]];i.has(n)&&i.delete(n)})}),ne(()=>{const{value:o}=t;return r.filter(i=>o[i])})}function QC(e={},t){const r=Jt({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:n,keyup:o}=e,i=l=>{switch(l.key){case"Control":r.ctrl=!0;break;case"Meta":r.command=!0,r.win=!0;break;case"Shift":r.shift=!0;break;case"Tab":r.tab=!0;break}n!==void 0&&Object.keys(n).forEach(s=>{if(s!==l.key)return;const c=n[s];if(typeof c=="function")c(l);else{const{stop:u=!1,prevent:f=!1}=c;u&&l.stopPropagation(),f&&l.preventDefault(),c.handler(l)}})},a=l=>{switch(l.key){case"Control":r.ctrl=!1;break;case"Meta":r.command=!1,r.win=!1;break;case"Shift":r.shift=!1;break;case"Tab":r.tab=!1;break}o!==void 0&&Object.keys(o).forEach(s=>{if(s!==l.key)return;const c=o[s];if(typeof c=="function")c(l);else{const{stop:u=!1,prevent:f=!1}=c;u&&l.stopPropagation(),f&&l.preventDefault(),c.handler(l)}})},d=()=>{(t===void 0||t.value)&&(ct("keydown",document,i),ct("keyup",document,a)),t!==void 0&&tt(t,l=>{l?(ct("keydown",document,i),ct("keyup",document,a)):(st("keydown",document,i),st("keyup",document,a))})};return Ra()?(mr(d),_t(()=>{(t===void 0||t.value)&&(st("keydown",document,i),st("keyup",document,a))})):d(),pr(r)}const eS="n-internal-select-menu-body",La="n-modal-body",_g="n-modal",Pa="n-drawer-body",Zi="n-popover-body",Cg="__disabled__";function Lo(e){const t=$e(La,null),r=$e(Pa,null),n=$e(Zi,null),o=$e(eS,null),i=Q();if(typeof document<"u"){i.value=document.fullscreenElement;const a=()=>{i.value=document.fullscreenElement};Rt(()=>{ct("fullscreenchange",document,a)}),_t(()=>{st("fullscreenchange",document,a)})}return Dt(()=>{var a;const{to:d}=e;return d!==void 0?d===!1?Cg:d===!0?i.value||"body":d:t!=null&&t.value?(a=t.value.$el)!==null&&a!==void 0?a:t.value:r!=null&&r.value?r.value:n!=null&&n.value?n.value:o!=null&&o.value?o.value:d??(i.value||"body")})}Lo.tdkey=Cg;Lo.propTo={type:[String,Object,Boolean],default:void 0};function ou(e,t,r="default"){const n=t[r];if(n===void 0)throw new Error(`[vueuc/${e}]: slot[${r}] is empty.`);return n()}function iu(e,t=!0,r=[]){return e.forEach(n=>{if(n!==null){if(typeof n!="object"){(typeof n=="string"||typeof n=="number")&&r.push(Xe(String(n)));return}if(Array.isArray(n)){iu(n,t,r);return}if(n.type===Qe){if(n.children===null)return;Array.isArray(n.children)&&iu(n.children,t,r)}else n.type!==Vt&&r.push(n)}}),r}function nf(e,t,r="default"){const n=t[r];if(n===void 0)throw new Error(`[vueuc/${e}]: slot[${r}] is empty.`);const o=iu(n());if(o.length===1)return o[0];throw new Error(`[vueuc/${e}]: slot[${r}] should have exactly one child.`)}let rn=null;function Sg(){if(rn===null&&(rn=document.getElementById("v-binder-view-measurer"),rn===null)){rn=document.createElement("div"),rn.id="v-binder-view-measurer";const{style:e}=rn;e.position="fixed",e.left="0",e.right="0",e.top="0",e.bottom="0",e.pointerEvents="none",e.visibility="hidden",document.body.appendChild(rn)}return rn.getBoundingClientRect()}function tS(e,t){const r=Sg();return{top:t,left:e,height:0,width:0,right:r.width-e,bottom:r.height-t}}function ul(e){const t=e.getBoundingClientRect(),r=Sg();return{left:t.left-r.left,top:t.top-r.top,bottom:r.height+r.top-t.bottom,right:r.width+r.left-t.right,width:t.width,height:t.height}}function rS(e){return e.nodeType===9?null:e.parentNode}function Eg(e){if(e===null)return null;const t=rS(e);if(t===null)return null;if(t.nodeType===9)return document;if(t.nodeType===1){const{overflow:r,overflowX:n,overflowY:o}=getComputedStyle(t);if(/(auto|scroll|overlay)/.test(r+o+n))return t}return Eg(t)}const nS=ye({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(e){var t;ut("VBinder",(t=ar())===null||t===void 0?void 0:t.proxy);const r=$e("VBinder",null),n=Q(null),o=m=>{n.value=m,r&&e.syncTargetWithParent&&r.setTargetRef(m)};let i=[];const a=()=>{let m=n.value;for(;m=Eg(m),m!==null;)i.push(m);for(const h of i)ct("scroll",h,u,!0)},d=()=>{for(const m of i)st("scroll",m,u,!0);i=[]},l=new Set,s=m=>{l.size===0&&a(),l.has(m)||l.add(m)},c=m=>{l.has(m)&&l.delete(m),l.size===0&&d()},u=()=>{tc(f)},f=()=>{l.forEach(m=>m())},_=new Set,v=m=>{_.size===0&&ct("resize",window,g),_.has(m)||_.add(m)},b=m=>{_.has(m)&&_.delete(m),_.size===0&&st("resize",window,g)},g=()=>{_.forEach(m=>m())};return _t(()=>{st("resize",window,g),d()}),{targetRef:n,setTargetRef:o,addScrollListener:s,removeScrollListener:c,addResizeListener:v,removeResizeListener:b}},render(){return ou("binder",this.$slots)}}),wg=nS,Tg=ye({name:"Target",setup(){const{setTargetRef:e,syncTarget:t}=$e("VBinder");return{syncTarget:t,setTargetDirective:{mounted:e,updated:e}}},render(){const{syncTarget:e,setTargetDirective:t}=this;return e?yt(nf("follower",this.$slots),[[t]]):nf("follower",this.$slots)}}),ao="@@mmoContext",oS={mounted(e,{value:t}){e[ao]={handler:void 0},typeof t=="function"&&(e[ao].handler=t,ct("mousemoveoutside",e,t))},updated(e,{value:t}){const r=e[ao];typeof t=="function"?r.handler?r.handler!==t&&(st("mousemoveoutside",e,r.handler),r.handler=t,ct("mousemoveoutside",e,t)):(e[ao].handler=t,ct("mousemoveoutside",e,t)):r.handler&&(st("mousemoveoutside",e,r.handler),r.handler=void 0)},unmounted(e){const{handler:t}=e[ao];t&&st("mousemoveoutside",e,t),e[ao].handler=void 0}},iS=oS,lo="@@coContext",sS={mounted(e,{value:t,modifiers:r}){e[lo]={handler:void 0},typeof t=="function"&&(e[lo].handler=t,ct("clickoutside",e,t,{capture:r.capture}))},updated(e,{value:t,modifiers:r}){const n=e[lo];typeof t=="function"?n.handler?n.handler!==t&&(st("clickoutside",e,n.handler,{capture:r.capture}),n.handler=t,ct("clickoutside",e,t,{capture:r.capture})):(e[lo].handler=t,ct("clickoutside",e,t,{capture:r.capture})):n.handler&&(st("clickoutside",e,n.handler,{capture:r.capture}),n.handler=void 0)},unmounted(e,{modifiers:t}){const{handler:r}=e[lo];r&&st("clickoutside",e,r,{capture:t.capture}),e[lo].handler=void 0}},su=sS;function aS(e,t){console.error(`[vdirs/${e}]: ${t}`)}class lS{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(t,r){const{elementZIndex:n}=this;if(r!==void 0){t.style.zIndex=`${r}`,n.delete(t);return}const{nextZIndex:o}=this;n.has(t)&&n.get(t)+1===this.nextZIndex||(t.style.zIndex=`${o}`,n.set(t,o),this.nextZIndex=o+1,this.squashState())}unregister(t,r){const{elementZIndex:n}=this;n.has(t)?n.delete(t):r===void 0&&aS("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:t}=this;t||(this.nextZIndex=2e3),this.nextZIndex-t>2500&&this.rearrange()}rearrange(){const t=Array.from(this.elementZIndex.entries());t.sort((r,n)=>r[1]-n[1]),this.nextZIndex=2e3,t.forEach(r=>{const n=r[0],o=this.nextZIndex++;`${o}`!==n.style.zIndex&&(n.style.zIndex=`${o}`)})}}const cl=new lS,uo="@@ziContext",uS={mounted(e,t){const{value:r={}}=t,{zIndex:n,enabled:o}=r;e[uo]={enabled:!!o,initialized:!1},o&&(cl.ensureZIndex(e,n),e[uo].initialized=!0)},updated(e,t){const{value:r={}}=t,{zIndex:n,enabled:o}=r,i=e[uo].enabled;o&&!i&&(cl.ensureZIndex(e,n),e[uo].initialized=!0),e[uo].enabled=!!o},unmounted(e,t){if(!e[uo].initialized)return;const{value:r={}}=t,{zIndex:n}=r;cl.unregister(e,n)}},ka=uS,Rg=Symbol("@css-render/vue3-ssr");function cS(e,t){return`<style cssr-id="${e}">
${t}
</style>`}function dS(e,t){const r=$e(Rg,null);if(r===null){console.error("[css-render/vue3-ssr]: no ssr context found.");return}const{styles:n,ids:o}=r;o.has(e)||n!==null&&(o.add(e),n.push(cS(e,t)))}const fS=typeof document<"u";function Fo(){if(fS)return;const e=$e(Rg,null);if(e!==null)return{adapter:dS,context:e}}function of(e,t){console.error(`[vueuc/${e}]: ${t}`)}const{c:vo}=pg(),Ag="vueuc-style";function sf(e){return typeof e=="string"?document.querySelector(e):e()}const oc=ye({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(e){return{showTeleport:IC(Be(e,"show")),mergedTo:ne(()=>{const{to:t}=e;return t??"body"})}},render(){return this.showTeleport?this.disabled?ou("lazy-teleport",this.$slots):I(Gu,{disabled:this.disabled,to:this.mergedTo},ou("lazy-teleport",this.$slots)):null}}),bs={top:"bottom",bottom:"top",left:"right",right:"left"},af={start:"end",center:"center",end:"start"},dl={top:"height",bottom:"height",left:"width",right:"width"},hS={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},pS={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},gS={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},lf={top:!0,bottom:!1,left:!0,right:!1},uf={top:"end",bottom:"start",left:"end",right:"start"};function vS(e,t,r,n,o,i){if(!o||i)return{placement:e,top:0,left:0};const[a,d]=e.split("-");let l=d??"center",s={top:0,left:0};const c=(_,v,b)=>{let g=0,m=0;const h=r[_]-t[v]-t[_];return h>0&&n&&(b?m=lf[v]?h:-h:g=lf[v]?h:-h),{left:g,top:m}},u=a==="left"||a==="right";if(l!=="center"){const _=gS[e],v=bs[_],b=dl[_];if(r[b]>t[b]){if(t[_]+t[b]<r[b]){const g=(r[b]-t[b])/2;t[_]<g||t[v]<g?t[_]<t[v]?(l=af[d],s=c(b,v,u)):s=c(b,_,u):l="center"}}else r[b]<t[b]&&t[v]<0&&t[_]>t[v]&&(l=af[d])}else{const _=a==="bottom"||a==="top"?"left":"top",v=bs[_],b=dl[_],g=(r[b]-t[b])/2;(t[_]<g||t[v]<g)&&(t[_]>t[v]?(l=uf[_],s=c(b,_,u)):(l=uf[v],s=c(b,v,u)))}let f=a;return t[a]<r[dl[a]]&&t[a]<t[bs[a]]&&(f=bs[a]),{placement:l!=="center"?`${f}-${l}`:f,left:s.left,top:s.top}}function mS(e,t){return t?pS[e]:hS[e]}function bS(e,t,r,n,o,i){if(i)switch(e){case"bottom-start":return{top:`${Math.round(r.top-t.top+r.height)}px`,left:`${Math.round(r.left-t.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(r.top-t.top+r.height)}px`,left:`${Math.round(r.left-t.left+r.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(r.top-t.top)}px`,left:`${Math.round(r.left-t.left)}px`,transform:""};case"top-end":return{top:`${Math.round(r.top-t.top)}px`,left:`${Math.round(r.left-t.left+r.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(r.top-t.top)}px`,left:`${Math.round(r.left-t.left+r.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(r.top-t.top+r.height)}px`,left:`${Math.round(r.left-t.left+r.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(r.top-t.top)}px`,left:`${Math.round(r.left-t.left)}px`,transform:""};case"left-end":return{top:`${Math.round(r.top-t.top+r.height)}px`,left:`${Math.round(r.left-t.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(r.top-t.top)}px`,left:`${Math.round(r.left-t.left+r.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(r.top-t.top+r.height/2)}px`,left:`${Math.round(r.left-t.left+r.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(r.top-t.top+r.height/2)}px`,left:`${Math.round(r.left-t.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(r.top-t.top+r.height)}px`,left:`${Math.round(r.left-t.left+r.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(e){case"bottom-start":return{top:`${Math.round(r.top-t.top+r.height+n)}px`,left:`${Math.round(r.left-t.left+o)}px`,transform:""};case"bottom-end":return{top:`${Math.round(r.top-t.top+r.height+n)}px`,left:`${Math.round(r.left-t.left+r.width+o)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(r.top-t.top+n)}px`,left:`${Math.round(r.left-t.left+o)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(r.top-t.top+n)}px`,left:`${Math.round(r.left-t.left+r.width+o)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(r.top-t.top+n)}px`,left:`${Math.round(r.left-t.left+r.width+o)}px`,transform:""};case"right-end":return{top:`${Math.round(r.top-t.top+r.height+n)}px`,left:`${Math.round(r.left-t.left+r.width+o)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(r.top-t.top+n)}px`,left:`${Math.round(r.left-t.left+o)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(r.top-t.top+r.height+n)}px`,left:`${Math.round(r.left-t.left+o)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(r.top-t.top+n)}px`,left:`${Math.round(r.left-t.left+r.width/2+o)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(r.top-t.top+r.height/2+n)}px`,left:`${Math.round(r.left-t.left+r.width+o)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(r.top-t.top+r.height/2+n)}px`,left:`${Math.round(r.left-t.left+o)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(r.top-t.top+r.height+n)}px`,left:`${Math.round(r.left-t.left+r.width/2+o)}px`,transform:"translateX(-50%)"}}}const yS=vo([vo(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),vo(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[vo("> *",{pointerEvents:"all"})])]),Lg=ye({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(e){const t=$e("VBinder"),r=Dt(()=>e.enabled!==void 0?e.enabled:e.show),n=Q(null),o=Q(null),i=()=>{const{syncTrigger:f}=e;f.includes("scroll")&&t.addScrollListener(l),f.includes("resize")&&t.addResizeListener(l)},a=()=>{t.removeScrollListener(l),t.removeResizeListener(l)};Rt(()=>{r.value&&(l(),i())});const d=Fo();yS.mount({id:"vueuc/binder",head:!0,anchorMetaName:Ag,ssr:d}),_t(()=>{a()}),yg(()=>{r.value&&l()});const l=()=>{if(!r.value)return;const f=n.value;if(f===null)return;const _=t.targetRef,{x:v,y:b,overlap:g}=e,m=v!==void 0&&b!==void 0?tS(v,b):ul(_);f.style.setProperty("--v-target-width",`${Math.round(m.width)}px`),f.style.setProperty("--v-target-height",`${Math.round(m.height)}px`);const{width:h,minWidth:x,placement:y,internalShift:p,flip:C}=e;f.setAttribute("v-placement",y),g?f.setAttribute("v-overlap",""):f.removeAttribute("v-overlap");const{style:S}=f;h==="target"?S.width=`${m.width}px`:h!==void 0?S.width=h:S.width="",x==="target"?S.minWidth=`${m.width}px`:x!==void 0?S.minWidth=x:S.minWidth="";const w=ul(f),A=ul(o.value),{left:E,top:R,placement:T}=vS(y,m,w,p,C,g),L=mS(T,g),{left:P,top:k,transform:D}=bS(T,A,m,R,E,g);f.setAttribute("v-placement",T),f.style.setProperty("--v-offset-left",`${Math.round(E)}px`),f.style.setProperty("--v-offset-top",`${Math.round(R)}px`),f.style.transform=`translateX(${P}) translateY(${k}) ${D}`,f.style.setProperty("--v-transform-origin",L),f.style.transformOrigin=L};tt(r,f=>{f?(i(),s()):a()});const s=()=>{$t().then(l).catch(f=>console.error(f))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(f=>{tt(Be(e,f),l)}),["teleportDisabled"].forEach(f=>{tt(Be(e,f),s)}),tt(Be(e,"syncTrigger"),f=>{f.includes("resize")?t.addResizeListener(l):t.removeResizeListener(l),f.includes("scroll")?t.addScrollListener(l):t.removeScrollListener(l)});const c=qi(),u=Dt(()=>{const{to:f}=e;if(f!==void 0)return f;c.value});return{VBinder:t,mergedEnabled:r,offsetContainerRef:o,followerRef:n,mergedTo:u,syncPosition:l}},render(){return I(oc,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var e,t;const r=I("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[I("div",{class:"v-binder-follower-content",ref:"followerRef"},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))]);return this.zindexable?yt(r,[[ka,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):r}})}});var zn=[],xS=function(){return zn.some(function(e){return e.activeTargets.length>0})},_S=function(){return zn.some(function(e){return e.skippedTargets.length>0})},cf="ResizeObserver loop completed with undelivered notifications.",CS=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:cf}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=cf),window.dispatchEvent(e)},Ni;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Ni||(Ni={}));var jn=function(e){return Object.freeze(e)},SS=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,jn(this)}return e}(),Pg=function(){function e(t,r,n,o){return this.x=t,this.y=r,this.width=n,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,jn(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,n=t.y,o=t.top,i=t.right,a=t.bottom,d=t.left,l=t.width,s=t.height;return{x:r,y:n,top:o,right:i,bottom:a,left:d,width:l,height:s}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),ic=function(e){return e instanceof SVGElement&&"getBBox"in e},kg=function(e){if(ic(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var o=e,i=o.offsetWidth,a=o.offsetHeight;return!(i||a||e.getClientRects().length)},df=function(e){var t;if(e instanceof Element)return!0;var r=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},ES=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},xi=typeof window<"u"?window:{},ys=new WeakMap,ff=/auto|scroll/,wS=/^tb|vertical/,TS=/msie|trident/i.test(xi.navigator&&xi.navigator.userAgent),Lr=function(e){return parseFloat(e||"0")},So=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new SS((r?t:e)||0,(r?e:t)||0)},hf=jn({devicePixelContentBoxSize:So(),borderBoxSize:So(),contentBoxSize:So(),contentRect:new Pg(0,0,0,0)}),Og=function(e,t){if(t===void 0&&(t=!1),ys.has(e)&&!t)return ys.get(e);if(kg(e))return ys.set(e,hf),hf;var r=getComputedStyle(e),n=ic(e)&&e.ownerSVGElement&&e.getBBox(),o=!TS&&r.boxSizing==="border-box",i=wS.test(r.writingMode||""),a=!n&&ff.test(r.overflowY||""),d=!n&&ff.test(r.overflowX||""),l=n?0:Lr(r.paddingTop),s=n?0:Lr(r.paddingRight),c=n?0:Lr(r.paddingBottom),u=n?0:Lr(r.paddingLeft),f=n?0:Lr(r.borderTopWidth),_=n?0:Lr(r.borderRightWidth),v=n?0:Lr(r.borderBottomWidth),b=n?0:Lr(r.borderLeftWidth),g=u+s,m=l+c,h=b+_,x=f+v,y=d?e.offsetHeight-x-e.clientHeight:0,p=a?e.offsetWidth-h-e.clientWidth:0,C=o?g+h:0,S=o?m+x:0,w=n?n.width:Lr(r.width)-C-p,A=n?n.height:Lr(r.height)-S-y,E=w+g+p+h,R=A+m+y+x,T=jn({devicePixelContentBoxSize:So(Math.round(w*devicePixelRatio),Math.round(A*devicePixelRatio),i),borderBoxSize:So(E,R,i),contentBoxSize:So(w,A,i),contentRect:new Pg(u,l,w,A)});return ys.set(e,T),T},Dg=function(e,t,r){var n=Og(e,r),o=n.borderBoxSize,i=n.contentBoxSize,a=n.devicePixelContentBoxSize;switch(t){case Ni.DEVICE_PIXEL_CONTENT_BOX:return a;case Ni.BORDER_BOX:return o;default:return i}},RS=function(){function e(t){var r=Og(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=jn([r.borderBoxSize]),this.contentBoxSize=jn([r.contentBoxSize]),this.devicePixelContentBoxSize=jn([r.devicePixelContentBoxSize])}return e}(),Ig=function(e){if(kg(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t},AS=function(){var e=1/0,t=[];zn.forEach(function(a){if(a.activeTargets.length!==0){var d=[];a.activeTargets.forEach(function(s){var c=new RS(s.target),u=Ig(s.target);d.push(c),s.lastReportedSize=Dg(s.target,s.observedBox),u<e&&(e=u)}),t.push(function(){a.callback.call(a.observer,d,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var r=0,n=t;r<n.length;r++){var o=n[r];o()}return e},pf=function(e){zn.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(o){o.isActive()&&(Ig(o.target)>e?r.activeTargets.push(o):r.skippedTargets.push(o))})})},LS=function(){var e=0;for(pf(e);xS();)e=AS(),pf(e);return _S()&&CS(),e>0},fl,Mg=[],PS=function(){return Mg.splice(0).forEach(function(e){return e()})},kS=function(e){if(!fl){var t=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return PS()}).observe(r,n),fl=function(){r.textContent="".concat(t?t--:t++)}}Mg.push(e),fl()},OS=function(e){kS(function(){requestAnimationFrame(e)})},ks=0,DS=function(){return!!ks},IS=250,MS={attributes:!0,characterData:!0,childList:!0,subtree:!0},gf=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],vf=function(e){return e===void 0&&(e=0),Date.now()+e},hl=!1,FS=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=IS),!hl){hl=!0;var n=vf(t);OS(function(){var o=!1;try{o=LS()}finally{if(hl=!1,t=n-vf(),!DS())return;o?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,MS)};document.body?r():xi.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),gf.forEach(function(r){return xi.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),gf.forEach(function(r){return xi.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),au=new FS,mf=function(e){!ks&&e>0&&au.start(),ks+=e,!ks&&au.stop()},BS=function(e){return!ic(e)&&!ES(e)&&getComputedStyle(e).display==="inline"},NS=function(){function e(t,r){this.target=t,this.observedBox=r||Ni.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=Dg(this.target,this.observedBox,!0);return BS(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),$S=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}(),xs=new WeakMap,bf=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},_s=function(){function e(){}return e.connect=function(t,r){var n=new $S(t,r);xs.set(t,n)},e.observe=function(t,r,n){var o=xs.get(t),i=o.observationTargets.length===0;bf(o.observationTargets,r)<0&&(i&&zn.push(o),o.observationTargets.push(new NS(r,n&&n.box)),mf(1),au.schedule())},e.unobserve=function(t,r){var n=xs.get(t),o=bf(n.observationTargets,r),i=n.observationTargets.length===1;o>=0&&(i&&zn.splice(zn.indexOf(n),1),n.observationTargets.splice(o,1),mf(-1))},e.disconnect=function(t){var r=this,n=xs.get(t);n.observationTargets.slice().forEach(function(o){return r.unobserve(t,o.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),US=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");_s.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!df(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");_s.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!df(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");_s.unobserve(this,t)},e.prototype.disconnect=function(){_s.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();class zS{constructor(){this.handleResize=this.handleResize.bind(this),this.observer=new(typeof window<"u"&&window.ResizeObserver||US)(this.handleResize),this.elHandlersMap=new Map}handleResize(t){for(const r of t){const n=this.elHandlersMap.get(r.target);n!==void 0&&n(r)}}registerHandler(t,r){this.elHandlersMap.set(t,r),this.observer.observe(t)}unregisterHandler(t){this.elHandlersMap.has(t)&&(this.elHandlersMap.delete(t),this.observer.unobserve(t))}}const yf=new zS,Gn=ye({name:"ResizeObserver",props:{onResize:Function},setup(e){let t=!1;const r=ar().proxy;function n(o){const{onResize:i}=e;i!==void 0&&i(o)}Rt(()=>{const o=r.$el;if(o===void 0){of("resize-observer","$el does not exist.");return}if(o.nextElementSibling!==o.nextSibling&&o.nodeType===3&&o.nodeValue!==""){of("resize-observer","$el can not be observed (it may be a text node).");return}o.nextElementSibling!==null&&(yf.registerHandler(o.nextElementSibling,n),t=!0)}),_t(()=>{t&&yf.unregisterHandler(r.$el.nextElementSibling)})},render(){return xp(this.$slots,"default")}}),jS=vo(".v-x-scroll",{overflow:"auto",scrollbarWidth:"none"},[vo("&::-webkit-scrollbar",{width:0,height:0})]),HS=ye({name:"XScroll",props:{disabled:Boolean,onScroll:Function},setup(){const e=Q(null);function t(o){!(o.currentTarget.offsetWidth<o.currentTarget.scrollWidth)||o.deltaY===0||(o.currentTarget.scrollLeft+=o.deltaY+o.deltaX,o.preventDefault())}const r=Fo();return jS.mount({id:"vueuc/x-scroll",head:!0,anchorMetaName:Ag,ssr:r}),Object.assign({selfRef:e,handleWheel:t},{scrollTo(...o){var i;(i=e.value)===null||i===void 0||i.scrollTo(...o)}})},render(){return I("div",{ref:"selfRef",onScroll:this.onScroll,onWheel:this.disabled?void 0:this.handleWheel,class:"v-x-scroll"},this.$slots)}});function Fg(e){return e instanceof HTMLElement}function Bg(e){for(let t=0;t<e.childNodes.length;t++){const r=e.childNodes[t];if(Fg(r)&&($g(r)||Bg(r)))return!0}return!1}function Ng(e){for(let t=e.childNodes.length-1;t>=0;t--){const r=e.childNodes[t];if(Fg(r)&&($g(r)||Ng(r)))return!0}return!1}function $g(e){if(!WS(e))return!1;try{e.focus({preventScroll:!0})}catch{}return document.activeElement===e}function WS(e){if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.getAttribute("disabled"))return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return e.type!=="hidden"&&e.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}let ri=[];const Ug=ye({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(e){const t=Ii(),r=Q(null),n=Q(null);let o=!1,i=!1;const a=typeof document>"u"?null:document.activeElement;function d(){return ri[ri.length-1]===t}function l(g){var m;g.code==="Escape"&&d()&&((m=e.onEsc)===null||m===void 0||m.call(e,g))}Rt(()=>{tt(()=>e.active,g=>{g?(u(),ct("keydown",document,l)):(st("keydown",document,l),o&&f())},{immediate:!0})}),_t(()=>{st("keydown",document,l),o&&f()});function s(g){if(!i&&d()){const m=c();if(m===null||m.contains(Di(g)))return;_("first")}}function c(){const g=r.value;if(g===null)return null;let m=g;for(;m=m.nextSibling,!(m===null||m instanceof Element&&m.tagName==="DIV"););return m}function u(){var g;if(!e.disabled){if(ri.push(t),e.autoFocus){const{initialFocusTo:m}=e;m===void 0?_("first"):(g=sf(m))===null||g===void 0||g.focus({preventScroll:!0})}o=!0,document.addEventListener("focus",s,!0)}}function f(){var g;if(e.disabled||(document.removeEventListener("focus",s,!0),ri=ri.filter(h=>h!==t),d()))return;const{finalFocusTo:m}=e;m!==void 0?(g=sf(m))===null||g===void 0||g.focus({preventScroll:!0}):e.returnFocusOnDeactivated&&a instanceof HTMLElement&&(i=!0,a.focus({preventScroll:!0}),i=!1)}function _(g){if(d()&&e.active){const m=r.value,h=n.value;if(m!==null&&h!==null){const x=c();if(x==null||x===h){i=!0,m.focus({preventScroll:!0}),i=!1;return}i=!0;const y=g==="first"?Bg(x):Ng(x);i=!1,y||(i=!0,m.focus({preventScroll:!0}),i=!1)}}}function v(g){if(i)return;const m=c();m!==null&&(g.relatedTarget!==null&&m.contains(g.relatedTarget)?_("last"):_("first"))}function b(g){i||(g.relatedTarget!==null&&g.relatedTarget===r.value?_("last"):_("first"))}return{focusableStartRef:r,focusableEndRef:n,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:v,handleEndFocus:b}},render(){const{default:e}=this.$slots;if(e===void 0)return null;if(this.disabled)return e();const{active:t,focusableStyle:r}=this;return I(Qe,null,[I("div",{"aria-hidden":"true",tabindex:t?"0":"-1",ref:"focusableStartRef",style:r,onFocus:this.handleStartFocus}),e(),I("div",{"aria-hidden":"true",style:r,ref:"focusableEndRef",tabindex:t?"0":"-1",onFocus:this.handleEndFocus})])}});let co=0,xf="",_f="",Cf="",Sf="";const Ef=Q("0px");function GS(e){if(typeof document>"u")return;const t=document.documentElement;let r,n=!1;const o=()=>{t.style.marginRight=xf,t.style.overflow=_f,t.style.overflowX=Cf,t.style.overflowY=Sf,Ef.value="0px"};Rt(()=>{r=tt(e,i=>{if(i){if(!co){const a=window.innerWidth-t.offsetWidth;a>0&&(xf=t.style.marginRight,t.style.marginRight=`${a}px`,Ef.value=`${a}px`),_f=t.style.overflow,Cf=t.style.overflowX,Sf=t.style.overflowY,t.style.overflow="hidden",t.style.overflowX="hidden",t.style.overflowY="hidden"}n=!0,co++}else co--,co||o(),n=!1},{immediate:!0})}),_t(()=>{r==null||r(),n&&(co--,co||o(),n=!1)})}const sc=Q(!1),wf=()=>{sc.value=!0},Tf=()=>{sc.value=!1};let ni=0;const VS=()=>(mn&&(mr(()=>{ni||(window.addEventListener("compositionstart",wf),window.addEventListener("compositionend",Tf)),ni++}),_t(()=>{ni<=1?(window.removeEventListener("compositionstart",wf),window.removeEventListener("compositionend",Tf),ni=0):ni--})),sc);function KS(e){const t={isDeactivated:!1};let r=!1;return xa(()=>{if(t.isDeactivated=!1,!r){r=!0;return}e()}),_a(()=>{t.isDeactivated=!0,r||(r=!0)}),t}const Rf="n-form-item";function ac(e,{defaultSize:t="medium",mergedSize:r,mergedDisabled:n}={}){const o=$e(Rf,null);ut(Rf,null);const i=ne(r?()=>r(o):()=>{const{size:l}=e;if(l)return l;if(o){const{mergedSize:s}=o;if(s.value!==void 0)return s.value}return t}),a=ne(n?()=>n(o):()=>{const{disabled:l}=e;return l!==void 0?l:o?o.disabled.value:!1}),d=ne(()=>{const{status:l}=e;return l||(o==null?void 0:o.mergedValidationStatus.value)});return _t(()=>{o&&o.restoreValidation()}),{mergedSizeRef:i,mergedDisabledRef:a,mergedStatusRef:d,nTriggerFormBlur(){o&&o.handleContentBlur()},nTriggerFormChange(){o&&o.handleContentChange()},nTriggerFormFocus(){o&&o.handleContentFocus()},nTriggerFormInput(){o&&o.handleContentInput()}}}var YS=typeof global=="object"&&global&&global.Object===Object&&global;const zg=YS;var XS=typeof self=="object"&&self&&self.Object===Object&&self,qS=zg||XS||Function("return this")();const Rr=qS;var ZS=Rr.Symbol;const hn=ZS;var jg=Object.prototype,JS=jg.hasOwnProperty,QS=jg.toString,oi=hn?hn.toStringTag:void 0;function eE(e){var t=JS.call(e,oi),r=e[oi];try{e[oi]=void 0;var n=!0}catch{}var o=QS.call(e);return n&&(t?e[oi]=r:delete e[oi]),o}var tE=Object.prototype,rE=tE.toString;function nE(e){return rE.call(e)}var oE="[object Null]",iE="[object Undefined]",Af=hn?hn.toStringTag:void 0;function Zn(e){return e==null?e===void 0?iE:oE:Af&&Af in Object(e)?eE(e):nE(e)}function pn(e){return e!=null&&typeof e=="object"}var sE="[object Symbol]";function Oa(e){return typeof e=="symbol"||pn(e)&&Zn(e)==sE}function Hg(e,t){for(var r=-1,n=e==null?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}var aE=Array.isArray;const gr=aE;var lE=1/0,Lf=hn?hn.prototype:void 0,Pf=Lf?Lf.toString:void 0;function Wg(e){if(typeof e=="string")return e;if(gr(e))return Hg(e,Wg)+"";if(Oa(e))return Pf?Pf.call(e):"";var t=e+"";return t=="0"&&1/e==-lE?"-0":t}var uE=/\s/;function cE(e){for(var t=e.length;t--&&uE.test(e.charAt(t)););return t}var dE=/^\s+/;function fE(e){return e&&e.slice(0,cE(e)+1).replace(dE,"")}function vr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var kf=0/0,hE=/^[-+]0x[0-9a-f]+$/i,pE=/^0b[01]+$/i,gE=/^0o[0-7]+$/i,vE=parseInt;function Of(e){if(typeof e=="number")return e;if(Oa(e))return kf;if(vr(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=vr(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=fE(e);var r=pE.test(e);return r||gE.test(e)?vE(e.slice(2),r?2:8):hE.test(e)?kf:+e}function lc(e){return e}var mE="[object AsyncFunction]",bE="[object Function]",yE="[object GeneratorFunction]",xE="[object Proxy]";function uc(e){if(!vr(e))return!1;var t=Zn(e);return t==bE||t==yE||t==mE||t==xE}var _E=Rr["__core-js_shared__"];const pl=_E;var Df=function(){var e=/[^.]+$/.exec(pl&&pl.keys&&pl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function CE(e){return!!Df&&Df in e}var SE=Function.prototype,EE=SE.toString;function Jn(e){if(e!=null){try{return EE.call(e)}catch{}try{return e+""}catch{}}return""}var wE=/[\\^$.*+?()[\]{}|]/g,TE=/^\[object .+?Constructor\]$/,RE=Function.prototype,AE=Object.prototype,LE=RE.toString,PE=AE.hasOwnProperty,kE=RegExp("^"+LE.call(PE).replace(wE,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function OE(e){if(!vr(e)||CE(e))return!1;var t=uc(e)?kE:TE;return t.test(Jn(e))}function DE(e,t){return e==null?void 0:e[t]}function Qn(e,t){var r=DE(e,t);return OE(r)?r:void 0}var IE=Qn(Rr,"WeakMap");const lu=IE;var If=Object.create,ME=function(){function e(){}return function(t){if(!vr(t))return{};if(If)return If(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();const FE=ME;function BE(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function NE(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var $E=800,UE=16,zE=Date.now;function jE(e){var t=0,r=0;return function(){var n=zE(),o=UE-(n-r);if(r=n,o>0){if(++t>=$E)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function HE(e){return function(){return e}}var WE=function(){try{var e=Qn(Object,"defineProperty");return e({},"",{}),e}catch{}}();const ta=WE;var GE=ta?function(e,t){return ta(e,"toString",{configurable:!0,enumerable:!1,value:HE(t),writable:!0})}:lc;const VE=GE;var KE=jE(VE);const YE=KE;var XE=9007199254740991,qE=/^(?:0|[1-9]\d*)$/;function cc(e,t){var r=typeof e;return t=t??XE,!!t&&(r=="number"||r!="symbol"&&qE.test(e))&&e>-1&&e%1==0&&e<t}function dc(e,t,r){t=="__proto__"&&ta?ta(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Ji(e,t){return e===t||e!==e&&t!==t}var ZE=Object.prototype,JE=ZE.hasOwnProperty;function QE(e,t,r){var n=e[t];(!(JE.call(e,t)&&Ji(n,r))||r===void 0&&!(t in e))&&dc(e,t,r)}function ew(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var d=t[i],l=n?n(r[d],e[d],d,r,e):void 0;l===void 0&&(l=e[d]),o?dc(r,d,l):QE(r,d,l)}return r}var Mf=Math.max;function tw(e,t,r){return t=Mf(t===void 0?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=Mf(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];o=-1;for(var d=Array(t+1);++o<t;)d[o]=n[o];return d[t]=r(a),BE(e,this,d)}}function rw(e,t){return YE(tw(e,t,lc),e+"")}var nw=9007199254740991;function fc(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=nw}function Bo(e){return e!=null&&fc(e.length)&&!uc(e)}function ow(e,t,r){if(!vr(r))return!1;var n=typeof t;return(n=="number"?Bo(r)&&cc(t,r.length):n=="string"&&t in r)?Ji(r[t],e):!1}function iw(e){return rw(function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,a&&ow(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++n<o;){var d=r[n];d&&e(t,d,n,i)}return t})}var sw=Object.prototype;function hc(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||sw;return e===r}function aw(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var lw="[object Arguments]";function Ff(e){return pn(e)&&Zn(e)==lw}var Gg=Object.prototype,uw=Gg.hasOwnProperty,cw=Gg.propertyIsEnumerable,dw=Ff(function(){return arguments}())?Ff:function(e){return pn(e)&&uw.call(e,"callee")&&!cw.call(e,"callee")};const ra=dw;function fw(){return!1}var Vg=typeof nr=="object"&&nr&&!nr.nodeType&&nr,Bf=Vg&&typeof or=="object"&&or&&!or.nodeType&&or,hw=Bf&&Bf.exports===Vg,Nf=hw?Rr.Buffer:void 0,pw=Nf?Nf.isBuffer:void 0,gw=pw||fw;const na=gw;var vw="[object Arguments]",mw="[object Array]",bw="[object Boolean]",yw="[object Date]",xw="[object Error]",_w="[object Function]",Cw="[object Map]",Sw="[object Number]",Ew="[object Object]",ww="[object RegExp]",Tw="[object Set]",Rw="[object String]",Aw="[object WeakMap]",Lw="[object ArrayBuffer]",Pw="[object DataView]",kw="[object Float32Array]",Ow="[object Float64Array]",Dw="[object Int8Array]",Iw="[object Int16Array]",Mw="[object Int32Array]",Fw="[object Uint8Array]",Bw="[object Uint8ClampedArray]",Nw="[object Uint16Array]",$w="[object Uint32Array]",gt={};gt[kw]=gt[Ow]=gt[Dw]=gt[Iw]=gt[Mw]=gt[Fw]=gt[Bw]=gt[Nw]=gt[$w]=!0;gt[vw]=gt[mw]=gt[Lw]=gt[bw]=gt[Pw]=gt[yw]=gt[xw]=gt[_w]=gt[Cw]=gt[Sw]=gt[Ew]=gt[ww]=gt[Tw]=gt[Rw]=gt[Aw]=!1;function Uw(e){return pn(e)&&fc(e.length)&&!!gt[Zn(e)]}function zw(e){return function(t){return e(t)}}var Kg=typeof nr=="object"&&nr&&!nr.nodeType&&nr,_i=Kg&&typeof or=="object"&&or&&!or.nodeType&&or,jw=_i&&_i.exports===Kg,gl=jw&&zg.process,Hw=function(){try{var e=_i&&_i.require&&_i.require("util").types;return e||gl&&gl.binding&&gl.binding("util")}catch{}}();const $f=Hw;var Uf=$f&&$f.isTypedArray,Ww=Uf?zw(Uf):Uw;const pc=Ww;var Gw=Object.prototype,Vw=Gw.hasOwnProperty;function Yg(e,t){var r=gr(e),n=!r&&ra(e),o=!r&&!n&&na(e),i=!r&&!n&&!o&&pc(e),a=r||n||o||i,d=a?aw(e.length,String):[],l=d.length;for(var s in e)(t||Vw.call(e,s))&&!(a&&(s=="length"||o&&(s=="offset"||s=="parent")||i&&(s=="buffer"||s=="byteLength"||s=="byteOffset")||cc(s,l)))&&d.push(s);return d}function Xg(e,t){return function(r){return e(t(r))}}var Kw=Xg(Object.keys,Object);const Yw=Kw;var Xw=Object.prototype,qw=Xw.hasOwnProperty;function Zw(e){if(!hc(e))return Yw(e);var t=[];for(var r in Object(e))qw.call(e,r)&&r!="constructor"&&t.push(r);return t}function gc(e){return Bo(e)?Yg(e):Zw(e)}function Jw(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Qw=Object.prototype,eT=Qw.hasOwnProperty;function tT(e){if(!vr(e))return Jw(e);var t=hc(e),r=[];for(var n in e)n=="constructor"&&(t||!eT.call(e,n))||r.push(n);return r}function qg(e){return Bo(e)?Yg(e,!0):tT(e)}var rT=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nT=/^\w*$/;function vc(e,t){if(gr(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Oa(e)?!0:nT.test(e)||!rT.test(e)||t!=null&&e in Object(t)}var oT=Qn(Object,"create");const $i=oT;function iT(){this.__data__=$i?$i(null):{},this.size=0}function sT(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var aT="__lodash_hash_undefined__",lT=Object.prototype,uT=lT.hasOwnProperty;function cT(e){var t=this.__data__;if($i){var r=t[e];return r===aT?void 0:r}return uT.call(t,e)?t[e]:void 0}var dT=Object.prototype,fT=dT.hasOwnProperty;function hT(e){var t=this.__data__;return $i?t[e]!==void 0:fT.call(t,e)}var pT="__lodash_hash_undefined__";function gT(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$i&&t===void 0?pT:t,this}function Vn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Vn.prototype.clear=iT;Vn.prototype.delete=sT;Vn.prototype.get=cT;Vn.prototype.has=hT;Vn.prototype.set=gT;function vT(){this.__data__=[],this.size=0}function Da(e,t){for(var r=e.length;r--;)if(Ji(e[r][0],t))return r;return-1}var mT=Array.prototype,bT=mT.splice;function yT(e){var t=this.__data__,r=Da(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():bT.call(t,r,1),--this.size,!0}function xT(e){var t=this.__data__,r=Da(t,e);return r<0?void 0:t[r][1]}function _T(e){return Da(this.__data__,e)>-1}function CT(e,t){var r=this.__data__,n=Da(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function qr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}qr.prototype.clear=vT;qr.prototype.delete=yT;qr.prototype.get=xT;qr.prototype.has=_T;qr.prototype.set=CT;var ST=Qn(Rr,"Map");const Ui=ST;function ET(){this.size=0,this.__data__={hash:new Vn,map:new(Ui||qr),string:new Vn}}function wT(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ia(e,t){var r=e.__data__;return wT(t)?r[typeof t=="string"?"string":"hash"]:r.map}function TT(e){var t=Ia(this,e).delete(e);return this.size-=t?1:0,t}function RT(e){return Ia(this,e).get(e)}function AT(e){return Ia(this,e).has(e)}function LT(e,t){var r=Ia(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Zr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zr.prototype.clear=ET;Zr.prototype.delete=TT;Zr.prototype.get=RT;Zr.prototype.has=AT;Zr.prototype.set=LT;var PT="Expected a function";function mc(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(PT);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(mc.Cache||Zr),r}mc.Cache=Zr;var kT=500;function OT(e){var t=mc(e,function(n){return r.size===kT&&r.clear(),n}),r=t.cache;return t}var DT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,IT=/\\(\\)?/g,MT=OT(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(DT,function(r,n,o,i){t.push(o?i.replace(IT,"$1"):n||r)}),t});const FT=MT;function Ma(e){return e==null?"":Wg(e)}function Zg(e,t){return gr(e)?e:vc(e,t)?[e]:FT(Ma(e))}var BT=1/0;function Fa(e){if(typeof e=="string"||Oa(e))return e;var t=e+"";return t=="0"&&1/e==-BT?"-0":t}function Jg(e,t){t=Zg(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Fa(t[r++])];return r&&r==n?e:void 0}function NT(e,t,r){var n=e==null?void 0:Jg(e,t);return n===void 0?r:n}function $T(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}var UT=Xg(Object.getPrototypeOf,Object);const Qg=UT;var zT="[object Object]",jT=Function.prototype,HT=Object.prototype,ev=jT.toString,WT=HT.hasOwnProperty,GT=ev.call(Object);function VT(e){if(!pn(e)||Zn(e)!=zT)return!1;var t=Qg(e);if(t===null)return!0;var r=WT.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ev.call(r)==GT}function KT(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),r=r>o?o:r,r<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i}function YT(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:KT(e,t,r)}var XT="\\ud800-\\udfff",qT="\\u0300-\\u036f",ZT="\\ufe20-\\ufe2f",JT="\\u20d0-\\u20ff",QT=qT+ZT+JT,eR="\\ufe0e\\ufe0f",tR="\\u200d",rR=RegExp("["+tR+XT+QT+eR+"]");function tv(e){return rR.test(e)}function nR(e){return e.split("")}var rv="\\ud800-\\udfff",oR="\\u0300-\\u036f",iR="\\ufe20-\\ufe2f",sR="\\u20d0-\\u20ff",aR=oR+iR+sR,lR="\\ufe0e\\ufe0f",uR="["+rv+"]",uu="["+aR+"]",cu="\\ud83c[\\udffb-\\udfff]",cR="(?:"+uu+"|"+cu+")",nv="[^"+rv+"]",ov="(?:\\ud83c[\\udde6-\\uddff]){2}",iv="[\\ud800-\\udbff][\\udc00-\\udfff]",dR="\\u200d",sv=cR+"?",av="["+lR+"]?",fR="(?:"+dR+"(?:"+[nv,ov,iv].join("|")+")"+av+sv+")*",hR=av+sv+fR,pR="(?:"+[nv+uu+"?",uu,ov,iv,uR].join("|")+")",gR=RegExp(cu+"(?="+cu+")|"+pR+hR,"g");function vR(e){return e.match(gR)||[]}function mR(e){return tv(e)?vR(e):nR(e)}function bR(e){return function(t){t=Ma(t);var r=tv(t)?mR(t):void 0,n=r?r[0]:t.charAt(0),o=r?YT(r,1).join(""):t.slice(1);return n[e]()+o}}var yR=bR("toUpperCase");const xR=yR;function _R(e,t,r,n){var o=-1,i=e==null?0:e.length;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function CR(e){return function(t){return e==null?void 0:e[t]}}var SR={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},ER=CR(SR);const wR=ER;var TR=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,RR="\\u0300-\\u036f",AR="\\ufe20-\\ufe2f",LR="\\u20d0-\\u20ff",PR=RR+AR+LR,kR="["+PR+"]",OR=RegExp(kR,"g");function DR(e){return e=Ma(e),e&&e.replace(TR,wR).replace(OR,"")}var IR=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function MR(e){return e.match(IR)||[]}var FR=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function BR(e){return FR.test(e)}var lv="\\ud800-\\udfff",NR="\\u0300-\\u036f",$R="\\ufe20-\\ufe2f",UR="\\u20d0-\\u20ff",zR=NR+$R+UR,uv="\\u2700-\\u27bf",cv="a-z\\xdf-\\xf6\\xf8-\\xff",jR="\\xac\\xb1\\xd7\\xf7",HR="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",WR="\\u2000-\\u206f",GR=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dv="A-Z\\xc0-\\xd6\\xd8-\\xde",VR="\\ufe0e\\ufe0f",fv=jR+HR+WR+GR,hv="[']",zf="["+fv+"]",KR="["+zR+"]",pv="\\d+",YR="["+uv+"]",gv="["+cv+"]",vv="[^"+lv+fv+pv+uv+cv+dv+"]",XR="\\ud83c[\\udffb-\\udfff]",qR="(?:"+KR+"|"+XR+")",ZR="[^"+lv+"]",mv="(?:\\ud83c[\\udde6-\\uddff]){2}",bv="[\\ud800-\\udbff][\\udc00-\\udfff]",po="["+dv+"]",JR="\\u200d",jf="(?:"+gv+"|"+vv+")",QR="(?:"+po+"|"+vv+")",Hf="(?:"+hv+"(?:d|ll|m|re|s|t|ve))?",Wf="(?:"+hv+"(?:D|LL|M|RE|S|T|VE))?",yv=qR+"?",xv="["+VR+"]?",e2="(?:"+JR+"(?:"+[ZR,mv,bv].join("|")+")"+xv+yv+")*",t2="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",r2="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",n2=xv+yv+e2,o2="(?:"+[YR,mv,bv].join("|")+")"+n2,i2=RegExp([po+"?"+gv+"+"+Hf+"(?="+[zf,po,"$"].join("|")+")",QR+"+"+Wf+"(?="+[zf,po+jf,"$"].join("|")+")",po+"?"+jf+"+"+Hf,po+"+"+Wf,r2,t2,pv,o2].join("|"),"g");function s2(e){return e.match(i2)||[]}function a2(e,t,r){return e=Ma(e),t=r?void 0:t,t===void 0?BR(e)?s2(e):MR(e):e.match(t)||[]}var l2="[']",u2=RegExp(l2,"g");function c2(e){return function(t){return _R(a2(DR(t).replace(u2,"")),e,"")}}function d2(){this.__data__=new qr,this.size=0}function f2(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function h2(e){return this.__data__.get(e)}function p2(e){return this.__data__.has(e)}var g2=200;function v2(e,t){var r=this.__data__;if(r instanceof qr){var n=r.__data__;if(!Ui||n.length<g2-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Zr(n)}return r.set(e,t),this.size=r.size,this}function Br(e){var t=this.__data__=new qr(e);this.size=t.size}Br.prototype.clear=d2;Br.prototype.delete=f2;Br.prototype.get=h2;Br.prototype.has=p2;Br.prototype.set=v2;var _v=typeof nr=="object"&&nr&&!nr.nodeType&&nr,Gf=_v&&typeof or=="object"&&or&&!or.nodeType&&or,m2=Gf&&Gf.exports===_v,Vf=m2?Rr.Buffer:void 0,Kf=Vf?Vf.allocUnsafe:void 0;function b2(e,t){if(t)return e.slice();var r=e.length,n=Kf?Kf(r):new e.constructor(r);return e.copy(n),n}function y2(e,t){for(var r=-1,n=e==null?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}function x2(){return[]}var _2=Object.prototype,C2=_2.propertyIsEnumerable,Yf=Object.getOwnPropertySymbols,S2=Yf?function(e){return e==null?[]:(e=Object(e),y2(Yf(e),function(t){return C2.call(e,t)}))}:x2;const E2=S2;function w2(e,t,r){var n=t(e);return gr(e)?n:$T(n,r(e))}function Xf(e){return w2(e,gc,E2)}var T2=Qn(Rr,"DataView");const du=T2;var R2=Qn(Rr,"Promise");const fu=R2;var A2=Qn(Rr,"Set");const hu=A2;var qf="[object Map]",L2="[object Object]",Zf="[object Promise]",Jf="[object Set]",Qf="[object WeakMap]",eh="[object DataView]",P2=Jn(du),k2=Jn(Ui),O2=Jn(fu),D2=Jn(hu),I2=Jn(lu),Tn=Zn;(du&&Tn(new du(new ArrayBuffer(1)))!=eh||Ui&&Tn(new Ui)!=qf||fu&&Tn(fu.resolve())!=Zf||hu&&Tn(new hu)!=Jf||lu&&Tn(new lu)!=Qf)&&(Tn=function(e){var t=Zn(e),r=t==L2?e.constructor:void 0,n=r?Jn(r):"";if(n)switch(n){case P2:return eh;case k2:return qf;case O2:return Zf;case D2:return Jf;case I2:return Qf}return t});const th=Tn;var M2=Rr.Uint8Array;const oa=M2;function F2(e){var t=new e.constructor(e.byteLength);return new oa(t).set(new oa(e)),t}function B2(e,t){var r=t?F2(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function N2(e){return typeof e.constructor=="function"&&!hc(e)?FE(Qg(e)):{}}var $2="__lodash_hash_undefined__";function U2(e){return this.__data__.set(e,$2),this}function z2(e){return this.__data__.has(e)}function ia(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Zr;++t<r;)this.add(e[t])}ia.prototype.add=ia.prototype.push=U2;ia.prototype.has=z2;function j2(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function H2(e,t){return e.has(t)}var W2=1,G2=2;function Cv(e,t,r,n,o,i){var a=r&W2,d=e.length,l=t.length;if(d!=l&&!(a&&l>d))return!1;var s=i.get(e),c=i.get(t);if(s&&c)return s==t&&c==e;var u=-1,f=!0,_=r&G2?new ia:void 0;for(i.set(e,t),i.set(t,e);++u<d;){var v=e[u],b=t[u];if(n)var g=a?n(b,v,u,t,e,i):n(v,b,u,e,t,i);if(g!==void 0){if(g)continue;f=!1;break}if(_){if(!j2(t,function(m,h){if(!H2(_,h)&&(v===m||o(v,m,r,n,i)))return _.push(h)})){f=!1;break}}else if(!(v===b||o(v,b,r,n,i))){f=!1;break}}return i.delete(e),i.delete(t),f}function V2(e){var t=-1,r=Array(e.size);return e.forEach(function(n,o){r[++t]=[o,n]}),r}function K2(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Y2=1,X2=2,q2="[object Boolean]",Z2="[object Date]",J2="[object Error]",Q2="[object Map]",eA="[object Number]",tA="[object RegExp]",rA="[object Set]",nA="[object String]",oA="[object Symbol]",iA="[object ArrayBuffer]",sA="[object DataView]",rh=hn?hn.prototype:void 0,vl=rh?rh.valueOf:void 0;function aA(e,t,r,n,o,i,a){switch(r){case sA:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case iA:return!(e.byteLength!=t.byteLength||!i(new oa(e),new oa(t)));case q2:case Z2:case eA:return Ji(+e,+t);case J2:return e.name==t.name&&e.message==t.message;case tA:case nA:return e==t+"";case Q2:var d=V2;case rA:var l=n&Y2;if(d||(d=K2),e.size!=t.size&&!l)return!1;var s=a.get(e);if(s)return s==t;n|=X2,a.set(e,t);var c=Cv(d(e),d(t),n,o,i,a);return a.delete(e),c;case oA:if(vl)return vl.call(e)==vl.call(t)}return!1}var lA=1,uA=Object.prototype,cA=uA.hasOwnProperty;function dA(e,t,r,n,o,i){var a=r&lA,d=Xf(e),l=d.length,s=Xf(t),c=s.length;if(l!=c&&!a)return!1;for(var u=l;u--;){var f=d[u];if(!(a?f in t:cA.call(t,f)))return!1}var _=i.get(e),v=i.get(t);if(_&&v)return _==t&&v==e;var b=!0;i.set(e,t),i.set(t,e);for(var g=a;++u<l;){f=d[u];var m=e[f],h=t[f];if(n)var x=a?n(h,m,f,t,e,i):n(m,h,f,e,t,i);if(!(x===void 0?m===h||o(m,h,r,n,i):x)){b=!1;break}g||(g=f=="constructor")}if(b&&!g){var y=e.constructor,p=t.constructor;y!=p&&"constructor"in e&&"constructor"in t&&!(typeof y=="function"&&y instanceof y&&typeof p=="function"&&p instanceof p)&&(b=!1)}return i.delete(e),i.delete(t),b}var fA=1,nh="[object Arguments]",oh="[object Array]",Cs="[object Object]",hA=Object.prototype,ih=hA.hasOwnProperty;function pA(e,t,r,n,o,i){var a=gr(e),d=gr(t),l=a?oh:th(e),s=d?oh:th(t);l=l==nh?Cs:l,s=s==nh?Cs:s;var c=l==Cs,u=s==Cs,f=l==s;if(f&&na(e)){if(!na(t))return!1;a=!0,c=!1}if(f&&!c)return i||(i=new Br),a||pc(e)?Cv(e,t,r,n,o,i):aA(e,t,l,r,n,o,i);if(!(r&fA)){var _=c&&ih.call(e,"__wrapped__"),v=u&&ih.call(t,"__wrapped__");if(_||v){var b=_?e.value():e,g=v?t.value():t;return i||(i=new Br),o(b,g,r,n,i)}}return f?(i||(i=new Br),dA(e,t,r,n,o,i)):!1}function bc(e,t,r,n,o){return e===t?!0:e==null||t==null||!pn(e)&&!pn(t)?e!==e&&t!==t:pA(e,t,r,n,bc,o)}var gA=1,vA=2;function mA(e,t,r,n){var o=r.length,i=o,a=!n;if(e==null)return!i;for(e=Object(e);o--;){var d=r[o];if(a&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++o<i;){d=r[o];var l=d[0],s=e[l],c=d[1];if(a&&d[2]){if(s===void 0&&!(l in e))return!1}else{var u=new Br;if(n)var f=n(s,c,l,e,t,u);if(!(f===void 0?bc(c,s,gA|vA,n,u):f))return!1}}return!0}function Sv(e){return e===e&&!vr(e)}function bA(e){for(var t=gc(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,Sv(o)]}return t}function Ev(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function yA(e){var t=bA(e);return t.length==1&&t[0][2]?Ev(t[0][0],t[0][1]):function(r){return r===e||mA(r,e,t)}}function xA(e,t){return e!=null&&t in Object(e)}function _A(e,t,r){t=Zg(t,e);for(var n=-1,o=t.length,i=!1;++n<o;){var a=Fa(t[n]);if(!(i=e!=null&&r(e,a)))break;e=e[a]}return i||++n!=o?i:(o=e==null?0:e.length,!!o&&fc(o)&&cc(a,o)&&(gr(e)||ra(e)))}function CA(e,t){return e!=null&&_A(e,t,xA)}var SA=1,EA=2;function wA(e,t){return vc(e)&&Sv(t)?Ev(Fa(e),t):function(r){var n=NT(r,e);return n===void 0&&n===t?CA(r,e):bc(t,n,SA|EA)}}function TA(e){return function(t){return t==null?void 0:t[e]}}function RA(e){return function(t){return Jg(t,e)}}function AA(e){return vc(e)?TA(Fa(e)):RA(e)}function LA(e){return typeof e=="function"?e:e==null?lc:typeof e=="object"?gr(e)?wA(e[0],e[1]):yA(e):AA(e)}function PA(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),d=a.length;d--;){var l=a[e?d:++o];if(r(i[l],l,i)===!1)break}return t}}var kA=PA();const wv=kA;function OA(e,t){return e&&wv(e,t,gc)}function DA(e,t){return function(r,n){if(r==null)return r;if(!Bo(r))return e(r,n);for(var o=r.length,i=t?o:-1,a=Object(r);(t?i--:++i<o)&&n(a[i],i,a)!==!1;);return r}}var IA=DA(OA);const MA=IA;var FA=function(){return Rr.Date.now()};const ml=FA;var BA="Expected a function",NA=Math.max,$A=Math.min;function UA(e,t,r){var n,o,i,a,d,l,s=0,c=!1,u=!1,f=!0;if(typeof e!="function")throw new TypeError(BA);t=Of(t)||0,vr(r)&&(c=!!r.leading,u="maxWait"in r,i=u?NA(Of(r.maxWait)||0,t):i,f="trailing"in r?!!r.trailing:f);function _(C){var S=n,w=o;return n=o=void 0,s=C,a=e.apply(w,S),a}function v(C){return s=C,d=setTimeout(m,t),c?_(C):a}function b(C){var S=C-l,w=C-s,A=t-S;return u?$A(A,i-w):A}function g(C){var S=C-l,w=C-s;return l===void 0||S>=t||S<0||u&&w>=i}function m(){var C=ml();if(g(C))return h(C);d=setTimeout(m,b(C))}function h(C){return d=void 0,f&&n?_(C):(n=o=void 0,a)}function x(){d!==void 0&&clearTimeout(d),s=0,n=l=o=d=void 0}function y(){return d===void 0?a:h(ml())}function p(){var C=ml(),S=g(C);if(n=arguments,o=this,l=C,S){if(d===void 0)return v(l);if(u)return clearTimeout(d),d=setTimeout(m,t),_(l)}return d===void 0&&(d=setTimeout(m,t)),a}return p.cancel=x,p.flush=y,p}function pu(e,t,r){(r!==void 0&&!Ji(e[t],r)||r===void 0&&!(t in e))&&dc(e,t,r)}function zA(e){return pn(e)&&Bo(e)}function gu(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function jA(e){return ew(e,qg(e))}function HA(e,t,r,n,o,i,a){var d=gu(e,r),l=gu(t,r),s=a.get(l);if(s){pu(e,r,s);return}var c=i?i(d,l,r+"",e,t,a):void 0,u=c===void 0;if(u){var f=gr(l),_=!f&&na(l),v=!f&&!_&&pc(l);c=l,f||_||v?gr(d)?c=d:zA(d)?c=NE(d):_?(u=!1,c=b2(l,!0)):v?(u=!1,c=B2(l,!0)):c=[]:VT(l)||ra(l)?(c=d,ra(d)?c=jA(d):(!vr(d)||uc(d))&&(c=N2(l))):u=!1}u&&(a.set(l,c),o(c,l,n,i,a),a.delete(l)),pu(e,r,c)}function Tv(e,t,r,n,o){e!==t&&wv(t,function(i,a){if(o||(o=new Br),vr(i))HA(e,t,a,r,Tv,n,o);else{var d=n?n(gu(e,a),i,a+"",e,t,o):void 0;d===void 0&&(d=i),pu(e,a,d)}},qg)}function WA(e,t){var r=-1,n=Bo(e)?Array(e.length):[];return MA(e,function(o,i,a){n[++r]=t(o,i,a)}),n}function GA(e,t){var r=gr(e)?Hg:WA;return r(e,LA(t))}var VA=c2(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()});const KA=VA;var YA=iw(function(e,t,r){Tv(e,t,r)});const mo=YA;var XA="Expected a function";function bl(e,t,r){var n=!0,o=!0;if(typeof e!="function")throw new TypeError(XA);return vr(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),UA(e,t,{leading:n,maxWait:t,trailing:o})}const Jr={fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontFamilyMono:"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace",fontWeight:"400",fontWeightStrong:"500",cubicBezierEaseInOut:"cubic-bezier(.4, 0, .2, 1)",cubicBezierEaseOut:"cubic-bezier(0, 0, .2, 1)",cubicBezierEaseIn:"cubic-bezier(.4, 0, 1, 1)",borderRadius:"3px",borderRadiusSmall:"2px",fontSize:"14px",fontSizeMini:"12px",fontSizeTiny:"12px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",lineHeight:"1.6",heightMini:"16px",heightTiny:"22px",heightSmall:"28px",heightMedium:"34px",heightLarge:"40px",heightHuge:"46px"},{fontSize:qA,fontFamily:ZA,lineHeight:JA}=Jr,Rv=X("body",`
 margin: 0;
 font-size: ${qA};
 font-family: ${ZA};
 line-height: ${JA};
 -webkit-text-size-adjust: 100%;
 -webkit-tap-highlight-color: transparent;
`,[X("input",`
 font-family: inherit;
 font-size: inherit;
 `)]),Yr="n-config-provider",zi="naive-ui-style";function Ge(e,t,r,n,o,i){const a=Fo(),d=$e(Yr,null);if(r){const s=()=>{const c=i==null?void 0:i.value;r.mount({id:c===void 0?t:c+t,head:!0,props:{bPrefix:c?`.${c}-`:void 0},anchorMetaName:zi,ssr:a}),d!=null&&d.preflightStyleDisabled||Rv.mount({id:"n-global",head:!0,anchorMetaName:zi,ssr:a})};a?s():mr(s)}return ne(()=>{var s;const{theme:{common:c,self:u,peers:f={}}={},themeOverrides:_={},builtinThemeOverrides:v={}}=o,{common:b,peers:g}=_,{common:m=void 0,[e]:{common:h=void 0,self:x=void 0,peers:y={}}={}}=(d==null?void 0:d.mergedThemeRef.value)||{},{common:p=void 0,[e]:C={}}=(d==null?void 0:d.mergedThemeOverridesRef.value)||{},{common:S,peers:w={}}=C,A=mo({},c||h||m||n.common,p,S,b),E=mo((s=u||x||n.self)===null||s===void 0?void 0:s(A),v,C,_);return{common:A,self:E,peers:mo({},n.peers,y,f),peerOverrides:mo({},v.peers,w,g)}})}Ge.props={theme:Object,themeOverrides:Object,builtinThemeOverrides:Object};const Av="n";function ft(e={},t={defaultBordered:!0}){const r=$e(Yr,null);return{inlineThemeDisabled:r==null?void 0:r.inlineThemeDisabled,mergedRtlRef:r==null?void 0:r.mergedRtlRef,mergedComponentPropsRef:r==null?void 0:r.mergedComponentPropsRef,mergedBreakpointsRef:r==null?void 0:r.mergedBreakpointsRef,mergedBorderedRef:ne(()=>{var n,o;const{bordered:i}=e;return i!==void 0?i:(o=(n=r==null?void 0:r.mergedBorderedRef.value)!==null&&n!==void 0?n:t.defaultBordered)!==null&&o!==void 0?o:!0}),mergedClsPrefixRef:ne(()=>(r==null?void 0:r.mergedClsPrefixRef.value)||Av),namespaceRef:ne(()=>r==null?void 0:r.mergedNamespaceRef.value)}}const QA={name:"en-US",global:{undo:"Undo",redo:"Redo",confirm:"Confirm",clear:"Clear"},Popconfirm:{positiveText:"Confirm",negativeText:"Cancel"},Cascader:{placeholder:"Please Select",loading:"Loading",loadingRequiredMessage:e=>`Please load all ${e}'s descendants before checking it.`},Time:{dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss"},DatePicker:{yearFormat:"yyyy",monthFormat:"MMM",dayFormat:"eeeeee",yearTypeFormat:"yyyy",monthTypeFormat:"yyyy-MM",dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss",quarterFormat:"yyyy-qqq",clear:"Clear",now:"Now",confirm:"Confirm",selectTime:"Select Time",selectDate:"Select Date",datePlaceholder:"Select Date",datetimePlaceholder:"Select Date and Time",monthPlaceholder:"Select Month",yearPlaceholder:"Select Year",quarterPlaceholder:"Select Quarter",startDatePlaceholder:"Start Date",endDatePlaceholder:"End Date",startDatetimePlaceholder:"Start Date and Time",endDatetimePlaceholder:"End Date and Time",startMonthPlaceholder:"Start Month",endMonthPlaceholder:"End Month",monthBeforeYear:!0,firstDayOfWeek:6,today:"Today"},DataTable:{checkTableAll:"Select all in the table",uncheckTableAll:"Unselect all in the table",confirm:"Confirm",clear:"Clear"},LegacyTransfer:{sourceTitle:"Source",targetTitle:"Target"},Transfer:{selectAll:"Select all",unselectAll:"Unselect all",clearAll:"Clear",total:e=>`Total ${e} items`,selected:e=>`${e} items selected`},Empty:{description:"No Data"},Select:{placeholder:"Please Select"},TimePicker:{placeholder:"Select Time",positiveText:"OK",negativeText:"Cancel",now:"Now"},Pagination:{goto:"Goto",selectionSuffix:"page"},DynamicTags:{add:"Add"},Log:{loading:"Loading"},Input:{placeholder:"Please Input"},InputNumber:{placeholder:"Please Input"},DynamicInput:{create:"Create"},ThemeEditor:{title:"Theme Editor",clearAllVars:"Clear All Variables",clearSearch:"Clear Search",filterCompName:"Filter Component Name",filterVarName:"Filter Variable Name",import:"Import",export:"Export",restore:"Reset to Default"},Image:{tipPrevious:"Previous picture ()",tipNext:"Next picture ()",tipCounterclockwise:"Counterclockwise",tipClockwise:"Clockwise",tipZoomOut:"Zoom out",tipZoomIn:"Zoom in",tipClose:"Close (Esc)",tipOriginalSize:"Zoom to original size"}},eL=QA;function yl(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}function ii(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",o;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):i;o=e.formattingValues[a]||e.formattingValues[i]}else{var d=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[l]||e.values[d]}var s=e.argumentCallback?e.argumentCallback(t):t;return o[s]}}function si(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var a=i[0],d=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(d)?rL(d,function(u){return u.test(a)}):tL(d,function(u){return u.test(a)}),s;s=e.valueCallback?e.valueCallback(l):l,s=r.valueCallback?r.valueCallback(s):s;var c=t.slice(a.length);return{value:s,rest:c}}}function tL(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function rL(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function nL(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var o=n[0],i=t.match(e.parsePattern);if(!i)return null;var a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;var d=t.slice(o.length);return{value:a,rest:d}}}var oL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iL=function(t,r,n){var o,i=oL[t];return typeof i=="string"?o=i:r===1?o=i.one:o=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};const sL=iL;var aL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cL={date:yl({formats:aL,defaultWidth:"full"}),time:yl({formats:lL,defaultWidth:"full"}),dateTime:yl({formats:uL,defaultWidth:"full"})};const dL=cL;var fL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hL=function(t,r,n,o){return fL[t]};const pL=hL;var gL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_L=function(t,r){var n=Number(t),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},CL={ordinalNumber:_L,era:ii({values:gL,defaultWidth:"wide"}),quarter:ii({values:vL,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ii({values:mL,defaultWidth:"wide"}),day:ii({values:bL,defaultWidth:"wide"}),dayPeriod:ii({values:yL,defaultWidth:"wide",formattingValues:xL,defaultFormattingWidth:"wide"})};const SL=CL;var EL=/^(\d+)(th|st|nd|rd)?/i,wL=/\d+/i,TL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},RL={any:[/^b/i,/^(a|c)/i]},AL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LL={any:[/1/i,/2/i,/3/i,/4/i]},PL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},OL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},DL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ML={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},FL={ordinalNumber:nL({matchPattern:EL,parsePattern:wL,valueCallback:function(t){return parseInt(t,10)}}),era:si({matchPatterns:TL,defaultMatchWidth:"wide",parsePatterns:RL,defaultParseWidth:"any"}),quarter:si({matchPatterns:AL,defaultMatchWidth:"wide",parsePatterns:LL,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:si({matchPatterns:PL,defaultMatchWidth:"wide",parsePatterns:kL,defaultParseWidth:"any"}),day:si({matchPatterns:OL,defaultMatchWidth:"wide",parsePatterns:DL,defaultParseWidth:"any"}),dayPeriod:si({matchPatterns:IL,defaultMatchWidth:"any",parsePatterns:ML,defaultParseWidth:"any"})};const BL=FL;var NL={code:"en-US",formatDistance:sL,formatLong:dL,formatRelative:pL,localize:SL,match:BL,options:{weekStartsOn:0,firstWeekContainsDate:1}};const $L=NL,UL={name:"en-US",locale:$L},zL=UL;function Lv(e){const{mergedLocaleRef:t,mergedDateLocaleRef:r}=$e(Yr,null)||{},n=ne(()=>{var i,a;return(a=(i=t==null?void 0:t.value)===null||i===void 0?void 0:i[e])!==null&&a!==void 0?a:eL[e]});return{dateLocaleRef:ne(()=>{var i;return(i=r==null?void 0:r.value)!==null&&i!==void 0?i:zL}),localeRef:n}}function bn(e,t,r){if(!t)return;const n=Fo(),o=$e(Yr,null),i=()=>{const a=r==null?void 0:r.value;t.mount({id:a===void 0?e:a+e,head:!0,anchorMetaName:zi,props:{bPrefix:a?`.${a}-`:void 0},ssr:n}),o!=null&&o.preflightStyleDisabled||Rv.mount({id:"n-global",head:!0,anchorMetaName:zi,ssr:n})};n?i():mr(i)}function Pt(e,t,r,n){var o;r||qn("useThemeClass","cssVarsRef is not passed");const i=(o=$e(Yr,null))===null||o===void 0?void 0:o.mergedThemeHashRef,a=Q(""),d=Fo();let l;const s=`__${e}`,c=()=>{let u=s;const f=t?t.value:void 0,_=i==null?void 0:i.value;_&&(u+="-"+_),f&&(u+="-"+f);const{themeOverrides:v,builtinThemeOverrides:b}=n;v&&(u+="-"+Fi(JSON.stringify(v))),b&&(u+="-"+Fi(JSON.stringify(b))),a.value=u,l=()=>{const g=r.value;let m="";for(const h in g)m+=`${h}: ${g[h]};`;X(`.${u}`,m).mount({id:u,ssr:d}),l=void 0}};return Qt(()=>{c()}),{themeClass:a,onRender:()=>{l==null||l()}}}function eo(e,t,r){if(!t)return;const n=Fo(),o=ne(()=>{const{value:a}=t;if(!a)return;const d=a[e];if(d)return d}),i=()=>{Qt(()=>{const{value:a}=r,d=`${a}${e}Rtl`;if(EC(d,n))return;const{value:l}=o;l&&l.style.mount({id:d,head:!0,anchorMetaName:zi,props:{bPrefix:a?`.${a}-`:void 0},ssr:n})})};return n?i():mr(i),o}const Pv=ye({name:"Add",render(){return I("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}});function Kt(e,t){return ye({name:xR(e),setup(){var r;const n=(r=$e(Yr,null))===null||r===void 0?void 0:r.mergedIconsRef;return()=>{var o;const i=(o=n==null?void 0:n.value)===null||o===void 0?void 0:o[e];return i?i():t}}})}const jL=Kt("attach",I("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},I("g",{fill:"currentColor","fill-rule":"nonzero"},I("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),HL=ye({name:"ChevronRight",render(){return I("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"}))}}),WL=Kt("close",I("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0},I("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},I("g",{fill:"currentColor","fill-rule":"nonzero"},I("path",{d:"M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z"}))))),kv=ye({name:"Eye",render(){return I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},I("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),I("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),GL=ye({name:"EyeOff",render(){return I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},I("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),I("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),I("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),I("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),I("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),VL=Kt("trash",I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},I("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),I("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),I("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),I("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),KL=Kt("download",I("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},I("g",{fill:"currentColor","fill-rule":"nonzero"},I("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),No=Kt("error",I("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},I("g",{"fill-rule":"nonzero"},I("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M17.8838835,16.1161165 L17.7823881,16.0249942 C17.3266086,15.6583353 16.6733914,15.6583353 16.2176119,16.0249942 L16.1161165,16.1161165 L16.0249942,16.2176119 C15.6583353,16.6733914 15.6583353,17.3266086 16.0249942,17.7823881 L16.1161165,17.8838835 L22.233,24 L16.1161165,30.1161165 L16.0249942,30.2176119 C15.6583353,30.6733914 15.6583353,31.3266086 16.0249942,31.7823881 L16.1161165,31.8838835 L16.2176119,31.9750058 C16.6733914,32.3416647 17.3266086,32.3416647 17.7823881,31.9750058 L17.8838835,31.8838835 L24,25.767 L30.1161165,31.8838835 L30.2176119,31.9750058 C30.6733914,32.3416647 31.3266086,32.3416647 31.7823881,31.9750058 L31.8838835,31.8838835 L31.9750058,31.7823881 C32.3416647,31.3266086 32.3416647,30.6733914 31.9750058,30.2176119 L31.8838835,30.1161165 L25.767,24 L31.8838835,17.8838835 L31.9750058,17.7823881 C32.3416647,17.3266086 32.3416647,16.6733914 31.9750058,16.2176119 L31.8838835,16.1161165 L31.7823881,16.0249942 C31.3266086,15.6583353 30.6733914,15.6583353 30.2176119,16.0249942 L30.1161165,16.1161165 L24,22.233 L17.8838835,16.1161165 L17.7823881,16.0249942 L17.8838835,16.1161165 Z"}))))),Kn=Kt("info",I("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},I("g",{"fill-rule":"nonzero"},I("path",{d:"M14,2 C20.6274,2 26,7.37258 26,14 C26,20.6274 20.6274,26 14,26 C7.37258,26 2,20.6274 2,14 C2,7.37258 7.37258,2 14,2 Z M14,11 C13.4477,11 13,11.4477 13,12 L13,12 L13,20 C13,20.5523 13.4477,21 14,21 C14.5523,21 15,20.5523 15,20 L15,20 L15,12 C15,11.4477 14.5523,11 14,11 Z M14,6.75 C13.3096,6.75 12.75,7.30964 12.75,8 C12.75,8.69036 13.3096,9.25 14,9.25 C14.6904,9.25 15.25,8.69036 15.25,8 C15.25,7.30964 14.6904,6.75 14,6.75 Z"}))))),$o=Kt("success",I("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},I("g",{"fill-rule":"nonzero"},I("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M32.6338835,17.6161165 C32.1782718,17.1605048 31.4584514,17.1301307 30.9676119,17.5249942 L30.8661165,17.6161165 L20.75,27.732233 L17.1338835,24.1161165 C16.6457281,23.6279612 15.8542719,23.6279612 15.3661165,24.1161165 C14.9105048,24.5717282 14.8801307,25.2915486 15.2749942,25.7823881 L15.3661165,25.8838835 L19.8661165,30.3838835 C20.3217282,30.8394952 21.0415486,30.8698693 21.5323881,30.4750058 L21.6338835,30.3838835 L32.6338835,19.3838835 C33.1220388,18.8957281 33.1220388,18.1042719 32.6338835,17.6161165 Z"}))))),Uo=Kt("warning",I("svg",{viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},I("g",{"fill-rule":"nonzero"},I("path",{d:"M12,2 C17.523,2 22,6.478 22,12 C22,17.522 17.523,22 12,22 C6.477,22 2,17.522 2,12 C2,6.478 6.477,2 12,2 Z M12.0018002,15.0037242 C11.450254,15.0037242 11.0031376,15.4508407 11.0031376,16.0023869 C11.0031376,16.553933 11.450254,17.0010495 12.0018002,17.0010495 C12.5533463,17.0010495 13.0004628,16.553933 13.0004628,16.0023869 C13.0004628,15.4508407 12.5533463,15.0037242 12.0018002,15.0037242 Z M11.99964,7 C11.4868042,7.00018474 11.0642719,7.38637706 11.0066858,7.8837365 L11,8.00036004 L11.0018003,13.0012393 L11.00857,13.117858 C11.0665141,13.6151758 11.4893244,14.0010638 12.0021602,14.0008793 C12.514996,14.0006946 12.9375283,13.6145023 12.9951144,13.1171428 L13.0018002,13.0005193 L13,7.99964009 L12.9932303,7.8830214 C12.9352861,7.38570354 12.5124758,6.99981552 11.99964,7 Z"}))))),YL=Kt("cancel",I("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},I("g",{fill:"currentColor","fill-rule":"nonzero"},I("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),XL=ye({name:"ChevronDown",render(){return I("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",fill:"currentColor"}))}}),qL=Kt("clear",I("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},I("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},I("g",{fill:"currentColor","fill-rule":"nonzero"},I("path",{d:"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"}))))),ZL=Kt("retry",I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},I("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),I("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),JL=Kt("rotateClockwise",I("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),I("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),QL=Kt("rotateClockwise",I("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),I("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),eP=Kt("zoomIn",I("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),I("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),tP=Kt("zoomOut",I("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),I("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),rP=ye({name:"ResizeSmall",render(){return I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},I("g",{fill:"none"},I("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}}),Qi=ye({name:"BaseIconSwitchTransition",setup(e,{slots:t}){const r=qi();return()=>I(Ut,{name:"icon-switch-transition",appear:r.value},t)}}),zo=ye({name:"FadeInExpandTransition",props:{appear:Boolean,group:Boolean,mode:String,onLeave:Function,onAfterLeave:Function,onAfterEnter:Function,width:Boolean,reverse:Boolean},setup(e,{slots:t}){function r(d){e.width?d.style.maxWidth=`${d.offsetWidth}px`:d.style.maxHeight=`${d.offsetHeight}px`,d.offsetWidth}function n(d){e.width?d.style.maxWidth="0":d.style.maxHeight="0",d.offsetWidth;const{onLeave:l}=e;l&&l()}function o(d){e.width?d.style.maxWidth="":d.style.maxHeight="";const{onAfterLeave:l}=e;l&&l()}function i(d){if(d.style.transition="none",e.width){const l=d.offsetWidth;d.style.maxWidth="0",d.offsetWidth,d.style.transition="",d.style.maxWidth=`${l}px`}else if(e.reverse)d.style.maxHeight=`${d.offsetHeight}px`,d.offsetHeight,d.style.transition="",d.style.maxHeight="0";else{const l=d.offsetHeight;d.style.maxHeight="0",d.offsetWidth,d.style.transition="",d.style.maxHeight=`${l}px`}d.offsetWidth}function a(d){var l;e.width?d.style.maxWidth="":e.reverse||(d.style.maxHeight=""),(l=e.onAfterEnter)===null||l===void 0||l.call(e)}return()=>{const{group:d,width:l,appear:s,mode:c}=e,u=d?qu:Ut,f={name:l?"fade-in-width-expand-transition":"fade-in-height-expand-transition",appear:s,onEnter:i,onAfterEnter:a,onBeforeLeave:r,onLeave:n,onAfterLeave:o};return d||(f.mode=c),I(u,f,t)}}}),nP=V("base-icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[X("svg",`
 height: 1em;
 width: 1em;
 `)]),lt=ye({name:"BaseIcon",props:{role:String,ariaLabel:String,ariaDisabled:{type:Boolean,default:void 0},ariaHidden:{type:Boolean,default:void 0},clsPrefix:{type:String,required:!0},onClick:Function,onMousedown:Function,onMouseup:Function},setup(e){bn("-base-icon",nP,Be(e,"clsPrefix"))},render(){return I("i",{class:`${this.clsPrefix}-base-icon`,onClick:this.onClick,onMousedown:this.onMousedown,onMouseup:this.onMouseup,role:this.role,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,"aria-disabled":this.ariaDisabled},this.$slots)}}),oP=V("base-close",`
 display: flex;
 align-items: center;
 justify-content: center;
 cursor: pointer;
 background-color: transparent;
 color: var(--n-close-icon-color);
 border-radius: var(--n-close-border-radius);
 height: var(--n-close-size);
 width: var(--n-close-size);
 font-size: var(--n-close-icon-size);
 outline: none;
 border: none;
 position: relative;
 padding: 0;
`,[le("absolute",`
 height: var(--n-close-icon-size);
 width: var(--n-close-icon-size);
 `),X("&::before",`
 content: "";
 position: absolute;
 width: var(--n-close-size);
 height: var(--n-close-size);
 left: 50%;
 top: 50%;
 transform: translateY(-50%) translateX(-50%);
 transition: inherit;
 border-radius: inherit;
 `),Gt("disabled",[X("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),X("&:hover::before",`
 background-color: var(--n-close-color-hover);
 `),X("&:focus::before",`
 background-color: var(--n-close-color-hover);
 `),X("&:active",`
 color: var(--n-close-icon-color-pressed);
 `),X("&:active::before",`
 background-color: var(--n-close-color-pressed);
 `)]),le("disabled",`
 cursor: not-allowed;
 color: var(--n-close-icon-color-disabled);
 background-color: transparent;
 `),le("round",[X("&::before",`
 border-radius: 50%;
 `)])]),es=ye({name:"BaseClose",props:{isButtonTag:{type:Boolean,default:!0},clsPrefix:{type:String,required:!0},disabled:{type:Boolean,default:void 0},focusable:{type:Boolean,default:!0},round:Boolean,onClick:Function,absolute:Boolean},setup(e){return bn("-base-close",oP,Be(e,"clsPrefix")),()=>{const{clsPrefix:t,disabled:r,absolute:n,round:o,isButtonTag:i}=e;return I(i?"button":"div",{type:i?"button":void 0,tabindex:r||!e.focusable?-1:0,"aria-disabled":r,"aria-label":"close",role:i?void 0:"button",disabled:r,class:[`${t}-base-close`,n&&`${t}-base-close--absolute`,r&&`${t}-base-close--disabled`,o&&`${t}-base-close--round`],onMousedown:d=>{e.focusable||d.preventDefault()},onClick:e.onClick},I(lt,{clsPrefix:t},{default:()=>I(WL,null)}))}}}),{cubicBezierEaseInOut:iP}=Jr;function Po({originalTransform:e="",left:t=0,top:r=0,transition:n=`all .3s ${iP} !important`}={}){return[X("&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to",{transform:e+" scale(0.75)",left:t,top:r,opacity:0}),X("&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from",{transform:`scale(1) ${e}`,left:t,top:r,opacity:1}),X("&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active",{transformOrigin:"center",position:"absolute",left:t,top:r,transition:n})]}const sP=X([X("@keyframes loading-container-rotate",`
 to {
 -webkit-transform: rotate(360deg);
 transform: rotate(360deg);
 }
 `),X("@keyframes loading-layer-rotate",`
 12.5% {
 -webkit-transform: rotate(135deg);
 transform: rotate(135deg);
 }
 25% {
 -webkit-transform: rotate(270deg);
 transform: rotate(270deg);
 }
 37.5% {
 -webkit-transform: rotate(405deg);
 transform: rotate(405deg);
 }
 50% {
 -webkit-transform: rotate(540deg);
 transform: rotate(540deg);
 }
 62.5% {
 -webkit-transform: rotate(675deg);
 transform: rotate(675deg);
 }
 75% {
 -webkit-transform: rotate(810deg);
 transform: rotate(810deg);
 }
 87.5% {
 -webkit-transform: rotate(945deg);
 transform: rotate(945deg);
 }
 100% {
 -webkit-transform: rotate(1080deg);
 transform: rotate(1080deg);
 } 
 `),X("@keyframes loading-left-spin",`
 from {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 50% {
 -webkit-transform: rotate(130deg);
 transform: rotate(130deg);
 }
 to {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 `),X("@keyframes loading-right-spin",`
 from {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 50% {
 -webkit-transform: rotate(-130deg);
 transform: rotate(-130deg);
 }
 to {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 `),V("base-loading",`
 position: relative;
 line-height: 0;
 width: 1em;
 height: 1em;
 `,[oe("transition-wrapper",`
 position: absolute;
 width: 100%;
 height: 100%;
 `,[Po()]),oe("container",`
 display: inline-flex;
 position: relative;
 direction: ltr;
 line-height: 0;
 animation: loading-container-rotate 1568.2352941176ms linear infinite;
 font-size: 0;
 letter-spacing: 0;
 white-space: nowrap;
 opacity: 1;
 width: 100%;
 height: 100%;
 `,[oe("svg",`
 stroke: var(--n-text-color);
 fill: transparent;
 position: absolute;
 height: 100%;
 overflow: hidden;
 `),oe("container-layer",`
 position: absolute;
 width: 100%;
 height: 100%;
 animation: loading-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 `,[oe("container-layer-left",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[oe("svg",`
 animation: loading-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 width: 200%;
 `)]),oe("container-layer-patch",`
 position: absolute;
 top: 0;
 left: 47.5%;
 box-sizing: border-box;
 width: 5%;
 height: 100%;
 overflow: hidden;
 `,[oe("svg",`
 left: -900%;
 width: 2000%;
 transform: rotate(180deg);
 `)]),oe("container-layer-right",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[oe("svg",`
 animation: loading-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 left: -100%;
 width: 200%;
 `)])])]),oe("placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Po({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})])])]),aP={strokeWidth:{type:Number,default:28},stroke:{type:String,default:void 0}},yc=ye({name:"BaseLoading",props:Object.assign({clsPrefix:{type:String,required:!0},show:{type:Boolean,default:!0},scale:{type:Number,default:1},radius:{type:Number,default:100}},aP),setup(e){bn("-base-loading",sP,Be(e,"clsPrefix"))},render(){const{clsPrefix:e,radius:t,strokeWidth:r,stroke:n,scale:o}=this,i=t/o;return I("div",{class:`${e}-base-loading`,role:"img","aria-label":"loading"},I(Qi,null,{default:()=>this.show?I("div",{key:"icon",class:`${e}-base-loading__transition-wrapper`},I("div",{class:`${e}-base-loading__container`},I("div",{class:`${e}-base-loading__container-layer`},I("div",{class:`${e}-base-loading__container-layer-left`},I("svg",{class:`${e}-base-loading__svg`,viewBox:`0 0 ${2*i} ${2*i}`,xmlns:"http://www.w3.org/2000/svg",style:{color:n}},I("circle",{fill:"none",stroke:"currentColor","stroke-width":r,"stroke-linecap":"round",cx:i,cy:i,r:t-r/2,"stroke-dasharray":4.91*t,"stroke-dashoffset":2.46*t}))),I("div",{class:`${e}-base-loading__container-layer-patch`},I("svg",{class:`${e}-base-loading__svg`,viewBox:`0 0 ${2*i} ${2*i}`,xmlns:"http://www.w3.org/2000/svg",style:{color:n}},I("circle",{fill:"none",stroke:"currentColor","stroke-width":r,"stroke-linecap":"round",cx:i,cy:i,r:t-r/2,"stroke-dasharray":4.91*t,"stroke-dashoffset":2.46*t}))),I("div",{class:`${e}-base-loading__container-layer-right`},I("svg",{class:`${e}-base-loading__svg`,viewBox:`0 0 ${2*i} ${2*i}`,xmlns:"http://www.w3.org/2000/svg",style:{color:n}},I("circle",{fill:"none",stroke:"currentColor","stroke-width":r,"stroke-linecap":"round",cx:i,cy:i,r:t-r/2,"stroke-dasharray":4.91*t,"stroke-dashoffset":2.46*t})))))):I("div",{key:"placeholder",class:`${e}-base-loading__placeholder`},this.$slots)}))}});function sh(e){return Array.isArray(e)?e:[e]}const vu={STOP:"STOP"};function Ov(e,t){const r=t(e);e.children!==void 0&&r!==vu.STOP&&e.children.forEach(n=>Ov(n,t))}function lP(e,t={}){const{preserveGroup:r=!1}=t,n=[],o=r?a=>{a.isLeaf||(n.push(a.key),i(a.children))}:a=>{a.isLeaf||(a.isGroup||n.push(a.key),i(a.children))};function i(a){a.forEach(o)}return i(e),n}function uP(e,t){const{isLeaf:r}=e;return r!==void 0?r:!t(e)}function cP(e){return e.children}function dP(e){return e.key}function fP(){return!1}function hP(e,t){const{isLeaf:r}=e;return!(r===!1&&!Array.isArray(t(e)))}function pP(e){return e.disabled===!0}function gP(e,t){return e.isLeaf===!1&&!Array.isArray(t(e))}function xl(e){var t;return e==null?[]:Array.isArray(e)?e:(t=e.checkedKeys)!==null&&t!==void 0?t:[]}function _l(e){var t;return e==null||Array.isArray(e)?[]:(t=e.indeterminateKeys)!==null&&t!==void 0?t:[]}function vP(e,t){const r=new Set(e);return t.forEach(n=>{r.has(n)||r.add(n)}),Array.from(r)}function mP(e,t){const r=new Set(e);return t.forEach(n=>{r.has(n)&&r.delete(n)}),Array.from(r)}function bP(e){return(e==null?void 0:e.type)==="group"}class yP extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function xP(e,t,r,n){return sa(t.concat(e),r,n,!1)}function _P(e,t){const r=new Set;return e.forEach(n=>{const o=t.treeNodeMap.get(n);if(o!==void 0){let i=o.parent;for(;i!==null&&!(i.disabled||r.has(i.key));)r.add(i.key),i=i.parent}}),r}function CP(e,t,r,n){const o=sa(t,r,n,!1),i=sa(e,r,n,!0),a=_P(e,r),d=[];return o.forEach(l=>{(i.has(l)||a.has(l))&&d.push(l)}),d.forEach(l=>o.delete(l)),o}function Cl(e,t){const{checkedKeys:r,keysToCheck:n,keysToUncheck:o,indeterminateKeys:i,cascade:a,leafOnly:d,checkStrategy:l,allowNotLoaded:s}=e;if(!a)return n!==void 0?{checkedKeys:vP(r,n),indeterminateKeys:Array.from(i)}:o!==void 0?{checkedKeys:mP(r,o),indeterminateKeys:Array.from(i)}:{checkedKeys:Array.from(r),indeterminateKeys:Array.from(i)};const{levelTreeNodeMap:c}=t;let u;o!==void 0?u=CP(o,r,t,s):n!==void 0?u=xP(n,r,t,s):u=sa(r,t,s,!1);const f=l==="parent",_=l==="child"||d,v=u,b=new Set,g=Math.max.apply(null,Array.from(c.keys()));for(let m=g;m>=0;m-=1){const h=m===0,x=c.get(m);for(const y of x){if(y.isLeaf)continue;const{key:p,shallowLoaded:C}=y;if(_&&C&&y.children.forEach(E=>{!E.disabled&&!E.isLeaf&&E.shallowLoaded&&v.has(E.key)&&v.delete(E.key)}),y.disabled||!C)continue;let S=!0,w=!1,A=!0;for(const E of y.children){const R=E.key;if(!E.disabled){if(A&&(A=!1),v.has(R))w=!0;else if(b.has(R)){w=!0,S=!1;break}else if(S=!1,w)break}}S&&!A?(f&&y.children.forEach(E=>{!E.disabled&&v.has(E.key)&&v.delete(E.key)}),v.add(p)):w&&b.add(p),h&&_&&v.has(p)&&v.delete(p)}}return{checkedKeys:Array.from(v),indeterminateKeys:Array.from(b)}}function sa(e,t,r,n){const{treeNodeMap:o,getChildren:i}=t,a=new Set,d=new Set(e);return e.forEach(l=>{const s=o.get(l);s!==void 0&&Ov(s,c=>{if(c.disabled)return vu.STOP;const{key:u}=c;if(!a.has(u)&&(a.add(u),d.add(u),gP(c.rawNode,i))){if(n)return vu.STOP;if(!r)throw new yP}})}),d}function SP(e,{includeGroup:t=!1,includeSelf:r=!0},n){var o;const i=n.treeNodeMap;let a=e==null?null:(o=i.get(e))!==null&&o!==void 0?o:null;const d={keyPath:[],treeNodePath:[],treeNode:a};if(a!=null&&a.ignored)return d.treeNode=null,d;for(;a;)!a.ignored&&(t||!a.isGroup)&&d.treeNodePath.push(a),a=a.parent;return d.treeNodePath.reverse(),r||d.treeNodePath.pop(),d.keyPath=d.treeNodePath.map(l=>l.key),d}function EP(e){if(e.length===0)return null;const t=e[0];return t.isGroup||t.ignored||t.disabled?t.getNext():t}function wP(e,t){const r=e.siblings,n=r.length,{index:o}=e;return t?r[(o+1)%n]:o===r.length-1?null:r[o+1]}function ah(e,t,{loop:r=!1,includeDisabled:n=!1}={}){const o=t==="prev"?TP:wP,i={reverse:t==="prev"};let a=!1,d=null;function l(s){if(s!==null){if(s===e){if(!a)a=!0;else if(!e.disabled&&!e.isGroup){d=e;return}}else if((!s.disabled||n)&&!s.ignored&&!s.isGroup){d=s;return}if(s.isGroup){const c=xc(s,i);c!==null?d=c:l(o(s,r))}else{const c=o(s,!1);if(c!==null)l(c);else{const u=RP(s);u!=null&&u.isGroup?l(o(u,r)):r&&l(o(s,!0))}}}}return l(e),d}function TP(e,t){const r=e.siblings,n=r.length,{index:o}=e;return t?r[(o-1+n)%n]:o===0?null:r[o-1]}function RP(e){return e.parent}function xc(e,t={}){const{reverse:r=!1}=t,{children:n}=e;if(n){const{length:o}=n,i=r?o-1:0,a=r?-1:o,d=r?-1:1;for(let l=i;l!==a;l+=d){const s=n[l];if(!s.disabled&&!s.ignored)if(s.isGroup){const c=xc(s,t);if(c!==null)return c}else return s}}return null}const AP={getChild(){return this.ignored?null:xc(this)},getParent(){const{parent:e}=this;return e!=null&&e.isGroup?e.getParent():e},getNext(e={}){return ah(this,"next",e)},getPrev(e={}){return ah(this,"prev",e)}};function LP(e,t){const r=t?new Set(t):void 0,n=[];function o(i){i.forEach(a=>{n.push(a),!(a.isLeaf||!a.children||a.ignored)&&(a.isGroup||r===void 0||r.has(a.key))&&o(a.children)})}return o(e),n}function PP(e,t){const r=e.key;for(;t;){if(t.key===r)return!0;t=t.parent}return!1}function Dv(e,t,r,n,o,i=null,a=0){const d=[];return e.forEach((l,s)=>{var c;const u=Object.create(n);if(u.rawNode=l,u.siblings=d,u.level=a,u.index=s,u.isFirstChild=s===0,u.isLastChild=s+1===e.length,u.parent=i,!u.ignored){const f=o(l);Array.isArray(f)&&(u.children=Dv(f,t,r,n,o,u,a+1))}d.push(u),t.set(u.key,u),r.has(a)||r.set(a,[]),(c=r.get(a))===null||c===void 0||c.push(u)}),d}function kP(e,t={}){var r;const n=new Map,o=new Map,{getDisabled:i=pP,getIgnored:a=fP,getIsGroup:d=bP,getKey:l=dP}=t,s=(r=t.getChildren)!==null&&r!==void 0?r:cP,c=t.ignoreEmptyChildren?y=>{const p=s(y);return Array.isArray(p)?p.length?p:null:p}:s,u=Object.assign({get key(){return l(this.rawNode)},get disabled(){return i(this.rawNode)},get isGroup(){return d(this.rawNode)},get isLeaf(){return uP(this.rawNode,c)},get shallowLoaded(){return hP(this.rawNode,c)},get ignored(){return a(this.rawNode)},contains(y){return PP(this,y)}},AP),f=Dv(e,n,o,u,c);function _(y){if(y==null)return null;const p=n.get(y);return p&&!p.isGroup&&!p.ignored?p:null}function v(y){if(y==null)return null;const p=n.get(y);return p&&!p.ignored?p:null}function b(y,p){const C=v(y);return C?C.getPrev(p):null}function g(y,p){const C=v(y);return C?C.getNext(p):null}function m(y){const p=v(y);return p?p.getParent():null}function h(y){const p=v(y);return p?p.getChild():null}const x={treeNodes:f,treeNodeMap:n,levelTreeNodeMap:o,maxLevel:Math.max(...o.keys()),getChildren:c,getFlattenedNodes(y){return LP(f,y)},getNode:_,getPrev:b,getNext:g,getParent:m,getChild:h,getFirstAvailableNode(){return EP(f)},getPath(y,p={}){return SP(y,p,x)},getCheckedKeys(y,p={}){const{cascade:C=!0,leafOnly:S=!1,checkStrategy:w="all",allowNotLoaded:A=!1}=p;return Cl({checkedKeys:xl(y),indeterminateKeys:_l(y),cascade:C,leafOnly:S,checkStrategy:w,allowNotLoaded:A},x)},check(y,p,C={}){const{cascade:S=!0,leafOnly:w=!1,checkStrategy:A="all",allowNotLoaded:E=!1}=C;return Cl({checkedKeys:xl(p),indeterminateKeys:_l(p),keysToCheck:y==null?[]:sh(y),cascade:S,leafOnly:w,checkStrategy:A,allowNotLoaded:E},x)},uncheck(y,p,C={}){const{cascade:S=!0,leafOnly:w=!1,checkStrategy:A="all",allowNotLoaded:E=!1}=C;return Cl({checkedKeys:xl(p),indeterminateKeys:_l(p),keysToUncheck:y==null?[]:sh(y),cascade:S,leafOnly:w,checkStrategy:A,allowNotLoaded:E},x)},getNonLeafKeys(y={}){return lP(f,y)}};return x}const Pe={neutralBase:"#000",neutralInvertBase:"#fff",neutralTextBase:"#fff",neutralPopover:"rgb(72, 72, 78)",neutralCard:"rgb(24, 24, 28)",neutralModal:"rgb(44, 44, 50)",neutralBody:"rgb(16, 16, 20)",alpha1:"0.9",alpha2:"0.82",alpha3:"0.52",alpha4:"0.38",alpha5:"0.28",alphaClose:"0.52",alphaDisabled:"0.38",alphaDisabledInput:"0.06",alphaPending:"0.09",alphaTablePending:"0.06",alphaTableStriped:"0.05",alphaPressed:"0.05",alphaAvatar:"0.18",alphaRail:"0.2",alphaProgressRail:"0.12",alphaBorder:"0.24",alphaDivider:"0.09",alphaInput:"0.1",alphaAction:"0.06",alphaTab:"0.04",alphaScrollbar:"0.2",alphaScrollbarHover:"0.3",alphaCode:"0.12",alphaTag:"0.2",primaryHover:"#7fe7c4",primaryDefault:"#63e2b7",primaryActive:"#5acea7",primarySuppl:"rgb(42, 148, 125)",infoHover:"#8acbec",infoDefault:"#70c0e8",infoActive:"#66afd3",infoSuppl:"rgb(56, 137, 197)",errorHover:"#e98b8b",errorDefault:"#e88080",errorActive:"#e57272",errorSuppl:"rgb(208, 58, 82)",warningHover:"#f5d599",warningDefault:"#f2c97d",warningActive:"#e6c260",warningSuppl:"rgb(240, 138, 0)",successHover:"#7fe7c4",successDefault:"#63e2b7",successActive:"#5acea7",successSuppl:"rgb(42, 148, 125)"},OP=Kr(Pe.neutralBase),Iv=Kr(Pe.neutralInvertBase),DP="rgba("+Iv.slice(0,3).join(", ")+", ";function nt(e){return DP+String(e)+")"}function IP(e){const t=Array.from(Iv);return t[3]=Number(e),Ie(OP,t)}const MP=Object.assign(Object.assign({name:"common"},Jr),{baseColor:Pe.neutralBase,primaryColor:Pe.primaryDefault,primaryColorHover:Pe.primaryHover,primaryColorPressed:Pe.primaryActive,primaryColorSuppl:Pe.primarySuppl,infoColor:Pe.infoDefault,infoColorHover:Pe.infoHover,infoColorPressed:Pe.infoActive,infoColorSuppl:Pe.infoSuppl,successColor:Pe.successDefault,successColorHover:Pe.successHover,successColorPressed:Pe.successActive,successColorSuppl:Pe.successSuppl,warningColor:Pe.warningDefault,warningColorHover:Pe.warningHover,warningColorPressed:Pe.warningActive,warningColorSuppl:Pe.warningSuppl,errorColor:Pe.errorDefault,errorColorHover:Pe.errorHover,errorColorPressed:Pe.errorActive,errorColorSuppl:Pe.errorSuppl,textColorBase:Pe.neutralTextBase,textColor1:nt(Pe.alpha1),textColor2:nt(Pe.alpha2),textColor3:nt(Pe.alpha3),textColorDisabled:nt(Pe.alpha4),placeholderColor:nt(Pe.alpha4),placeholderColorDisabled:nt(Pe.alpha5),iconColor:nt(Pe.alpha4),iconColorDisabled:nt(Pe.alpha5),iconColorHover:nt(Number(Pe.alpha4)*1.25),iconColorPressed:nt(Number(Pe.alpha4)*.8),opacity1:Pe.alpha1,opacity2:Pe.alpha2,opacity3:Pe.alpha3,opacity4:Pe.alpha4,opacity5:Pe.alpha5,dividerColor:nt(Pe.alphaDivider),borderColor:nt(Pe.alphaBorder),closeIconColorHover:nt(Number(Pe.alphaClose)),closeIconColor:nt(Number(Pe.alphaClose)),closeIconColorPressed:nt(Number(Pe.alphaClose)),closeColorHover:"rgba(255, 255, 255, .12)",closeColorPressed:"rgba(255, 255, 255, .08)",clearColor:nt(Pe.alpha4),clearColorHover:St(nt(Pe.alpha4),{alpha:1.25}),clearColorPressed:St(nt(Pe.alpha4),{alpha:.8}),scrollbarColor:nt(Pe.alphaScrollbar),scrollbarColorHover:nt(Pe.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:nt(Pe.alphaProgressRail),railColor:nt(Pe.alphaRail),popoverColor:Pe.neutralPopover,tableColor:Pe.neutralCard,cardColor:Pe.neutralCard,modalColor:Pe.neutralModal,bodyColor:Pe.neutralBody,tagColor:IP(Pe.alphaTag),avatarColor:nt(Pe.alphaAvatar),invertedColor:Pe.neutralBase,inputColor:nt(Pe.alphaInput),codeColor:nt(Pe.alphaCode),tabColor:nt(Pe.alphaTab),actionColor:nt(Pe.alphaAction),tableHeaderColor:nt(Pe.alphaAction),hoverColor:nt(Pe.alphaPending),tableColorHover:nt(Pe.alphaTablePending),tableColorStriped:nt(Pe.alphaTableStriped),pressedColor:nt(Pe.alphaPressed),opacityDisabled:Pe.alphaDisabled,inputColorDisabled:nt(Pe.alphaDisabledInput),buttonColor2:"rgba(255, 255, 255, .08)",buttonColor2Hover:"rgba(255, 255, 255, .12)",buttonColor2Pressed:"rgba(255, 255, 255, .08)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .24), 0 3px 6px 0 rgba(0, 0, 0, .18), 0 5px 12px 4px rgba(0, 0, 0, .12)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .24), 0 6px 12px 0 rgba(0, 0, 0, .16), 0 9px 18px 8px rgba(0, 0, 0, .10)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),Te=MP,ze={neutralBase:"#FFF",neutralInvertBase:"#000",neutralTextBase:"#000",neutralPopover:"#fff",neutralCard:"#fff",neutralModal:"#fff",neutralBody:"#fff",alpha1:"0.82",alpha2:"0.72",alpha3:"0.38",alpha4:"0.24",alpha5:"0.18",alphaClose:"0.6",alphaDisabled:"0.5",alphaDisabledInput:"0.02",alphaPending:"0.05",alphaTablePending:"0.02",alphaPressed:"0.07",alphaAvatar:"0.2",alphaRail:"0.14",alphaProgressRail:".08",alphaBorder:"0.12",alphaDivider:"0.06",alphaInput:"0",alphaAction:"0.02",alphaTab:"0.04",alphaScrollbar:"0.25",alphaScrollbarHover:"0.4",alphaCode:"0.05",alphaTag:"0.02",primaryHover:"#36ad6a",primaryDefault:"#18a058",primaryActive:"#0c7a43",primarySuppl:"#36ad6a",infoHover:"#4098fc",infoDefault:"#2080f0",infoActive:"#1060c9",infoSuppl:"#4098fc",errorHover:"#de576d",errorDefault:"#d03050",errorActive:"#ab1f3f",errorSuppl:"#de576d",warningHover:"#fcb040",warningDefault:"#f0a020",warningActive:"#c97c10",warningSuppl:"#fcb040",successHover:"#36ad6a",successDefault:"#18a058",successActive:"#0c7a43",successSuppl:"#36ad6a"},FP=Kr(ze.neutralBase),Mv=Kr(ze.neutralInvertBase),BP="rgba("+Mv.slice(0,3).join(", ")+", ";function lh(e){return BP+String(e)+")"}function zt(e){const t=Array.from(Mv);return t[3]=Number(e),Ie(FP,t)}const NP=Object.assign(Object.assign({name:"common"},Jr),{baseColor:ze.neutralBase,primaryColor:ze.primaryDefault,primaryColorHover:ze.primaryHover,primaryColorPressed:ze.primaryActive,primaryColorSuppl:ze.primarySuppl,infoColor:ze.infoDefault,infoColorHover:ze.infoHover,infoColorPressed:ze.infoActive,infoColorSuppl:ze.infoSuppl,successColor:ze.successDefault,successColorHover:ze.successHover,successColorPressed:ze.successActive,successColorSuppl:ze.successSuppl,warningColor:ze.warningDefault,warningColorHover:ze.warningHover,warningColorPressed:ze.warningActive,warningColorSuppl:ze.warningSuppl,errorColor:ze.errorDefault,errorColorHover:ze.errorHover,errorColorPressed:ze.errorActive,errorColorSuppl:ze.errorSuppl,textColorBase:ze.neutralTextBase,textColor1:"rgb(31, 34, 37)",textColor2:"rgb(51, 54, 57)",textColor3:"rgb(118, 124, 130)",textColorDisabled:zt(ze.alpha4),placeholderColor:zt(ze.alpha4),placeholderColorDisabled:zt(ze.alpha5),iconColor:zt(ze.alpha4),iconColorHover:St(zt(ze.alpha4),{lightness:.75}),iconColorPressed:St(zt(ze.alpha4),{lightness:.9}),iconColorDisabled:zt(ze.alpha5),opacity1:ze.alpha1,opacity2:ze.alpha2,opacity3:ze.alpha3,opacity4:ze.alpha4,opacity5:ze.alpha5,dividerColor:"rgb(239, 239, 245)",borderColor:"rgb(224, 224, 230)",closeIconColor:zt(Number(ze.alphaClose)),closeIconColorHover:zt(Number(ze.alphaClose)),closeIconColorPressed:zt(Number(ze.alphaClose)),closeColorHover:"rgba(0, 0, 0, .09)",closeColorPressed:"rgba(0, 0, 0, .13)",clearColor:zt(ze.alpha4),clearColorHover:St(zt(ze.alpha4),{lightness:.75}),clearColorPressed:St(zt(ze.alpha4),{lightness:.9}),scrollbarColor:lh(ze.alphaScrollbar),scrollbarColorHover:lh(ze.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:zt(ze.alphaProgressRail),railColor:"rgb(219, 219, 223)",popoverColor:ze.neutralPopover,tableColor:ze.neutralCard,cardColor:ze.neutralCard,modalColor:ze.neutralModal,bodyColor:ze.neutralBody,tagColor:"#eee",avatarColor:zt(ze.alphaAvatar),invertedColor:"rgb(0, 20, 40)",inputColor:zt(ze.alphaInput),codeColor:"rgb(244, 244, 248)",tabColor:"rgb(247, 247, 250)",actionColor:"rgb(250, 250, 252)",tableHeaderColor:"rgb(250, 250, 252)",hoverColor:"rgb(243, 243, 245)",tableColorHover:"rgba(0, 0, 100, 0.03)",tableColorStriped:"rgba(0, 0, 100, 0.02)",pressedColor:"rgb(237, 237, 239)",opacityDisabled:ze.alphaDisabled,inputColorDisabled:"rgb(250, 250, 252)",buttonColor2:"rgba(46, 51, 56, .05)",buttonColor2Hover:"rgba(46, 51, 56, .09)",buttonColor2Pressed:"rgba(46, 51, 56, .13)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),xt=NP,$P={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"},Fv=e=>{const{textColorDisabled:t,iconColor:r,textColor2:n,fontSizeSmall:o,fontSizeMedium:i,fontSizeLarge:a,fontSizeHuge:d}=e;return Object.assign(Object.assign({},$P),{fontSizeSmall:o,fontSizeMedium:i,fontSizeLarge:a,fontSizeHuge:d,textColor:t,iconColor:r,extraTextColor:n})},UP={name:"Empty",common:xt,self:Fv},zP=UP,jP={name:"Empty",common:Te,self:Fv},to=jP,Bv=e=>{const{scrollbarColor:t,scrollbarColorHover:r}=e;return{color:t,colorHover:r}},Nv={name:"Scrollbar",common:xt,self:Bv},HP={name:"Scrollbar",common:Te,self:Bv},er=HP,{cubicBezierEaseInOut:uh}=Jr;function aa({name:e="fade-in",enterDuration:t="0.2s",leaveDuration:r="0.2s",enterCubicBezier:n=uh,leaveCubicBezier:o=uh}={}){return[X(`&.${e}-transition-enter-active`,{transition:`all ${t} ${n}!important`}),X(`&.${e}-transition-leave-active`,{transition:`all ${r} ${o}!important`}),X(`&.${e}-transition-enter-from, &.${e}-transition-leave-to`,{opacity:0}),X(`&.${e}-transition-leave-from, &.${e}-transition-enter-to`,{opacity:1})]}const WP=V("scrollbar",`
 overflow: hidden;
 position: relative;
 z-index: auto;
 height: 100%;
 width: 100%;
`,[X(">",[V("scrollbar-container",`
 width: 100%;
 overflow: scroll;
 height: 100%;
 max-height: inherit;
 scrollbar-width: none;
 `,[X("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),X(">",[V("scrollbar-content",`
 box-sizing: border-box;
 min-width: 100%;
 `)])])]),X(">, +",[V("scrollbar-rail",`
 position: absolute;
 pointer-events: none;
 user-select: none;
 -webkit-user-select: none;
 `,[le("horizontal",`
 left: 2px;
 right: 2px;
 bottom: 4px;
 height: var(--n-scrollbar-height);
 `,[X(">",[oe("scrollbar",`
 height: var(--n-scrollbar-height);
 border-radius: var(--n-scrollbar-border-radius);
 right: 0;
 `)])]),le("vertical",`
 right: 4px;
 top: 2px;
 bottom: 2px;
 width: var(--n-scrollbar-width);
 `,[X(">",[oe("scrollbar",`
 width: var(--n-scrollbar-width);
 border-radius: var(--n-scrollbar-border-radius);
 bottom: 0;
 `)])]),le("disabled",[X(">",[oe("scrollbar",{pointerEvents:"none"})])]),X(">",[oe("scrollbar",`
 position: absolute;
 cursor: pointer;
 pointer-events: all;
 background-color: var(--n-scrollbar-color);
 transition: background-color .2s var(--n-scrollbar-bezier);
 `,[aa(),X("&:hover",{backgroundColor:"var(--n-scrollbar-color-hover)"})])])])])]),GP=Object.assign(Object.assign({},Ge.props),{size:{type:Number,default:5},duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,trigger:{type:String,default:"hover"},useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:String,contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function,internalHoistYRail:Boolean}),$v=ye({name:"Scrollbar",props:GP,inheritAttrs:!1,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:r,mergedRtlRef:n}=ft(e),o=eo("Scrollbar",n,t),i=Q(null),a=Q(null),d=Q(null),l=Q(null),s=Q(null),c=Q(null),u=Q(null),f=Q(null),_=Q(null),v=Q(null),b=Q(null),g=Q(0),m=Q(0),h=Q(!1),x=Q(!1);let y=!1,p=!1,C,S,w=0,A=0,E=0,R=0;const T=XC(),L=ne(()=>{const{value:ce}=f,{value:Re}=c,{value:De}=v;return ce===null||Re===null||De===null?0:Math.min(ce,De*ce/Re+e.size*1.5)}),P=ne(()=>`${L.value}px`),k=ne(()=>{const{value:ce}=_,{value:Re}=u,{value:De}=b;return ce===null||Re===null||De===null?0:De*ce/Re+e.size*1.5}),D=ne(()=>`${k.value}px`),O=ne(()=>{const{value:ce}=f,{value:Re}=g,{value:De}=c,{value:Ke}=v;if(ce===null||De===null||Ke===null)return 0;{const Je=De-ce;return Je?Re/Je*(Ke-L.value):0}}),M=ne(()=>`${O.value}px`),F=ne(()=>{const{value:ce}=_,{value:Re}=m,{value:De}=u,{value:Ke}=b;if(ce===null||De===null||Ke===null)return 0;{const Je=De-ce;return Je?Re/Je*(Ke-k.value):0}}),N=ne(()=>`${F.value}px`),U=ne(()=>{const{value:ce}=f,{value:Re}=c;return ce!==null&&Re!==null&&Re>ce}),G=ne(()=>{const{value:ce}=_,{value:Re}=u;return ce!==null&&Re!==null&&Re>ce}),H=ne(()=>{const{trigger:ce}=e;return ce==="none"||h.value}),Z=ne(()=>{const{trigger:ce}=e;return ce==="none"||x.value}),de=ne(()=>{const{container:ce}=e;return ce?ce():a.value}),ee=ne(()=>{const{content:ce}=e;return ce?ce():d.value}),W=KS(()=>{e.container||pe({top:g.value,left:m.value})}),ae=()=>{W.isDeactivated||Ee()},q=ce=>{if(W.isDeactivated)return;const{onResize:Re}=e;Re&&Re(ce),Ee()},pe=(ce,Re)=>{if(!e.scrollable)return;if(typeof ce=="number"){B(Re??0,ce,0,!1,"auto");return}const{left:De,top:Ke,index:Je,elSize:At,position:Bt,behavior:ht,el:Yt,debounce:Ur=!0}=ce;(De!==void 0||Ke!==void 0)&&B(De??0,Ke??0,0,!1,ht),Yt!==void 0?B(0,Yt.offsetTop,Yt.offsetHeight,Ur,ht):Je!==void 0&&At!==void 0?B(0,Je*At,At,Ur,ht):Bt==="bottom"?B(0,Number.MAX_SAFE_INTEGER,0,!1,ht):Bt==="top"&&B(0,0,0,!1,ht)},we=(ce,Re)=>{if(!e.scrollable)return;const{value:De}=de;De&&(typeof ce=="object"?De.scrollBy(ce):De.scrollBy(ce,Re||0))};function B(ce,Re,De,Ke,Je){const{value:At}=de;if(At){if(Ke){const{scrollTop:Bt,offsetHeight:ht}=At;if(Re>Bt){Re+De<=Bt+ht||At.scrollTo({left:ce,top:Re+De-ht,behavior:Je});return}}At.scrollTo({left:ce,top:Re,behavior:Je})}}function $(){te(),re(),Ee()}function z(){Y()}function Y(){j(),K()}function j(){S!==void 0&&window.clearTimeout(S),S=window.setTimeout(()=>{x.value=!1},e.duration)}function K(){C!==void 0&&window.clearTimeout(C),C=window.setTimeout(()=>{h.value=!1},e.duration)}function te(){C!==void 0&&window.clearTimeout(C),h.value=!0}function re(){S!==void 0&&window.clearTimeout(S),x.value=!0}function ue(ce){const{onScroll:Re}=e;Re&&Re(ce),ie()}function ie(){const{value:ce}=de;ce&&(g.value=ce.scrollTop,m.value=ce.scrollLeft*(o!=null&&o.value?-1:1))}function _e(){const{value:ce}=ee;ce&&(c.value=ce.offsetHeight,u.value=ce.offsetWidth);const{value:Re}=de;Re&&(f.value=Re.offsetHeight,_.value=Re.offsetWidth);const{value:De}=s,{value:Ke}=l;De&&(b.value=De.offsetWidth),Ke&&(v.value=Ke.offsetHeight)}function Se(){const{value:ce}=de;ce&&(g.value=ce.scrollTop,m.value=ce.scrollLeft*(o!=null&&o.value?-1:1),f.value=ce.offsetHeight,_.value=ce.offsetWidth,c.value=ce.scrollHeight,u.value=ce.scrollWidth);const{value:Re}=s,{value:De}=l;Re&&(b.value=Re.offsetWidth),De&&(v.value=De.offsetHeight)}function Ee(){e.scrollable&&(e.useUnifiedContainer?Se():(_e(),ie()))}function Me(ce){var Re;return!(!((Re=i.value)===null||Re===void 0)&&Re.contains(Di(ce)))}function Ue(ce){ce.preventDefault(),ce.stopPropagation(),p=!0,ct("mousemove",window,Ve,!0),ct("mouseup",window,Ne,!0),A=m.value,E=o!=null&&o.value?window.innerWidth-ce.clientX:ce.clientX}function Ve(ce){if(!p)return;C!==void 0&&window.clearTimeout(C),S!==void 0&&window.clearTimeout(S);const{value:Re}=_,{value:De}=u,{value:Ke}=k;if(Re===null||De===null)return;const At=(o!=null&&o.value?window.innerWidth-ce.clientX-E:ce.clientX-E)*(De-Re)/(Re-Ke),Bt=De-Re;let ht=A+At;ht=Math.min(Bt,ht),ht=Math.max(ht,0);const{value:Yt}=de;if(Yt){Yt.scrollLeft=ht*(o!=null&&o.value?-1:1);const{internalOnUpdateScrollLeft:Ur}=e;Ur&&Ur(ht)}}function Ne(ce){ce.preventDefault(),ce.stopPropagation(),st("mousemove",window,Ve,!0),st("mouseup",window,Ne,!0),p=!1,Ee(),Me(ce)&&Y()}function Ze(ce){ce.preventDefault(),ce.stopPropagation(),y=!0,ct("mousemove",window,se,!0),ct("mouseup",window,me,!0),w=g.value,R=ce.clientY}function se(ce){if(!y)return;C!==void 0&&window.clearTimeout(C),S!==void 0&&window.clearTimeout(S);const{value:Re}=f,{value:De}=c,{value:Ke}=L;if(Re===null||De===null)return;const At=(ce.clientY-R)*(De-Re)/(Re-Ke),Bt=De-Re;let ht=w+At;ht=Math.min(Bt,ht),ht=Math.max(ht,0);const{value:Yt}=de;Yt&&(Yt.scrollTop=ht)}function me(ce){ce.preventDefault(),ce.stopPropagation(),st("mousemove",window,se,!0),st("mouseup",window,me,!0),y=!1,Ee(),Me(ce)&&Y()}Qt(()=>{const{value:ce}=G,{value:Re}=U,{value:De}=t,{value:Ke}=s,{value:Je}=l;Ke&&(ce?Ke.classList.remove(`${De}-scrollbar-rail--disabled`):Ke.classList.add(`${De}-scrollbar-rail--disabled`)),Je&&(Re?Je.classList.remove(`${De}-scrollbar-rail--disabled`):Je.classList.add(`${De}-scrollbar-rail--disabled`))}),Rt(()=>{e.container||Ee()}),_t(()=>{C!==void 0&&window.clearTimeout(C),S!==void 0&&window.clearTimeout(S),st("mousemove",window,se,!0),st("mouseup",window,me,!0)});const xe=Ge("Scrollbar","-scrollbar",WP,Nv,e,t),Le=ne(()=>{const{common:{cubicBezierEaseInOut:ce,scrollbarBorderRadius:Re,scrollbarHeight:De,scrollbarWidth:Ke},self:{color:Je,colorHover:At}}=xe.value;return{"--n-scrollbar-bezier":ce,"--n-scrollbar-color":Je,"--n-scrollbar-color-hover":At,"--n-scrollbar-border-radius":Re,"--n-scrollbar-width":Ke,"--n-scrollbar-height":De}}),Fe=r?Pt("scrollbar",void 0,Le,e):void 0;return Object.assign(Object.assign({},{scrollTo:pe,scrollBy:we,sync:Ee,syncUnifiedContainer:Se,handleMouseEnterWrapper:$,handleMouseLeaveWrapper:z}),{mergedClsPrefix:t,rtlEnabled:o,containerScrollTop:g,wrapperRef:i,containerRef:a,contentRef:d,yRailRef:l,xRailRef:s,needYBar:U,needXBar:G,yBarSizePx:P,xBarSizePx:D,yBarTopPx:M,xBarLeftPx:N,isShowXBar:H,isShowYBar:Z,isIos:T,handleScroll:ue,handleContentResize:ae,handleContainerResize:q,handleYScrollMouseDown:Ze,handleXScrollMouseDown:Ue,cssVars:r?void 0:Le,themeClass:Fe==null?void 0:Fe.themeClass,onRender:Fe==null?void 0:Fe.onRender})},render(){var e;const{$slots:t,mergedClsPrefix:r,triggerDisplayManually:n,rtlEnabled:o,internalHoistYRail:i}=this;if(!this.scrollable)return(e=t.default)===null||e===void 0?void 0:e.call(t);const a=this.trigger==="none",d=()=>I("div",{ref:"yRailRef",class:[`${r}-scrollbar-rail`,`${r}-scrollbar-rail--vertical`],"data-scrollbar-rail":!0,style:this.verticalRailStyle,"aria-hidden":!0},I(a?Kd:Ut,a?null:{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?I("div",{class:`${r}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),l=()=>{var c,u;return(c=this.onRender)===null||c===void 0||c.call(this),I("div",sr(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${r}-scrollbar`,this.themeClass,o&&`${r}-scrollbar--rtl`],style:this.cssVars,onMouseenter:n?void 0:this.handleMouseEnterWrapper,onMouseleave:n?void 0:this.handleMouseLeaveWrapper}),[this.container?(u=t.default)===null||u===void 0?void 0:u.call(t):I("div",{role:"none",ref:"containerRef",class:[`${r}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},I(Gn,{onResize:this.handleContentResize},{default:()=>I("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${r}-scrollbar-content`,this.contentClass]},t)})),i?null:d(),this.xScrollable&&I("div",{ref:"xRailRef",class:[`${r}-scrollbar-rail`,`${r}-scrollbar-rail--horizontal`],style:this.horizontalRailStyle,"data-scrollbar-rail":!0,"aria-hidden":!0},I(a?Kd:Ut,a?null:{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?I("div",{class:`${r}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,right:o?this.xBarLeftPx:void 0,left:o?void 0:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])},s=this.container?l():I(Gn,{onResize:this.handleContainerResize},{default:l});return i?I(Qe,null,s,d()):s}}),Uv=$v,zv=$v,VP={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"},KP=e=>{const{borderRadius:t,popoverColor:r,textColor3:n,dividerColor:o,textColor2:i,primaryColorPressed:a,textColorDisabled:d,primaryColor:l,opacityDisabled:s,hoverColor:c,fontSizeSmall:u,fontSizeMedium:f,fontSizeLarge:_,fontSizeHuge:v,heightSmall:b,heightMedium:g,heightLarge:m,heightHuge:h}=e;return Object.assign(Object.assign({},VP),{optionFontSizeSmall:u,optionFontSizeMedium:f,optionFontSizeLarge:_,optionFontSizeHuge:v,optionHeightSmall:b,optionHeightMedium:g,optionHeightLarge:m,optionHeightHuge:h,borderRadius:t,color:r,groupHeaderTextColor:n,actionDividerColor:o,optionTextColor:i,optionTextColorPressed:a,optionTextColorDisabled:d,optionTextColorActive:l,optionOpacityDisabled:s,optionCheckColor:l,optionColorPending:c,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:c,actionTextColor:i,loadingColor:l})},YP={name:"InternalSelectMenu",common:Te,peers:{Scrollbar:er,Empty:to},self:KP},ts=YP,{cubicBezierEaseIn:ch,cubicBezierEaseOut:dh}=Jr;function ji({transformOrigin:e="inherit",duration:t=".2s",enterScale:r=".9",originalTransform:n="",originalTransition:o=""}={}){return[X("&.fade-in-scale-up-transition-leave-active",{transformOrigin:e,transition:`opacity ${t} ${ch}, transform ${t} ${ch} ${o&&","+o}`}),X("&.fade-in-scale-up-transition-enter-active",{transformOrigin:e,transition:`opacity ${t} ${dh}, transform ${t} ${dh} ${o&&","+o}`}),X("&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to",{opacity:0,transform:`${n} scale(${r})`}),X("&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to",{opacity:1,transform:`${n} scale(1)`})]}const XP=V("base-wave",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
`),jv=ye({name:"BaseWave",props:{clsPrefix:{type:String,required:!0}},setup(e){bn("-base-wave",XP,Be(e,"clsPrefix"));const t=Q(null),r=Q(!1);let n=null;return _t(()=>{n!==null&&window.clearTimeout(n)}),{active:r,selfRef:t,play(){n!==null&&(window.clearTimeout(n),r.value=!1,n=null),$t(()=>{var o;(o=t.value)===null||o===void 0||o.offsetHeight,r.value=!0,n=window.setTimeout(()=>{r.value=!1,n=null},1e3)})}}},render(){const{clsPrefix:e}=this;return I("div",{ref:"selfRef","aria-hidden":!0,class:[`${e}-base-wave`,this.active&&`${e}-base-wave--active`]})}}),qP={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"},Hv=e=>{const{boxShadow2:t,popoverColor:r,textColor2:n,borderRadius:o,fontSize:i,dividerColor:a}=e;return Object.assign(Object.assign({},qP),{fontSize:i,borderRadius:o,color:r,dividerColor:a,textColor:n,boxShadow:t})},ZP={name:"Popover",common:xt,self:Hv},_c=ZP,JP={name:"Popover",common:Te,self:Hv},ro=JP,Sl={top:"bottom",bottom:"top",left:"right",right:"left"},kt="var(--n-arrow-height) * 1.414",QP=X([V("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 word-break: break-word;
 `,[X(">",[V("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),Gt("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[Gt("scrollable",[Gt("show-header-or-footer","padding: var(--n-padding);")])]),oe("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),oe("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),le("scrollable, show-header-or-footer",[oe("content",`
 padding: var(--n-padding);
 `)])]),V("popover-shared",`
 transform-origin: inherit;
 `,[V("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[V("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${kt});
 height: calc(${kt});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),X("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),X("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),X("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),X("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),ur("top-start",`
 top: calc(${kt} / -2);
 left: calc(${jr("top-start")} - var(--v-offset-left));
 `),ur("top",`
 top: calc(${kt} / -2);
 transform: translateX(calc(${kt} / -2)) rotate(45deg);
 left: 50%;
 `),ur("top-end",`
 top: calc(${kt} / -2);
 right: calc(${jr("top-end")} + var(--v-offset-left));
 `),ur("bottom-start",`
 bottom: calc(${kt} / -2);
 left: calc(${jr("bottom-start")} - var(--v-offset-left));
 `),ur("bottom",`
 bottom: calc(${kt} / -2);
 transform: translateX(calc(${kt} / -2)) rotate(45deg);
 left: 50%;
 `),ur("bottom-end",`
 bottom: calc(${kt} / -2);
 right: calc(${jr("bottom-end")} + var(--v-offset-left));
 `),ur("left-start",`
 left: calc(${kt} / -2);
 top: calc(${jr("left-start")} - var(--v-offset-top));
 `),ur("left",`
 left: calc(${kt} / -2);
 transform: translateY(calc(${kt} / -2)) rotate(45deg);
 top: 50%;
 `),ur("left-end",`
 left: calc(${kt} / -2);
 bottom: calc(${jr("left-end")} + var(--v-offset-top));
 `),ur("right-start",`
 right: calc(${kt} / -2);
 top: calc(${jr("right-start")} - var(--v-offset-top));
 `),ur("right",`
 right: calc(${kt} / -2);
 transform: translateY(calc(${kt} / -2)) rotate(45deg);
 top: 50%;
 `),ur("right-end",`
 right: calc(${kt} / -2);
 bottom: calc(${jr("right-end")} + var(--v-offset-top));
 `),...GA({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(e,t)=>{const r=["right","left"].includes(t),n=r?"width":"height";return e.map(o=>{const i=o.split("-")[1]==="end",d=`calc((${`var(--v-target-${n}, 0px)`} - ${kt}) / 2)`,l=jr(o);return X(`[v-placement="${o}"] >`,[V("popover-shared",[le("center-arrow",[V("popover-arrow",`${t}: calc(max(${d}, ${l}) ${i?"+":"-"} var(--v-offset-${r?"left":"top"}));`)])])])})})]);function jr(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function ur(e,t){const r=e.split("-")[0],n=["top","bottom"].includes(r)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return X(`[v-placement="${e}"] >`,[V("popover-shared",`
 margin-${Sl[r]}: var(--n-space);
 `,[le("show-arrow",`
 margin-${Sl[r]}: var(--n-space-arrow);
 `),le("overlap",`
 margin: 0;
 `),LC("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${r}: 100%;
 ${Sl[r]}: auto;
 ${n}
 `,[V("popover-arrow",t)])])])}const Wv=Object.assign(Object.assign({},Ge.props),{to:Lo.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number}),Gv=({arrowStyle:e,clsPrefix:t})=>I("div",{key:"__popover-arrow__",class:`${t}-popover-arrow-wrapper`},I("div",{class:`${t}-popover-arrow`,style:e})),ek=ye({name:"PopoverBody",inheritAttrs:!1,props:Wv,setup(e,{slots:t,attrs:r}){const{namespaceRef:n,mergedClsPrefixRef:o,inlineThemeDisabled:i}=ft(e),a=Ge("Popover","-popover",QP,_c,e,o),d=Q(null),l=$e("NPopover"),s=Q(null),c=Q(e.show),u=Q(!1);Qt(()=>{const{show:S}=e;S&&!PC()&&!e.internalDeactivateImmediately&&(u.value=!0)});const f=ne(()=>{const{trigger:S,onClickoutside:w}=e,A=[],{positionManuallyRef:{value:E}}=l;return E||(S==="click"&&!w&&A.push([su,y,void 0,{capture:!0}]),S==="hover"&&A.push([iS,x])),w&&A.push([su,y,void 0,{capture:!0}]),(e.displayDirective==="show"||e.animated&&u.value)&&A.push([Lt,e.show]),A}),_=ne(()=>{const S=e.width==="trigger"?void 0:Or(e.width),w=[];S&&w.push({width:S});const{maxWidth:A,minWidth:E}=e;return A&&w.push({maxWidth:Or(A)}),E&&w.push({maxWidth:Or(E)}),i||w.push(v.value),w}),v=ne(()=>{const{common:{cubicBezierEaseInOut:S,cubicBezierEaseIn:w,cubicBezierEaseOut:A},self:{space:E,spaceArrow:R,padding:T,fontSize:L,textColor:P,dividerColor:k,color:D,boxShadow:O,borderRadius:M,arrowHeight:F,arrowOffset:N,arrowOffsetVertical:U}}=a.value;return{"--n-box-shadow":O,"--n-bezier":S,"--n-bezier-ease-in":w,"--n-bezier-ease-out":A,"--n-font-size":L,"--n-text-color":P,"--n-color":D,"--n-divider-color":k,"--n-border-radius":M,"--n-arrow-height":F,"--n-arrow-offset":N,"--n-arrow-offset-vertical":U,"--n-padding":T,"--n-space":E,"--n-space-arrow":R}}),b=i?Pt("popover",void 0,v,e):void 0;l.setBodyInstance({syncPosition:g}),_t(()=>{l.setBodyInstance(null)}),tt(Be(e,"show"),S=>{e.animated||(S?c.value=!0:c.value=!1)});function g(){var S;(S=d.value)===null||S===void 0||S.syncPosition()}function m(S){e.trigger==="hover"&&e.keepAliveOnHover&&e.show&&l.handleMouseEnter(S)}function h(S){e.trigger==="hover"&&e.keepAliveOnHover&&l.handleMouseLeave(S)}function x(S){e.trigger==="hover"&&!p().contains(Di(S))&&l.handleMouseMoveOutside(S)}function y(S){(e.trigger==="click"&&!p().contains(Di(S))||e.onClickoutside)&&l.handleClickOutside(S)}function p(){return l.getTriggerElement()}ut(Zi,s),ut(Pa,null),ut(La,null);function C(){if(b==null||b.onRender(),!(e.displayDirective==="show"||e.show||e.animated&&u.value))return null;let w;const A=l.internalRenderBodyRef.value,{value:E}=o;if(A)w=A([`${E}-popover-shared`,b==null?void 0:b.themeClass.value,e.overlap&&`${E}-popover-shared--overlap`,e.showArrow&&`${E}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${E}-popover-shared--center-arrow`],s,_.value,m,h);else{const{value:R}=l.extraClassRef,{internalTrapFocus:T}=e,L=!qs(t.header)||!qs(t.footer),P=()=>{var k;const D=L?I(Qe,null,Et(t.header,F=>F?I("div",{class:`${E}-popover__header`,style:e.headerStyle},F):null),Et(t.default,F=>F?I("div",{class:`${E}-popover__content`,style:e.contentStyle},t):null),Et(t.footer,F=>F?I("div",{class:`${E}-popover__footer`,style:e.footerStyle},F):null)):e.scrollable?(k=t.default)===null||k===void 0?void 0:k.call(t):I("div",{class:`${E}-popover__content`,style:e.contentStyle},t),O=e.scrollable?I(zv,{contentClass:L?void 0:`${E}-popover__content`,contentStyle:L?void 0:e.contentStyle},{default:()=>D}):D,M=e.showArrow?Gv({arrowStyle:e.arrowStyle,clsPrefix:E}):null;return[O,M]};w=I("div",sr({class:[`${E}-popover`,`${E}-popover-shared`,b==null?void 0:b.themeClass.value,R.map(k=>`${E}-${k}`),{[`${E}-popover--scrollable`]:e.scrollable,[`${E}-popover--show-header-or-footer`]:L,[`${E}-popover--raw`]:e.raw,[`${E}-popover-shared--overlap`]:e.overlap,[`${E}-popover-shared--show-arrow`]:e.showArrow,[`${E}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:s,style:_.value,onKeydown:l.handleKeydown,onMouseenter:m,onMouseleave:h},r),T?I(Ug,{active:e.show,autoFocus:!0},{default:P}):P())}return yt(w,f.value)}return{displayed:u,namespace:n,isMounted:l.isMountedRef,zIndex:l.zIndexRef,followerRef:d,adjustedTo:Lo(e),followerEnabled:c,renderContentNode:C}},render(){return I(Lg,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===Lo.tdkey},{default:()=>this.animated?I(Ut,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;(e=this.internalOnAfterLeave)===null||e===void 0||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),tk=Object.keys(Wv),rk={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function nk(e,t,r){rk[t].forEach(n=>{e.props?e.props=Object.assign({},e.props):e.props={};const o=e.props[n],i=r[n];o?e.props[n]=(...a)=>{o(...a),i(...a)}:e.props[n]=i})}const Ba={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:Lo.propTo,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},ok=Object.assign(Object.assign(Object.assign({},Ge.props),Ba),{internalOnAfterLeave:Function,internalRenderBody:Function}),Vv=ye({name:"Popover",inheritAttrs:!1,props:ok,__popover__:!0,setup(e){const t=qi(),r=Q(null),n=ne(()=>e.show),o=Q(e.defaultShow),i=Xi(n,o),a=Dt(()=>e.disabled?!1:i.value),d=()=>{if(e.disabled)return!0;const{getDisabled:P}=e;return!!(P!=null&&P())},l=()=>d()?!1:i.value,s=ea(e,["arrow","showArrow"]),c=ne(()=>e.overlap?!1:s.value);let u=null;const f=Q(null),_=Q(null),v=Dt(()=>e.x!==void 0&&e.y!==void 0);function b(P){const{"onUpdate:show":k,onUpdateShow:D,onShow:O,onHide:M}=e;o.value=P,k&&et(k,P),D&&et(D,P),P&&O&&et(O,!0),P&&M&&et(M,!1)}function g(){u&&u.syncPosition()}function m(){const{value:P}=f;P&&(window.clearTimeout(P),f.value=null)}function h(){const{value:P}=_;P&&(window.clearTimeout(P),_.value=null)}function x(){const P=d();if(e.trigger==="focus"&&!P){if(l())return;b(!0)}}function y(){const P=d();if(e.trigger==="focus"&&!P){if(!l())return;b(!1)}}function p(){const P=d();if(e.trigger==="hover"&&!P){if(h(),f.value!==null||l())return;const k=()=>{b(!0),f.value=null},{delay:D}=e;D===0?k():f.value=window.setTimeout(k,D)}}function C(){const P=d();if(e.trigger==="hover"&&!P){if(m(),_.value!==null||!l())return;const k=()=>{b(!1),_.value=null},{duration:D}=e;D===0?k():_.value=window.setTimeout(k,D)}}function S(){C()}function w(P){var k;l()&&(e.trigger==="click"&&(m(),h(),b(!1)),(k=e.onClickoutside)===null||k===void 0||k.call(e,P))}function A(){if(e.trigger==="click"&&!d()){m(),h();const P=!l();b(P)}}function E(P){e.internalTrapFocus&&P.key==="Escape"&&(m(),h(),b(!1))}function R(P){o.value=P}function T(){var P;return(P=r.value)===null||P===void 0?void 0:P.targetRef}function L(P){u=P}return ut("NPopover",{getTriggerElement:T,handleKeydown:E,handleMouseEnter:p,handleMouseLeave:C,handleClickOutside:w,handleMouseMoveOutside:S,setBodyInstance:L,positionManuallyRef:v,isMountedRef:t,zIndexRef:Be(e,"zIndex"),extraClassRef:Be(e,"internalExtraClass"),internalRenderBodyRef:Be(e,"internalRenderBody")}),Qt(()=>{i.value&&d()&&b(!1)}),{binderInstRef:r,positionManually:v,mergedShowConsideringDisabledProp:a,uncontrolledShow:o,mergedShowArrow:c,getMergedShow:l,setShow:R,handleClick:A,handleMouseEnter:p,handleMouseLeave:C,handleFocus:x,handleBlur:y,syncPosition:g}},render(){var e;const{positionManually:t,$slots:r}=this;let n,o=!1;if(!t&&(r.activator?n=ru(r,"activator"):n=ru(r,"trigger"),n)){n=ir(n),n=n.type===Vi?I("span",[n]):n;const i={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((e=n.type)===null||e===void 0)&&e.__popover__)o=!0,n.props||(n.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),n.props.internalSyncTargetWithParent=!0,n.props.internalInheritedEventHandlers?n.props.internalInheritedEventHandlers=[i,...n.props.internalInheritedEventHandlers]:n.props.internalInheritedEventHandlers=[i];else{const{internalInheritedEventHandlers:a}=this,d=[i,...a],l={onBlur:s=>{d.forEach(c=>{c.onBlur(s)})},onFocus:s=>{d.forEach(c=>{c.onFocus(s)})},onClick:s=>{d.forEach(c=>{c.onClick(s)})},onMouseenter:s=>{d.forEach(c=>{c.onMouseenter(s)})},onMouseleave:s=>{d.forEach(c=>{c.onMouseleave(s)})}};nk(n,a?"nested":t?"manual":this.trigger,l)}}return I(wg,{ref:"binderInstRef",syncTarget:!o,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const i=this.getMergedShow();return[this.internalTrapFocus&&i?yt(I("div",{style:{position:"fixed",inset:0}}),[[ka,{enabled:i,zIndex:this.zIndex}]]):null,t?null:I(Tg,null,{default:()=>n}),I(ek,Mi(this.$props,tk,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:i})),{default:()=>{var a,d;return(d=(a=this.$slots).default)===null||d===void 0?void 0:d.call(a)},header:()=>{var a,d;return(d=(a=this.$slots).header)===null||d===void 0?void 0:d.call(a)},footer:()=>{var a,d;return(d=(a=this.$slots).footer)===null||d===void 0?void 0:d.call(a)}})]}})}}),ik={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px",closeMarginRtl:"0 4px 0 0"},sk={name:"Tag",common:Te,self(e){const{textColor2:t,primaryColorHover:r,primaryColorPressed:n,primaryColor:o,infoColor:i,successColor:a,warningColor:d,errorColor:l,baseColor:s,borderColor:c,tagColor:u,opacityDisabled:f,closeIconColor:_,closeIconColorHover:v,closeIconColorPressed:b,closeColorHover:g,closeColorPressed:m,borderRadiusSmall:h,fontSizeMini:x,fontSizeTiny:y,fontSizeSmall:p,fontSizeMedium:C,heightMini:S,heightTiny:w,heightSmall:A,heightMedium:E,buttonColor2Hover:R,buttonColor2Pressed:T,fontWeightStrong:L}=e;return Object.assign(Object.assign({},ik),{closeBorderRadius:h,heightTiny:S,heightSmall:w,heightMedium:A,heightLarge:E,borderRadius:h,opacityDisabled:f,fontSizeTiny:x,fontSizeSmall:y,fontSizeMedium:p,fontSizeLarge:C,fontWeightStrong:L,textColorCheckable:t,textColorHoverCheckable:t,textColorPressedCheckable:t,textColorChecked:s,colorCheckable:"#0000",colorHoverCheckable:R,colorPressedCheckable:T,colorChecked:o,colorCheckedHover:r,colorCheckedPressed:n,border:`1px solid ${c}`,textColor:t,color:u,colorBordered:"#0000",closeIconColor:_,closeIconColorHover:v,closeIconColorPressed:b,closeColorHover:g,closeColorPressed:m,borderPrimary:`1px solid ${Ae(o,{alpha:.3})}`,textColorPrimary:o,colorPrimary:Ae(o,{alpha:.16}),colorBorderedPrimary:"#0000",closeIconColorPrimary:St(o,{lightness:.7}),closeIconColorHoverPrimary:St(o,{lightness:.7}),closeIconColorPressedPrimary:St(o,{lightness:.7}),closeColorHoverPrimary:Ae(o,{alpha:.16}),closeColorPressedPrimary:Ae(o,{alpha:.12}),borderInfo:`1px solid ${Ae(i,{alpha:.3})}`,textColorInfo:i,colorInfo:Ae(i,{alpha:.16}),colorBorderedInfo:"#0000",closeIconColorInfo:St(i,{alpha:.7}),closeIconColorHoverInfo:St(i,{alpha:.7}),closeIconColorPressedInfo:St(i,{alpha:.7}),closeColorHoverInfo:Ae(i,{alpha:.16}),closeColorPressedInfo:Ae(i,{alpha:.12}),borderSuccess:`1px solid ${Ae(a,{alpha:.3})}`,textColorSuccess:a,colorSuccess:Ae(a,{alpha:.16}),colorBorderedSuccess:"#0000",closeIconColorSuccess:St(a,{alpha:.7}),closeIconColorHoverSuccess:St(a,{alpha:.7}),closeIconColorPressedSuccess:St(a,{alpha:.7}),closeColorHoverSuccess:Ae(a,{alpha:.16}),closeColorPressedSuccess:Ae(a,{alpha:.12}),borderWarning:`1px solid ${Ae(d,{alpha:.3})}`,textColorWarning:d,colorWarning:Ae(d,{alpha:.16}),colorBorderedWarning:"#0000",closeIconColorWarning:St(d,{alpha:.7}),closeIconColorHoverWarning:St(d,{alpha:.7}),closeIconColorPressedWarning:St(d,{alpha:.7}),closeColorHoverWarning:Ae(d,{alpha:.16}),closeColorPressedWarning:Ae(d,{alpha:.11}),borderError:`1px solid ${Ae(l,{alpha:.3})}`,textColorError:l,colorError:Ae(l,{alpha:.16}),colorBorderedError:"#0000",closeIconColorError:St(l,{alpha:.7}),closeIconColorHoverError:St(l,{alpha:.7}),closeIconColorPressedError:St(l,{alpha:.7}),closeColorHoverError:Ae(l,{alpha:.16}),closeColorPressedError:Ae(l,{alpha:.12})})}},Kv=sk,ak={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}};Object.assign(Object.assign(Object.assign({},Ge.props),ak),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,triggerClickOnClose:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalCloseIsButtonTag:{type:Boolean,default:!0},onCheckedChange:Function});const lk="n-tag",uk=V("base-clear",`
 flex-shrink: 0;
 height: 1em;
 width: 1em;
 position: relative;
`,[X(">",[oe("clear",`
 font-size: var(--n-clear-size);
 height: 1em;
 width: 1em;
 cursor: pointer;
 color: var(--n-clear-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 `,[X("&:hover",`
 color: var(--n-clear-color-hover)!important;
 `),X("&:active",`
 color: var(--n-clear-color-pressed)!important;
 `)]),oe("placeholder",`
 display: flex;
 `),oe("clear, placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Po({originalTransform:"translateX(-50%) translateY(-50%)",left:"50%",top:"50%"})])])]),mu=ye({name:"BaseClear",props:{clsPrefix:{type:String,required:!0},show:Boolean,onClear:Function},setup(e){return bn("-base-clear",uk,Be(e,"clsPrefix")),{handleMouseDown(t){t.preventDefault()}}},render(){const{clsPrefix:e}=this;return I("div",{class:`${e}-base-clear`},I(Qi,null,{default:()=>{var t,r;return this.show?I("div",{key:"dismiss",class:`${e}-base-clear__clear`,onClick:this.onClear,onMousedown:this.handleMouseDown,"data-clear":!0},wr(this.$slots.icon,()=>[I(lt,{clsPrefix:e},{default:()=>I(qL,null)})])):I("div",{key:"icon",class:`${e}-base-clear__placeholder`},(r=(t=this.$slots).placeholder)===null||r===void 0?void 0:r.call(t))}}))}}),ck=ye({name:"InternalSelectionSuffix",props:{clsPrefix:{type:String,required:!0},showArrow:{type:Boolean,default:void 0},showClear:{type:Boolean,default:void 0},loading:{type:Boolean,default:!1},onClear:Function},setup(e,{slots:t}){return()=>{const{clsPrefix:r}=e;return I(yc,{clsPrefix:r,class:`${r}-base-suffix`,strokeWidth:24,scale:.85,show:e.loading},{default:()=>e.showArrow?I(mu,{clsPrefix:r,show:e.showClear,onClear:e.onClear},{placeholder:()=>I(lt,{clsPrefix:r,class:`${r}-base-suffix__arrow`},{default:()=>wr(t.default,()=>[I(XL,null)])})}):null})}}}),dk={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"},fk={name:"InternalSelection",common:Te,peers:{Popover:ro},self(e){const{borderRadius:t,textColor2:r,textColorDisabled:n,inputColor:o,inputColorDisabled:i,primaryColor:a,primaryColorHover:d,warningColor:l,warningColorHover:s,errorColor:c,errorColorHover:u,iconColor:f,iconColorDisabled:_,clearColor:v,clearColorHover:b,clearColorPressed:g,placeholderColor:m,placeholderColorDisabled:h,fontSizeTiny:x,fontSizeSmall:y,fontSizeMedium:p,fontSizeLarge:C,heightTiny:S,heightSmall:w,heightMedium:A,heightLarge:E}=e;return Object.assign(Object.assign({},dk),{fontSizeTiny:x,fontSizeSmall:y,fontSizeMedium:p,fontSizeLarge:C,heightTiny:S,heightSmall:w,heightMedium:A,heightLarge:E,borderRadius:t,textColor:r,textColorDisabled:n,placeholderColor:m,placeholderColorDisabled:h,color:o,colorDisabled:i,colorActive:Ae(a,{alpha:.1}),border:"1px solid #0000",borderHover:`1px solid ${d}`,borderActive:`1px solid ${a}`,borderFocus:`1px solid ${d}`,boxShadowHover:"none",boxShadowActive:`0 0 8px 0 ${Ae(a,{alpha:.4})}`,boxShadowFocus:`0 0 8px 0 ${Ae(a,{alpha:.4})}`,caretColor:a,arrowColor:f,arrowColorDisabled:_,loadingColor:a,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${s}`,borderActiveWarning:`1px solid ${l}`,borderFocusWarning:`1px solid ${s}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 8px 0 ${Ae(l,{alpha:.4})}`,boxShadowFocusWarning:`0 0 8px 0 ${Ae(l,{alpha:.4})}`,colorActiveWarning:Ae(l,{alpha:.1}),caretColorWarning:l,borderError:`1px solid ${c}`,borderHoverError:`1px solid ${u}`,borderActiveError:`1px solid ${c}`,borderFocusError:`1px solid ${u}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 8px 0 ${Ae(c,{alpha:.4})}`,boxShadowFocusError:`0 0 8px 0 ${Ae(c,{alpha:.4})}`,colorActiveError:Ae(c,{alpha:.1}),caretColorError:c,clearColor:v,clearColorHover:b,clearColorPressed:g})}},Cc=fk,fh=ye({name:"SlotMachineNumber",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],required:!0},oldOriginalNumber:{type:Number,default:void 0},newOriginalNumber:{type:Number,default:void 0}},setup(e){const t=Q(null),r=Q(e.value),n=Q(e.value),o=Q("up"),i=Q(!1),a=ne(()=>i.value?`${e.clsPrefix}-base-slot-machine-current-number--${o.value}-scroll`:null),d=ne(()=>i.value?`${e.clsPrefix}-base-slot-machine-old-number--${o.value}-scroll`:null);tt(Be(e,"value"),(c,u)=>{r.value=u,n.value=c,$t(l)});function l(){const c=e.newOriginalNumber,u=e.oldOriginalNumber;u===void 0||c===void 0||(c>u?s("up"):u>c&&s("down"))}function s(c){o.value=c,i.value=!1,$t(()=>{var u;(u=t.value)===null||u===void 0||u.offsetWidth,i.value=!0})}return()=>{const{clsPrefix:c}=e;return I("span",{ref:t,class:`${c}-base-slot-machine-number`},r.value!==null?I("span",{class:[`${c}-base-slot-machine-old-number ${c}-base-slot-machine-old-number--top`,d.value]},r.value):null,I("span",{class:[`${c}-base-slot-machine-current-number`,a.value]},I("span",{ref:"numberWrapper",class:[`${c}-base-slot-machine-current-number__inner`,typeof e.value!="number"&&`${c}-base-slot-machine-current-number__inner--not-number`]},n.value)),r.value!==null?I("span",{class:[`${c}-base-slot-machine-old-number ${c}-base-slot-machine-old-number--bottom`,d.value]},r.value):null)}}}),{cubicBezierEaseInOut:nn}=Jr;function Yv({duration:e=".2s",delay:t=".1s"}={}){return[X("&.fade-in-width-expand-transition-leave-from, &.fade-in-width-expand-transition-enter-to",{opacity:1}),X("&.fade-in-width-expand-transition-leave-to, &.fade-in-width-expand-transition-enter-from",`
 opacity: 0!important;
 margin-left: 0!important;
 margin-right: 0!important;
 `),X("&.fade-in-width-expand-transition-leave-active",`
 overflow: hidden;
 transition:
 opacity ${e} ${nn},
 max-width ${e} ${nn} ${t},
 margin-left ${e} ${nn} ${t},
 margin-right ${e} ${nn} ${t};
 `),X("&.fade-in-width-expand-transition-enter-active",`
 overflow: hidden;
 transition:
 opacity ${e} ${nn} ${t},
 max-width ${e} ${nn},
 margin-left ${e} ${nn},
 margin-right ${e} ${nn};
 `)]}const{cubicBezierEaseOut:fo}=Jr;function hk({duration:e=".2s"}={}){return[X("&.fade-up-width-expand-transition-leave-active",{transition:`
 opacity ${e} ${fo},
 max-width ${e} ${fo},
 transform ${e} ${fo}
 `}),X("&.fade-up-width-expand-transition-enter-active",{transition:`
 opacity ${e} ${fo},
 max-width ${e} ${fo},
 transform ${e} ${fo}
 `}),X("&.fade-up-width-expand-transition-enter-to",{opacity:1,transform:"translateX(0) translateY(0)"}),X("&.fade-up-width-expand-transition-enter-from",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"}),X("&.fade-up-width-expand-transition-leave-from",{opacity:1,transform:"translateY(0)"}),X("&.fade-up-width-expand-transition-leave-to",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"})]}const pk=X([X("@keyframes n-base-slot-machine-fade-up-in",`
 from {
 transform: translateY(60%);
 opacity: 0;
 }
 to {
 transform: translateY(0);
 opacity: 1;
 }
 `),X("@keyframes n-base-slot-machine-fade-down-in",`
 from {
 transform: translateY(-60%);
 opacity: 0;
 }
 to {
 transform: translateY(0);
 opacity: 1;
 }
 `),X("@keyframes n-base-slot-machine-fade-up-out",`
 from {
 transform: translateY(0%);
 opacity: 1;
 }
 to {
 transform: translateY(-60%);
 opacity: 0;
 }
 `),X("@keyframes n-base-slot-machine-fade-down-out",`
 from {
 transform: translateY(0%);
 opacity: 1;
 }
 to {
 transform: translateY(60%);
 opacity: 0;
 }
 `),V("base-slot-machine",`
 overflow: hidden;
 white-space: nowrap;
 display: inline-block;
 height: 18px;
 line-height: 18px;
 `,[V("base-slot-machine-number",`
 display: inline-block;
 position: relative;
 height: 18px;
 width: .6em;
 max-width: .6em;
 `,[hk({duration:".2s"}),Yv({duration:".2s",delay:"0s"}),V("base-slot-machine-old-number",`
 display: inline-block;
 opacity: 0;
 position: absolute;
 left: 0;
 right: 0;
 `,[le("top",{transform:"translateY(-100%)"}),le("bottom",{transform:"translateY(100%)"}),le("down-scroll",{animation:"n-base-slot-machine-fade-down-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),le("up-scroll",{animation:"n-base-slot-machine-fade-up-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1})]),V("base-slot-machine-current-number",`
 display: inline-block;
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 1;
 transform: translateY(0);
 width: .6em;
 `,[le("down-scroll",{animation:"n-base-slot-machine-fade-down-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),le("up-scroll",{animation:"n-base-slot-machine-fade-up-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),oe("inner",`
 display: inline-block;
 position: absolute;
 right: 0;
 top: 0;
 width: .6em;
 `,[le("not-number",`
 right: unset;
 left: 0;
 `)])])])])]),gk=ye({name:"BaseSlotMachine",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],default:0},max:{type:Number,default:void 0},appeared:{type:Boolean,required:!0}},setup(e){bn("-base-slot-machine",pk,Be(e,"clsPrefix"));const t=Q(),r=Q(),n=ne(()=>{if(typeof e.value=="string")return[];if(e.value<1)return[0];const o=[];let i=e.value;for(e.max!==void 0&&(i=Math.min(e.max,i));i>=1;)o.push(i%10),i/=10,i=Math.floor(i);return o.reverse(),o});return tt(Be(e,"value"),(o,i)=>{typeof o=="string"?(r.value=void 0,t.value=void 0):typeof i=="string"?(r.value=o,t.value=void 0):(r.value=o,t.value=i)}),()=>{const{value:o,clsPrefix:i}=e;return typeof o=="number"?I("span",{class:`${i}-base-slot-machine`},I(qu,{name:"fade-up-width-expand-transition",tag:"span"},{default:()=>n.value.map((a,d)=>I(fh,{clsPrefix:i,key:n.value.length-d-1,oldOriginalNumber:t.value,newOriginalNumber:r.value,value:a}))}),I(zo,{key:"+",width:!0},{default:()=>e.max!==void 0&&e.max<o?I(fh,{clsPrefix:i,value:"+"}):null})):I("span",{class:`${i}-base-slot-machine`},o)}}}),Xv={iconMargin:"11px 8px 0 12px",iconMarginRtl:"11px 12px 0 8px",iconSize:"24px",closeIconSize:"16px",closeSize:"20px",closeMargin:"13px 14px 0 0",closeMarginRtl:"13px 0 0 14px",padding:"13px"},vk={name:"Alert",common:Te,self(e){const{lineHeight:t,borderRadius:r,fontWeightStrong:n,dividerColor:o,inputColor:i,textColor1:a,textColor2:d,closeColorHover:l,closeColorPressed:s,closeIconColor:c,closeIconColorHover:u,closeIconColorPressed:f,infoColorSuppl:_,successColorSuppl:v,warningColorSuppl:b,errorColorSuppl:g,fontSize:m}=e;return Object.assign(Object.assign({},Xv),{fontSize:m,lineHeight:t,titleFontWeight:n,borderRadius:r,border:`1px solid ${o}`,color:i,titleTextColor:a,iconColor:d,contentTextColor:d,closeBorderRadius:r,closeColorHover:l,closeColorPressed:s,closeIconColor:c,closeIconColorHover:u,closeIconColorPressed:f,borderInfo:`1px solid ${Ae(_,{alpha:.35})}`,colorInfo:Ae(_,{alpha:.25}),titleTextColorInfo:a,iconColorInfo:_,contentTextColorInfo:d,closeColorHoverInfo:l,closeColorPressedInfo:s,closeIconColorInfo:c,closeIconColorHoverInfo:u,closeIconColorPressedInfo:f,borderSuccess:`1px solid ${Ae(v,{alpha:.35})}`,colorSuccess:Ae(v,{alpha:.25}),titleTextColorSuccess:a,iconColorSuccess:v,contentTextColorSuccess:d,closeColorHoverSuccess:l,closeColorPressedSuccess:s,closeIconColorSuccess:c,closeIconColorHoverSuccess:u,closeIconColorPressedSuccess:f,borderWarning:`1px solid ${Ae(b,{alpha:.35})}`,colorWarning:Ae(b,{alpha:.25}),titleTextColorWarning:a,iconColorWarning:b,contentTextColorWarning:d,closeColorHoverWarning:l,closeColorPressedWarning:s,closeIconColorWarning:c,closeIconColorHoverWarning:u,closeIconColorPressedWarning:f,borderError:`1px solid ${Ae(g,{alpha:.35})}`,colorError:Ae(g,{alpha:.25}),titleTextColorError:a,iconColorError:g,contentTextColorError:d,closeColorHoverError:l,closeColorPressedError:s,closeIconColorError:c,closeIconColorHoverError:u,closeIconColorPressedError:f})}},mk=vk,bk=e=>{const{lineHeight:t,borderRadius:r,fontWeightStrong:n,baseColor:o,dividerColor:i,actionColor:a,textColor1:d,textColor2:l,closeColorHover:s,closeColorPressed:c,closeIconColor:u,closeIconColorHover:f,closeIconColorPressed:_,infoColor:v,successColor:b,warningColor:g,errorColor:m,fontSize:h}=e;return Object.assign(Object.assign({},Xv),{fontSize:h,lineHeight:t,titleFontWeight:n,borderRadius:r,border:`1px solid ${i}`,color:a,titleTextColor:d,iconColor:l,contentTextColor:l,closeBorderRadius:r,closeColorHover:s,closeColorPressed:c,closeIconColor:u,closeIconColorHover:f,closeIconColorPressed:_,borderInfo:`1px solid ${Ie(o,Ae(v,{alpha:.25}))}`,colorInfo:Ie(o,Ae(v,{alpha:.08})),titleTextColorInfo:d,iconColorInfo:v,contentTextColorInfo:l,closeColorHoverInfo:s,closeColorPressedInfo:c,closeIconColorInfo:u,closeIconColorHoverInfo:f,closeIconColorPressedInfo:_,borderSuccess:`1px solid ${Ie(o,Ae(b,{alpha:.25}))}`,colorSuccess:Ie(o,Ae(b,{alpha:.08})),titleTextColorSuccess:d,iconColorSuccess:b,contentTextColorSuccess:l,closeColorHoverSuccess:s,closeColorPressedSuccess:c,closeIconColorSuccess:u,closeIconColorHoverSuccess:f,closeIconColorPressedSuccess:_,borderWarning:`1px solid ${Ie(o,Ae(g,{alpha:.33}))}`,colorWarning:Ie(o,Ae(g,{alpha:.08})),titleTextColorWarning:d,iconColorWarning:g,contentTextColorWarning:l,closeColorHoverWarning:s,closeColorPressedWarning:c,closeIconColorWarning:u,closeIconColorHoverWarning:f,closeIconColorPressedWarning:_,borderError:`1px solid ${Ie(o,Ae(m,{alpha:.25}))}`,colorError:Ie(o,Ae(m,{alpha:.08})),titleTextColorError:d,iconColorError:m,contentTextColorError:l,closeColorHoverError:s,closeColorPressedError:c,closeIconColorError:u,closeIconColorHoverError:f,closeIconColorPressedError:_})},yk={name:"Alert",common:xt,self:bk},xk=yk,{cubicBezierEaseInOut:Pr,cubicBezierEaseOut:_k,cubicBezierEaseIn:Ck}=Jr;function la({overflow:e="hidden",duration:t=".3s",originalTransition:r="",leavingDelay:n="0s",foldPadding:o=!1,enterToProps:i=void 0,leaveToProps:a=void 0,reverse:d=!1}={}){const l=d?"leave":"enter",s=d?"enter":"leave";return[X(`&.fade-in-height-expand-transition-${s}-from,
 &.fade-in-height-expand-transition-${l}-to`,Object.assign(Object.assign({},i),{opacity:1})),X(`&.fade-in-height-expand-transition-${s}-to,
 &.fade-in-height-expand-transition-${l}-from`,Object.assign(Object.assign({},a),{opacity:0,marginTop:"0 !important",marginBottom:"0 !important",paddingTop:o?"0 !important":void 0,paddingBottom:o?"0 !important":void 0})),X(`&.fade-in-height-expand-transition-${s}-active`,`
 overflow: ${e};
 transition:
 max-height ${t} ${Pr} ${n},
 opacity ${t} ${_k} ${n},
 margin-top ${t} ${Pr} ${n},
 margin-bottom ${t} ${Pr} ${n},
 padding-top ${t} ${Pr} ${n},
 padding-bottom ${t} ${Pr} ${n}
 ${r?","+r:""}
 `),X(`&.fade-in-height-expand-transition-${l}-active`,`
 overflow: ${e};
 transition:
 max-height ${t} ${Pr},
 opacity ${t} ${Ck},
 margin-top ${t} ${Pr},
 margin-bottom ${t} ${Pr},
 padding-top ${t} ${Pr},
 padding-bottom ${t} ${Pr}
 ${r?","+r:""}
 `)]}const Sk=V("alert",`
 line-height: var(--n-line-height);
 border-radius: var(--n-border-radius);
 position: relative;
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 text-align: start;
 word-break: break-word;
`,[oe("border",`
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 transition: border-color .3s var(--n-bezier);
 border: var(--n-border);
 pointer-events: none;
 `),le("closable",[V("alert-body",[oe("title",`
 padding-right: 24px;
 `)])]),oe("icon",{color:"var(--n-icon-color)"}),V("alert-body",{padding:"var(--n-padding)"},[oe("title",{color:"var(--n-title-text-color)"}),oe("content",{color:"var(--n-content-text-color)"})]),la({originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.9)"}}),oe("icon",`
 position: absolute;
 left: 0;
 top: 0;
 align-items: center;
 justify-content: center;
 display: flex;
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 margin: var(--n-icon-margin);
 `),oe("close",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 `),le("show-icon",[V("alert-body",{paddingLeft:"calc(var(--n-icon-margin-left) + var(--n-icon-size) + var(--n-icon-margin-right))"})]),V("alert-body",`
 border-radius: var(--n-border-radius);
 transition: border-color .3s var(--n-bezier);
 `,[oe("title",`
 transition: color .3s var(--n-bezier);
 font-size: 16px;
 line-height: 19px;
 font-weight: var(--n-title-font-weight);
 `,[X("& +",[oe("content",{marginTop:"9px"})])]),oe("content",{transition:"color .3s var(--n-bezier)",fontSize:"var(--n-font-size)"})]),oe("icon",{transition:"color .3s var(--n-bezier)"})]),Ek=Object.assign(Object.assign({},Ge.props),{title:String,showIcon:{type:Boolean,default:!0},type:{type:String,default:"default"},bordered:{type:Boolean,default:!0},closable:Boolean,onClose:Function,onAfterLeave:Function,onAfterHide:Function}),wk=ye({name:"Alert",inheritAttrs:!1,props:Ek,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:r,inlineThemeDisabled:n,mergedRtlRef:o}=ft(e),i=Ge("Alert","-alert",Sk,xk,e,t),a=eo("Alert",o,t),d=ne(()=>{const{common:{cubicBezierEaseInOut:_},self:v}=i.value,{fontSize:b,borderRadius:g,titleFontWeight:m,lineHeight:h,iconSize:x,iconMargin:y,iconMarginRtl:p,closeIconSize:C,closeBorderRadius:S,closeSize:w,closeMargin:A,closeMarginRtl:E,padding:R}=v,{type:T}=e,{left:L,right:P}=kn(y);return{"--n-bezier":_,"--n-color":v[Ce("color",T)],"--n-close-icon-size":C,"--n-close-border-radius":S,"--n-close-color-hover":v[Ce("closeColorHover",T)],"--n-close-color-pressed":v[Ce("closeColorPressed",T)],"--n-close-icon-color":v[Ce("closeIconColor",T)],"--n-close-icon-color-hover":v[Ce("closeIconColorHover",T)],"--n-close-icon-color-pressed":v[Ce("closeIconColorPressed",T)],"--n-icon-color":v[Ce("iconColor",T)],"--n-border":v[Ce("border",T)],"--n-title-text-color":v[Ce("titleTextColor",T)],"--n-content-text-color":v[Ce("contentTextColor",T)],"--n-line-height":h,"--n-border-radius":g,"--n-font-size":b,"--n-title-font-weight":m,"--n-icon-size":x,"--n-icon-margin":y,"--n-icon-margin-rtl":p,"--n-close-size":w,"--n-close-margin":A,"--n-close-margin-rtl":E,"--n-padding":R,"--n-icon-margin-left":L,"--n-icon-margin-right":P}}),l=n?Pt("alert",ne(()=>e.type[0]),d,e):void 0,s=Q(!0),c=()=>{const{onAfterLeave:_,onAfterHide:v}=e;_&&_(),v&&v()};return{rtlEnabled:a,mergedClsPrefix:t,mergedBordered:r,visible:s,handleCloseClick:()=>{var _;Promise.resolve((_=e.onClose)===null||_===void 0?void 0:_.call(e)).then(v=>{v!==!1&&(s.value=!1)})},handleAfterLeave:()=>{c()},mergedTheme:i,cssVars:n?void 0:d,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){var e;return(e=this.onRender)===null||e===void 0||e.call(this),I(zo,{onAfterLeave:this.handleAfterLeave},{default:()=>{const{mergedClsPrefix:t,$slots:r}=this,n={class:[`${t}-alert`,this.themeClass,this.closable&&`${t}-alert--closable`,this.showIcon&&`${t}-alert--show-icon`,this.rtlEnabled&&`${t}-alert--rtl`],style:this.cssVars,role:"alert"};return this.visible?I("div",Object.assign({},sr(this.$attrs,n)),this.closable&&I(es,{clsPrefix:t,class:`${t}-alert__close`,onClick:this.handleCloseClick}),this.bordered&&I("div",{class:`${t}-alert__border`}),this.showIcon&&I("div",{class:`${t}-alert__icon`,"aria-hidden":"true"},wr(r.icon,()=>[I(lt,{clsPrefix:t},{default:()=>{switch(this.type){case"success":return I($o,null);case"info":return I(Kn,null);case"warning":return I(Uo,null);case"error":return I(No,null);default:return null}}})])),I("div",{class:[`${t}-alert-body`,this.mergedBordered&&`${t}-alert-body--bordered`]},Et(r.header,o=>{const i=o||this.title;return i?I("div",{class:`${t}-alert-body__title`},i):null}),r.default&&I("div",{class:`${t}-alert-body__content`},r))):null}})}}),Tk={linkFontSize:"13px",linkPadding:"0 0 0 16px",railWidth:"4px"},Rk=e=>{const{borderRadius:t,railColor:r,primaryColor:n,primaryColorHover:o,primaryColorPressed:i,textColor2:a}=e;return Object.assign(Object.assign({},Tk),{borderRadius:t,railColor:r,railColorActive:n,linkColor:Ae(n,{alpha:.15}),linkTextColor:a,linkTextColorHover:o,linkTextColorPressed:i,linkTextColorActive:n})},Ak={name:"Anchor",common:Te,self:Rk},Lk=Ak,Pk=mn&&"chrome"in window;mn&&navigator.userAgent.includes("Firefox");const qv=mn&&navigator.userAgent.includes("Safari")&&!Pk,Zv={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"},kk={name:"Input",common:Te,self(e){const{textColor2:t,textColor3:r,textColorDisabled:n,primaryColor:o,primaryColorHover:i,inputColor:a,inputColorDisabled:d,warningColor:l,warningColorHover:s,errorColor:c,errorColorHover:u,borderRadius:f,lineHeight:_,fontSizeTiny:v,fontSizeSmall:b,fontSizeMedium:g,fontSizeLarge:m,heightTiny:h,heightSmall:x,heightMedium:y,heightLarge:p,clearColor:C,clearColorHover:S,clearColorPressed:w,placeholderColor:A,placeholderColorDisabled:E,iconColor:R,iconColorDisabled:T,iconColorHover:L,iconColorPressed:P}=e;return Object.assign(Object.assign({},Zv),{countTextColorDisabled:n,countTextColor:r,heightTiny:h,heightSmall:x,heightMedium:y,heightLarge:p,fontSizeTiny:v,fontSizeSmall:b,fontSizeMedium:g,fontSizeLarge:m,lineHeight:_,lineHeightTextarea:_,borderRadius:f,iconSize:"16px",groupLabelColor:a,textColor:t,textColorDisabled:n,textDecorationColor:t,groupLabelTextColor:t,caretColor:o,placeholderColor:A,placeholderColorDisabled:E,color:a,colorDisabled:d,colorFocus:Ae(o,{alpha:.1}),groupLabelBorder:"1px solid #0000",border:"1px solid #0000",borderHover:`1px solid ${i}`,borderDisabled:"1px solid #0000",borderFocus:`1px solid ${i}`,boxShadowFocus:`0 0 8px 0 ${Ae(o,{alpha:.3})}`,loadingColor:o,loadingColorWarning:l,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${s}`,colorFocusWarning:Ae(l,{alpha:.1}),borderFocusWarning:`1px solid ${s}`,boxShadowFocusWarning:`0 0 8px 0 ${Ae(l,{alpha:.3})}`,caretColorWarning:l,loadingColorError:c,borderError:`1px solid ${c}`,borderHoverError:`1px solid ${u}`,colorFocusError:Ae(c,{alpha:.1}),borderFocusError:`1px solid ${u}`,boxShadowFocusError:`0 0 8px 0 ${Ae(c,{alpha:.3})}`,caretColorError:c,clearColor:C,clearColorHover:S,clearColorPressed:w,iconColor:R,iconColorDisabled:T,iconColorHover:L,iconColorPressed:P,suffixTextColor:t})}},br=kk,Ok=e=>{const{textColor2:t,textColor3:r,textColorDisabled:n,primaryColor:o,primaryColorHover:i,inputColor:a,inputColorDisabled:d,borderColor:l,warningColor:s,warningColorHover:c,errorColor:u,errorColorHover:f,borderRadius:_,lineHeight:v,fontSizeTiny:b,fontSizeSmall:g,fontSizeMedium:m,fontSizeLarge:h,heightTiny:x,heightSmall:y,heightMedium:p,heightLarge:C,actionColor:S,clearColor:w,clearColorHover:A,clearColorPressed:E,placeholderColor:R,placeholderColorDisabled:T,iconColor:L,iconColorDisabled:P,iconColorHover:k,iconColorPressed:D}=e;return Object.assign(Object.assign({},Zv),{countTextColorDisabled:n,countTextColor:r,heightTiny:x,heightSmall:y,heightMedium:p,heightLarge:C,fontSizeTiny:b,fontSizeSmall:g,fontSizeMedium:m,fontSizeLarge:h,lineHeight:v,lineHeightTextarea:v,borderRadius:_,iconSize:"16px",groupLabelColor:S,groupLabelTextColor:t,textColor:t,textColorDisabled:n,textDecorationColor:t,caretColor:o,placeholderColor:R,placeholderColorDisabled:T,color:a,colorDisabled:d,colorFocus:a,groupLabelBorder:`1px solid ${l}`,border:`1px solid ${l}`,borderHover:`1px solid ${i}`,borderDisabled:`1px solid ${l}`,borderFocus:`1px solid ${i}`,boxShadowFocus:`0 0 0 2px ${Ae(o,{alpha:.2})}`,loadingColor:o,loadingColorWarning:s,borderWarning:`1px solid ${s}`,borderHoverWarning:`1px solid ${c}`,colorFocusWarning:a,borderFocusWarning:`1px solid ${c}`,boxShadowFocusWarning:`0 0 0 2px ${Ae(s,{alpha:.2})}`,caretColorWarning:s,loadingColorError:u,borderError:`1px solid ${u}`,borderHoverError:`1px solid ${f}`,colorFocusError:a,borderFocusError:`1px solid ${f}`,boxShadowFocusError:`0 0 0 2px ${Ae(u,{alpha:.2})}`,caretColorError:u,clearColor:w,clearColorHover:A,clearColorPressed:E,iconColor:L,iconColorDisabled:P,iconColorHover:k,iconColorPressed:D,suffixTextColor:t})},Dk={name:"Input",common:xt,self:Ok},Ik=Dk,Jv="n-input";function Mk(e){let t=0;for(const r of e)t++;return t}function Ss(e){return e===""||e==null}function Fk(e){const t=Q(null);function r(){const{value:i}=e;if(!(i!=null&&i.focus)){o();return}const{selectionStart:a,selectionEnd:d,value:l}=i;if(a==null||d==null){o();return}t.value={start:a,end:d,beforeText:l.slice(0,a),afterText:l.slice(d)}}function n(){var i;const{value:a}=t,{value:d}=e;if(!a||!d)return;const{value:l}=d,{start:s,beforeText:c,afterText:u}=a;let f=l.length;if(l.endsWith(u))f=l.length-u.length;else if(l.startsWith(c))f=c.length;else{const _=c[s-1],v=l.indexOf(_,s-1);v!==-1&&(f=v+1)}(i=d.setSelectionRange)===null||i===void 0||i.call(d,f,f)}function o(){t.value=null}return tt(e,o),{recordCursor:r,restoreCursor:n}}const hh=ye({name:"InputWordCount",setup(e,{slots:t}){const{mergedValueRef:r,maxlengthRef:n,mergedClsPrefixRef:o,countGraphemesRef:i}=$e(Jv),a=ne(()=>{const{value:d}=r;return d===null||Array.isArray(d)?0:(i.value||Mk)(d)});return()=>{const{value:d}=n,{value:l}=r;return I("span",{class:`${o.value}-input-word-count`},sC(t.default,{value:l===null||Array.isArray(l)?"":l},()=>[d===void 0?a.value:`${a.value} / ${d}`]))}}}),Bk=V("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);
`,[oe("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),oe("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 -webkit-text-fill-color .3s var(--n-bezier),
 caret-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 `),oe("input-el, textarea-el",`
 -webkit-appearance: none;
 scrollbar-width: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--n-text-decoration-color);
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 background-color: transparent;
 `,[X("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),X("&::placeholder",`
 color: #0000;
 -webkit-text-fill-color: transparent !important;
 `),X("&:-webkit-autofill ~",[oe("placeholder","display: none;")])]),le("round",[Gt("textarea","border-radius: calc(var(--n-height) / 2);")]),oe("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--n-placeholder-color);
 `,[X("span",`
 width: 100%;
 display: inline-block;
 `)]),le("textarea",[oe("placeholder","overflow: visible;")]),Gt("autosize","width: 100%;"),le("autosize",[oe("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),V("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 `),oe("input-mirror",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre;
 pointer-events: none;
 `),oe("input-el",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[X("+",[oe("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),Gt("textarea",[oe("placeholder","white-space: nowrap;")]),oe("eye",`
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `),le("textarea","width: 100%;",[V("input-word-count",`
 position: absolute;
 right: var(--n-padding-right);
 bottom: var(--n-padding-vertical);
 `),le("resizable",[V("input-wrapper",`
 resize: vertical;
 min-height: var(--n-height);
 `)]),oe("textarea-el, textarea-mirror, placeholder",`
 height: 100%;
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--n-padding-vertical);
 padding-bottom: var(--n-padding-vertical);
 word-break: break-word;
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--n-line-height-textarea);
 margin: 0;
 resize: none;
 white-space: pre-wrap;
 `),oe("textarea-mirror",`
 width: 100%;
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),le("pair",[oe("input-el, placeholder","text-align: center;"),oe("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 white-space: nowrap;
 `,[V("icon",`
 color: var(--n-icon-color);
 `),V("base-icon",`
 color: var(--n-icon-color);
 `)])]),le("disabled",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[oe("border","border: var(--n-border-disabled);"),oe("input-el, textarea-el",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 text-decoration-color: var(--n-text-color-disabled);
 `),oe("placeholder","color: var(--n-placeholder-color-disabled);"),oe("separator","color: var(--n-text-color-disabled);",[V("icon",`
 color: var(--n-icon-color-disabled);
 `),V("base-icon",`
 color: var(--n-icon-color-disabled);
 `)]),V("input-word-count",`
 color: var(--n-count-text-color-disabled);
 `),oe("suffix, prefix","color: var(--n-text-color-disabled);",[V("icon",`
 color: var(--n-icon-color-disabled);
 `),V("internal-icon",`
 color: var(--n-icon-color-disabled);
 `)])]),Gt("disabled",[oe("eye",`
 color: var(--n-icon-color);
 cursor: pointer;
 `,[X("&:hover",`
 color: var(--n-icon-color-hover);
 `),X("&:active",`
 color: var(--n-icon-color-pressed);
 `)]),X("&:hover",[oe("state-border","border: var(--n-border-hover);")]),le("focus","background-color: var(--n-color-focus);",[oe("state-border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),oe("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--n-border);
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),oe("state-border",`
 border-color: #0000;
 z-index: 1;
 `),oe("prefix","margin-right: 4px;"),oe("suffix",`
 margin-left: 4px;
 `),oe("suffix, prefix",`
 transition: color .3s var(--n-bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--n-height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-suffix-text-color);
 `,[V("base-loading",`
 font-size: var(--n-icon-size);
 margin: 0 2px;
 color: var(--n-loading-color);
 `),V("base-clear",`
 font-size: var(--n-icon-size);
 `,[oe("placeholder",[V("base-icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)])]),X(">",[V("icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),V("base-icon",`
 font-size: var(--n-icon-size);
 `)]),V("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--n-count-text-color);
 transition: color .3s var(--n-bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `),["warning","error"].map(e=>le(`${e}-status`,[Gt("disabled",[V("base-loading",`
 color: var(--n-loading-color-${e})
 `),oe("input-el, textarea-el",`
 caret-color: var(--n-caret-color-${e});
 `),oe("state-border",`
 border: var(--n-border-${e});
 `),X("&:hover",[oe("state-border",`
 border: var(--n-border-hover-${e});
 `)]),X("&:focus",`
 background-color: var(--n-color-focus-${e});
 `,[oe("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)]),le("focus",`
 background-color: var(--n-color-focus-${e});
 `,[oe("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)])])]))]),Nk=V("input",[le("disabled",[oe("input-el, textarea-el",`
 -webkit-text-fill-color: var(--n-text-color-disabled);
 `)])]),$k=Object.assign(Object.assign({},Ge.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},allowInput:Function,renderCount:Function,onMousedown:Function,onKeydown:Function,onKeyup:Function,onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],countGraphemes:Function,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:Boolean,showPasswordToggle:Boolean}),Qv=ye({name:"Input",props:$k,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:r,inlineThemeDisabled:n,mergedRtlRef:o}=ft(e),i=Ge("Input","-input",Bk,Ik,e,t);qv&&bn("-input-safari",Nk,t);const a=Q(null),d=Q(null),l=Q(null),s=Q(null),c=Q(null),u=Q(null),f=Q(null),_=Fk(f),v=Q(null),{localeRef:b}=Lv("Input"),g=Q(e.defaultValue),m=Be(e,"value"),h=Xi(m,g),x=ac(e),{mergedSizeRef:y,mergedDisabledRef:p,mergedStatusRef:C}=x,S=Q(!1),w=Q(!1),A=Q(!1),E=Q(!1);let R=null;const T=ne(()=>{const{placeholder:J,pair:ve}=e;return ve?Array.isArray(J)?J:J===void 0?["",""]:[J,J]:J===void 0?[b.value.placeholder]:[J]}),L=ne(()=>{const{value:J}=A,{value:ve}=h,{value:He}=T;return!J&&(Ss(ve)||Array.isArray(ve)&&Ss(ve[0]))&&He[0]}),P=ne(()=>{const{value:J}=A,{value:ve}=h,{value:He}=T;return!J&&He[1]&&(Ss(ve)||Array.isArray(ve)&&Ss(ve[1]))}),k=Dt(()=>e.internalForceFocus||S.value),D=Dt(()=>{if(p.value||e.readonly||!e.clearable||!k.value&&!w.value)return!1;const{value:J}=h,{value:ve}=k;return e.pair?!!(Array.isArray(J)&&(J[0]||J[1]))&&(w.value||ve):!!J&&(w.value||ve)}),O=ne(()=>{const{showPasswordOn:J}=e;if(J)return J;if(e.showPasswordToggle)return"click"}),M=Q(!1),F=ne(()=>{const{textDecoration:J}=e;return J?Array.isArray(J)?J.map(ve=>({textDecoration:ve})):[{textDecoration:J}]:["",""]}),N=Q(void 0),U=()=>{var J,ve;if(e.type==="textarea"){const{autosize:He}=e;if(He&&(N.value=(ve=(J=v.value)===null||J===void 0?void 0:J.$el)===null||ve===void 0?void 0:ve.offsetWidth),!d.value||typeof He=="boolean")return;const{paddingTop:mt,paddingBottom:Ct,lineHeight:pt}=window.getComputedStyle(d.value),yn=Number(mt.slice(0,-2)),xn=Number(Ct.slice(0,-2)),_n=Number(pt.slice(0,-2)),{value:Vo}=l;if(!Vo)return;if(He.minRows){const Ko=Math.max(He.minRows,1),Ka=`${yn+xn+_n*Ko}px`;Vo.style.minHeight=Ka}if(He.maxRows){const Ko=`${yn+xn+_n*He.maxRows}px`;Vo.style.maxHeight=Ko}}},G=ne(()=>{const{maxlength:J}=e;return J===void 0?void 0:Number(J)});Rt(()=>{const{value:J}=h;Array.isArray(J)||Bt(J)});const H=ar().proxy;function Z(J){const{onUpdateValue:ve,"onUpdate:value":He,onInput:mt}=e,{nTriggerFormInput:Ct}=x;ve&&et(ve,J),He&&et(He,J),mt&&et(mt,J),g.value=J,Ct()}function de(J){const{onChange:ve}=e,{nTriggerFormChange:He}=x;ve&&et(ve,J),g.value=J,He()}function ee(J){const{onBlur:ve}=e,{nTriggerFormBlur:He}=x;ve&&et(ve,J),He()}function W(J){const{onFocus:ve}=e,{nTriggerFormFocus:He}=x;ve&&et(ve,J),He()}function ae(J){const{onClear:ve}=e;ve&&et(ve,J)}function q(J){const{onInputBlur:ve}=e;ve&&et(ve,J)}function pe(J){const{onInputFocus:ve}=e;ve&&et(ve,J)}function we(){const{onDeactivate:J}=e;J&&et(J)}function B(){const{onActivate:J}=e;J&&et(J)}function $(J){const{onClick:ve}=e;ve&&et(ve,J)}function z(J){const{onWrapperFocus:ve}=e;ve&&et(ve,J)}function Y(J){const{onWrapperBlur:ve}=e;ve&&et(ve,J)}function j(){A.value=!0}function K(J){A.value=!1,J.target===u.value?te(J,1):te(J,0)}function te(J,ve=0,He="input"){const mt=J.target.value;if(Bt(mt),J instanceof InputEvent&&!J.isComposing&&(A.value=!1),e.type==="textarea"){const{value:pt}=v;pt&&pt.syncUnifiedContainer()}if(R=mt,A.value)return;_.recordCursor();const Ct=re(mt);if(Ct)if(!e.pair)He==="input"?Z(mt):de(mt);else{let{value:pt}=h;Array.isArray(pt)?pt=[pt[0],pt[1]]:pt=["",""],pt[ve]=mt,He==="input"?Z(pt):de(pt)}H.$forceUpdate(),Ct||$t(_.restoreCursor)}function re(J){const{countGraphemes:ve,maxlength:He,minlength:mt}=e;if(ve){let pt;if(He!==void 0&&(pt===void 0&&(pt=ve(J)),pt>Number(He))||mt!==void 0&&(pt===void 0&&(pt=ve(J)),pt<Number(He)))return!1}const{allowInput:Ct}=e;return typeof Ct=="function"?Ct(J):!0}function ue(J){q(J),J.relatedTarget===a.value&&we(),J.relatedTarget!==null&&(J.relatedTarget===c.value||J.relatedTarget===u.value||J.relatedTarget===d.value)||(E.value=!1),Ee(J,"blur"),f.value=null}function ie(J,ve){pe(J),S.value=!0,E.value=!0,B(),Ee(J,"focus"),ve===0?f.value=c.value:ve===1?f.value=u.value:ve===2&&(f.value=d.value)}function _e(J){e.passivelyActivated&&(Y(J),Ee(J,"blur"))}function Se(J){e.passivelyActivated&&(S.value=!0,z(J),Ee(J,"focus"))}function Ee(J,ve){J.relatedTarget!==null&&(J.relatedTarget===c.value||J.relatedTarget===u.value||J.relatedTarget===d.value||J.relatedTarget===a.value)||(ve==="focus"?(W(J),S.value=!0):ve==="blur"&&(ee(J),S.value=!1))}function Me(J,ve){te(J,ve,"change")}function Ue(J){$(J)}function Ve(J){ae(J),e.pair?(Z(["",""]),de(["",""])):(Z(""),de(""))}function Ne(J){const{onMousedown:ve}=e;ve&&ve(J);const{tagName:He}=J.target;if(He!=="INPUT"&&He!=="TEXTAREA"){if(e.resizable){const{value:mt}=a;if(mt){const{left:Ct,top:pt,width:yn,height:xn}=mt.getBoundingClientRect(),_n=14;if(Ct+yn-_n<J.clientX&&J.clientX<Ct+yn&&pt+xn-_n<J.clientY&&J.clientY<pt+xn)return}}J.preventDefault(),S.value||ce()}}function Ze(){var J;w.value=!0,e.type==="textarea"&&((J=v.value)===null||J===void 0||J.handleMouseEnterWrapper())}function se(){var J;w.value=!1,e.type==="textarea"&&((J=v.value)===null||J===void 0||J.handleMouseLeaveWrapper())}function me(){p.value||O.value==="click"&&(M.value=!M.value)}function xe(J){if(p.value)return;J.preventDefault();const ve=mt=>{mt.preventDefault(),st("mouseup",document,ve)};if(ct("mouseup",document,ve),O.value!=="mousedown")return;M.value=!0;const He=()=>{M.value=!1,st("mouseup",document,He)};ct("mouseup",document,He)}function Le(J){var ve;switch((ve=e.onKeydown)===null||ve===void 0||ve.call(e,J),J.key){case"Escape":Oe();break;case"Enter":Fe(J);break}}function Fe(J){var ve,He;if(e.passivelyActivated){const{value:mt}=E;if(mt){e.internalDeactivateOnEnter&&Oe();return}J.preventDefault(),e.type==="textarea"?(ve=d.value)===null||ve===void 0||ve.focus():(He=c.value)===null||He===void 0||He.focus()}}function Oe(){e.passivelyActivated&&(E.value=!1,$t(()=>{var J;(J=a.value)===null||J===void 0||J.focus()}))}function ce(){var J,ve,He;p.value||(e.passivelyActivated?(J=a.value)===null||J===void 0||J.focus():((ve=d.value)===null||ve===void 0||ve.focus(),(He=c.value)===null||He===void 0||He.focus()))}function Re(){var J;!((J=a.value)===null||J===void 0)&&J.contains(document.activeElement)&&document.activeElement.blur()}function De(){var J,ve;(J=d.value)===null||J===void 0||J.select(),(ve=c.value)===null||ve===void 0||ve.select()}function Ke(){p.value||(d.value?d.value.focus():c.value&&c.value.focus())}function Je(){const{value:J}=a;J!=null&&J.contains(document.activeElement)&&J!==document.activeElement&&Oe()}function At(J){if(e.type==="textarea"){const{value:ve}=d;ve==null||ve.scrollTo(J)}else{const{value:ve}=c;ve==null||ve.scrollTo(J)}}function Bt(J){const{type:ve,pair:He,autosize:mt}=e;if(!He&&mt)if(ve==="textarea"){const{value:Ct}=l;Ct&&(Ct.textContent=(J??"")+`\r
`)}else{const{value:Ct}=s;Ct&&(J?Ct.textContent=J:Ct.innerHTML="&nbsp;")}}function ht(){U()}const Yt=Q({top:"0"});function Ur(J){var ve;const{scrollTop:He}=J.target;Yt.value.top=`${-He}px`,(ve=v.value)===null||ve===void 0||ve.syncUnifiedContainer()}let no=null;Qt(()=>{const{autosize:J,type:ve}=e;J&&ve==="textarea"?no=tt(h,He=>{!Array.isArray(He)&&He!==R&&Bt(He)}):no==null||no()});let oo=null;Qt(()=>{e.type==="textarea"?oo=tt(h,J=>{var ve;!Array.isArray(J)&&J!==R&&((ve=v.value)===null||ve===void 0||ve.syncUnifiedContainer())}):oo==null||oo()}),ut(Jv,{mergedValueRef:h,maxlengthRef:G,mergedClsPrefixRef:t,countGraphemesRef:Be(e,"countGraphemes")});const Va={wrapperElRef:a,inputElRef:c,textareaElRef:d,isCompositing:A,focus:ce,blur:Re,select:De,deactivate:Je,activate:Ke,scrollTo:At},P0=eo("Input",o,t),Uc=ne(()=>{const{value:J}=y,{common:{cubicBezierEaseInOut:ve},self:{color:He,borderRadius:mt,textColor:Ct,caretColor:pt,caretColorError:yn,caretColorWarning:xn,textDecorationColor:_n,border:Vo,borderDisabled:Ko,borderHover:Ka,borderFocus:k0,placeholderColor:O0,placeholderColorDisabled:D0,lineHeightTextarea:I0,colorDisabled:M0,colorFocus:F0,textColorDisabled:B0,boxShadowFocus:N0,iconSize:$0,colorFocusWarning:U0,boxShadowFocusWarning:z0,borderWarning:j0,borderFocusWarning:H0,borderHoverWarning:W0,colorFocusError:G0,boxShadowFocusError:V0,borderError:K0,borderFocusError:Y0,borderHoverError:X0,clearSize:q0,clearColor:Z0,clearColorHover:J0,clearColorPressed:Q0,iconColor:eb,iconColorDisabled:tb,suffixTextColor:rb,countTextColor:nb,countTextColorDisabled:ob,iconColorHover:ib,iconColorPressed:sb,loadingColor:ab,loadingColorError:lb,loadingColorWarning:ub,[Ce("padding",J)]:cb,[Ce("fontSize",J)]:db,[Ce("height",J)]:fb}}=i.value,{left:hb,right:pb}=kn(cb);return{"--n-bezier":ve,"--n-count-text-color":nb,"--n-count-text-color-disabled":ob,"--n-color":He,"--n-font-size":db,"--n-border-radius":mt,"--n-height":fb,"--n-padding-left":hb,"--n-padding-right":pb,"--n-text-color":Ct,"--n-caret-color":pt,"--n-text-decoration-color":_n,"--n-border":Vo,"--n-border-disabled":Ko,"--n-border-hover":Ka,"--n-border-focus":k0,"--n-placeholder-color":O0,"--n-placeholder-color-disabled":D0,"--n-icon-size":$0,"--n-line-height-textarea":I0,"--n-color-disabled":M0,"--n-color-focus":F0,"--n-text-color-disabled":B0,"--n-box-shadow-focus":N0,"--n-loading-color":ab,"--n-caret-color-warning":xn,"--n-color-focus-warning":U0,"--n-box-shadow-focus-warning":z0,"--n-border-warning":j0,"--n-border-focus-warning":H0,"--n-border-hover-warning":W0,"--n-loading-color-warning":ub,"--n-caret-color-error":yn,"--n-color-focus-error":G0,"--n-box-shadow-focus-error":V0,"--n-border-error":K0,"--n-border-focus-error":Y0,"--n-border-hover-error":X0,"--n-loading-color-error":lb,"--n-clear-color":Z0,"--n-clear-size":q0,"--n-clear-color-hover":J0,"--n-clear-color-pressed":Q0,"--n-icon-color":eb,"--n-icon-color-hover":ib,"--n-icon-color-pressed":sb,"--n-icon-color-disabled":tb,"--n-suffix-text-color":rb}}),io=n?Pt("input",ne(()=>{const{value:J}=y;return J[0]}),Uc,e):void 0;return Object.assign(Object.assign({},Va),{wrapperElRef:a,inputElRef:c,inputMirrorElRef:s,inputEl2Ref:u,textareaElRef:d,textareaMirrorElRef:l,textareaScrollbarInstRef:v,rtlEnabled:P0,uncontrolledValue:g,mergedValue:h,passwordVisible:M,mergedPlaceholder:T,showPlaceholder1:L,showPlaceholder2:P,mergedFocus:k,isComposing:A,activated:E,showClearButton:D,mergedSize:y,mergedDisabled:p,textDecorationStyle:F,mergedClsPrefix:t,mergedBordered:r,mergedShowPasswordOn:O,placeholderStyle:Yt,mergedStatus:C,textAreaScrollContainerWidth:N,handleTextAreaScroll:Ur,handleCompositionStart:j,handleCompositionEnd:K,handleInput:te,handleInputBlur:ue,handleInputFocus:ie,handleWrapperBlur:_e,handleWrapperFocus:Se,handleMouseEnter:Ze,handleMouseLeave:se,handleMouseDown:Ne,handleChange:Me,handleClick:Ue,handleClear:Ve,handlePasswordToggleClick:me,handlePasswordToggleMousedown:xe,handleWrapperKeydown:Le,handleTextAreaMirrorResize:ht,getTextareaScrollContainer:()=>d.value,mergedTheme:i,cssVars:n?void 0:Uc,themeClass:io==null?void 0:io.themeClass,onRender:io==null?void 0:io.onRender})},render(){var e,t;const{mergedClsPrefix:r,mergedStatus:n,themeClass:o,type:i,countGraphemes:a,onRender:d}=this,l=this.$slots;return d==null||d(),I("div",{ref:"wrapperElRef",class:[`${r}-input`,o,n&&`${r}-input--${n}-status`,{[`${r}-input--rtl`]:this.rtlEnabled,[`${r}-input--disabled`]:this.mergedDisabled,[`${r}-input--textarea`]:i==="textarea",[`${r}-input--resizable`]:this.resizable&&!this.autosize,[`${r}-input--autosize`]:this.autosize,[`${r}-input--round`]:this.round&&i!=="textarea",[`${r}-input--pair`]:this.pair,[`${r}-input--focus`]:this.mergedFocus,[`${r}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.onKeyup,onKeydown:this.handleWrapperKeydown},I("div",{class:`${r}-input-wrapper`},Et(l.prefix,s=>s&&I("div",{class:`${r}-input__prefix`},s)),i==="textarea"?I(Uv,{ref:"textareaScrollbarInstRef",class:`${r}-input__textarea`,container:this.getTextareaScrollContainer,triggerDisplayManually:!0,useUnifiedContainer:!0,internalHoistYRail:!0},{default:()=>{var s,c;const{textAreaScrollContainerWidth:u}=this,f={width:this.autosize&&u&&`${u}px`};return I(Qe,null,I("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:[`${r}-input__textarea-el`,(s=this.inputProps)===null||s===void 0?void 0:s.class],autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:a?void 0:this.maxlength,minlength:a?void 0:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:[this.textDecorationStyle[0],(c=this.inputProps)===null||c===void 0?void 0:c.style,f],onBlur:this.handleInputBlur,onFocus:_=>{this.handleInputFocus(_,2)},onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?I("div",{class:`${r}-input__placeholder`,style:[this.placeholderStyle,f],key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?I(Gn,{onResize:this.handleTextAreaMirrorResize},{default:()=>I("div",{ref:"textareaMirrorElRef",class:`${r}-input__textarea-mirror`,key:"mirror"})}):null)}}):I("div",{class:`${r}-input__input`},I("input",Object.assign({type:i==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":i},this.inputProps,{ref:"inputElRef",class:[`${r}-input__input-el`,(e=this.inputProps)===null||e===void 0?void 0:e.class],style:[this.textDecorationStyle[0],(t=this.inputProps)===null||t===void 0?void 0:t.style],tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:a?void 0:this.maxlength,minlength:a?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:s=>{this.handleInputFocus(s,0)},onInput:s=>{this.handleInput(s,0)},onChange:s=>{this.handleChange(s,0)}})),this.showPlaceholder1?I("div",{class:`${r}-input__placeholder`},I("span",null,this.mergedPlaceholder[0])):null,this.autosize?I("div",{class:`${r}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"},""):null),!this.pair&&Et(l.suffix,s=>s||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0?I("div",{class:`${r}-input__suffix`},[Et(l["clear-icon-placeholder"],c=>(this.clearable||c)&&I(mu,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{placeholder:()=>c,icon:()=>{var u,f;return(f=(u=this.$slots)["clear-icon"])===null||f===void 0?void 0:f.call(u)}})),this.internalLoadingBeforeSuffix?null:s,this.loading!==void 0?I(ck,{clsPrefix:r,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?s:null,this.showCount&&this.type!=="textarea"?I(hh,null,{default:c=>{var u;return(u=l.count)===null||u===void 0?void 0:u.call(l,c)}}):null,this.mergedShowPasswordOn&&this.type==="password"?I("div",{class:`${r}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},this.passwordVisible?wr(l["password-visible-icon"],()=>[I(lt,{clsPrefix:r},{default:()=>I(kv,null)})]):wr(l["password-invisible-icon"],()=>[I(lt,{clsPrefix:r},{default:()=>I(GL,null)})])):null]):null)),this.pair?I("span",{class:`${r}-input__separator`},wr(l.separator,()=>[this.separator])):null,this.pair?I("div",{class:`${r}-input-wrapper`},I("div",{class:`${r}-input__input`},I("input",{ref:"inputEl2Ref",type:this.type,class:`${r}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:a?void 0:this.maxlength,minlength:a?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:s=>{this.handleInputFocus(s,1)},onInput:s=>{this.handleInput(s,1)},onChange:s=>{this.handleChange(s,1)}}),this.showPlaceholder2?I("div",{class:`${r}-input__placeholder`},I("span",null,this.mergedPlaceholder[1])):null),Et(l.suffix,s=>(this.clearable||s)&&I("div",{class:`${r}-input__suffix`},[this.clearable&&I(mu,{clsPrefix:r,show:this.showClearButton,onClear:this.handleClear},{icon:()=>{var c;return(c=l["clear-icon"])===null||c===void 0?void 0:c.call(l)},placeholder:()=>{var c;return(c=l["clear-icon-placeholder"])===null||c===void 0?void 0:c.call(l)}}),s]))):null,this.mergedBordered?I("div",{class:`${r}-input__border`}):null,this.mergedBordered?I("div",{class:`${r}-input__state-border`}):null,this.showCount&&i==="textarea"?I(hh,null,{default:s=>{var c;const{renderCount:u}=this;return u?u(s):(c=l.count)===null||c===void 0?void 0:c.call(l,s)}}):null)}}),Uk=V("input-group",`
 display: inline-flex;
 width: 100%;
 flex-wrap: nowrap;
 vertical-align: bottom;
`,[X(">",[V("input",[X("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),X("&:not(:first-child)",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 margin-left: -1px!important;
 `)]),V("button",[X("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `,[oe("state-border, border",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `)]),X("&:not(:first-child)",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `,[oe("state-border, border",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `)])]),X("*",[X("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `,[X(">",[V("input",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),V("base-selection",[V("base-selection-label",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),V("base-selection-tags",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),oe("box-shadow, border, state-border",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `)])])]),X("&:not(:first-child)",`
 margin-left: -1px!important;
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `,[X(">",[V("input",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),V("base-selection",[V("base-selection-label",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),V("base-selection-tags",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),oe("box-shadow, border, state-border",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `)])])])])])]),zk={},em=ye({name:"InputGroup",props:zk,setup(e){const{mergedClsPrefixRef:t}=ft(e);return bn("-input-group",Uk,t),{mergedClsPrefix:t}},render(){const{mergedClsPrefix:e}=this;return I("div",{class:`${e}-input-group`},this.$slots)}});function jk(e){const{boxShadow2:t}=e;return{menuBoxShadow:t}}const Hk={name:"AutoComplete",common:Te,peers:{InternalSelectMenu:ts,Input:br},self:jk},Wk=Hk,Os=mn&&"loading"in document.createElement("img"),Gk=(e={})=>{var t;const{root:r=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(t=e.threshold)!==null&&t!==void 0?t:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof r=="string"?document.querySelector(r):r)||document.documentElement})}},El=new WeakMap,wl=new WeakMap,Tl=new WeakMap,tm=(e,t,r)=>{if(!e)return()=>{};const n=Gk(t),{root:o}=n.options;let i;const a=El.get(o);a?i=a:(i=new Map,El.set(o,i));let d,l;i.has(n.hash)?(l=i.get(n.hash),l[1].has(e)||(d=l[0],l[1].add(e),d.observe(e))):(d=new IntersectionObserver(u=>{u.forEach(f=>{if(f.isIntersecting){const _=wl.get(f.target),v=Tl.get(f.target);_&&_(),v&&(v.value=!0)}})},n.options),d.observe(e),l=[d,new Set([e])],i.set(n.hash,l));let s=!1;const c=()=>{s||(wl.delete(e),Tl.delete(e),s=!0,l[1].has(e)&&(l[0].unobserve(e),l[1].delete(e)),l[1].size<=0&&i.delete(n.hash),i.size||El.delete(o))};return wl.set(e,c),Tl.set(e,r),c},rm=e=>{const{borderRadius:t,avatarColor:r,cardColor:n,fontSize:o,heightTiny:i,heightSmall:a,heightMedium:d,heightLarge:l,heightHuge:s,modalColor:c,popoverColor:u}=e;return{borderRadius:t,fontSize:o,border:`2px solid ${n}`,heightTiny:i,heightSmall:a,heightMedium:d,heightLarge:l,heightHuge:s,color:Ie(n,r),colorModal:Ie(c,r),colorPopover:Ie(u,r)}},Vk={name:"Avatar",common:xt,self:rm},Kk=Vk,Yk={name:"Avatar",common:Te,self:rm},nm=Yk,Xk="n-avatar-group",qk=V("avatar",`
 width: var(--n-merged-size);
 height: var(--n-merged-size);
 color: #FFF;
 font-size: var(--n-font-size);
 display: inline-flex;
 position: relative;
 overflow: hidden;
 text-align: center;
 border: var(--n-border);
 border-radius: var(--n-border-radius);
 --n-merged-color: var(--n-color);
 background-color: var(--n-merged-color);
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[nc(X("&","--n-merged-color: var(--n-color-modal);")),mg(X("&","--n-merged-color: var(--n-color-popover);")),X("img",`
 width: 100%;
 height: 100%;
 `),oe("text",`
 white-space: nowrap;
 display: inline-block;
 position: absolute;
 left: 50%;
 top: 50%;
 `),V("icon",`
 vertical-align: bottom;
 font-size: calc(var(--n-merged-size) - 6px);
 `),oe("text","line-height: 1.25")]),Zk=Object.assign(Object.assign({},Ge.props),{size:[String,Number],src:String,circle:{type:Boolean,default:void 0},objectFit:String,round:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},onError:Function,fallbackSrc:String,intersectionObserverOptions:Object,lazy:Boolean,onLoad:Function,renderPlaceholder:Function,renderFallback:Function,imgProps:Object,color:String}),om=ye({name:"Avatar",props:Zk,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:r}=ft(e),n=Q(!1);let o=null;const i=Q(null),a=Q(null),d=()=>{const{value:x}=i;if(x&&(o===null||o!==x.innerHTML)){o=x.innerHTML;const{value:y}=a;if(y){const{offsetWidth:p,offsetHeight:C}=y,{offsetWidth:S,offsetHeight:w}=x,A=.9,E=Math.min(p/S*A,C/w*A,1);x.style.transform=`translateX(-50%) translateY(-50%) scale(${E})`}}},l=$e(Xk,null),s=ne(()=>{const{size:x}=e;if(x)return x;const{size:y}=l||{};return y||"medium"}),c=Ge("Avatar","-avatar",qk,Kk,e,t),u=$e(lk,null),f=ne(()=>{if(l)return!0;const{round:x,circle:y}=e;return x!==void 0||y!==void 0?x||y:u?u.roundRef.value:!1}),_=ne(()=>l?!0:e.bordered||!1),v=x=>{var y;if(!m.value)return;n.value=!0;const{onError:p,imgProps:C}=e;(y=C==null?void 0:C.onError)===null||y===void 0||y.call(C,x),p&&p(x)};tt(()=>e.src,()=>n.value=!1);const b=ne(()=>{const x=s.value,y=f.value,p=_.value,{color:C}=e,{self:{borderRadius:S,fontSize:w,color:A,border:E,colorModal:R,colorPopover:T},common:{cubicBezierEaseInOut:L}}=c.value;let P;return typeof x=="number"?P=`${x}px`:P=c.value.self[Ce("height",x)],{"--n-font-size":w,"--n-border":p?E:"none","--n-border-radius":y?"50%":S,"--n-color":C||A,"--n-color-modal":C||R,"--n-color-popover":C||T,"--n-bezier":L,"--n-merged-size":`var(--n-avatar-size-override, ${P})`}}),g=r?Pt("avatar",ne(()=>{const x=s.value,y=f.value,p=_.value,{color:C}=e;let S="";return x&&(typeof x=="number"?S+=`a${x}`:S+=x[0]),y&&(S+="b"),p&&(S+="c"),C&&(S+=Zs(C)),S}),b,e):void 0,m=Q(!e.lazy);Rt(()=>{if(Os)return;let x;const y=Qt(()=>{x==null||x(),x=void 0,e.lazy&&(x=tm(a.value,e.intersectionObserverOptions,m))});_t(()=>{y(),x==null||x()})});const h=Q(!e.lazy);return{textRef:i,selfRef:a,mergedRoundRef:f,mergedClsPrefix:t,fitTextTransform:d,cssVars:r?void 0:b,themeClass:g==null?void 0:g.themeClass,onRender:g==null?void 0:g.onRender,hasLoadError:n,handleError:v,shouldStartLoading:m,loaded:h,mergedOnLoad:x=>{var y;const{onLoad:p,imgProps:C}=e;p==null||p(x),(y=C==null?void 0:C.onLoad)===null||y===void 0||y.call(C,x),h.value=!0}}},render(){var e,t;const{$slots:r,src:n,mergedClsPrefix:o,lazy:i,onRender:a,mergedOnLoad:d,shouldStartLoading:l,loaded:s,hasLoadError:c}=this;a==null||a();let u;const f=!s&&!c&&(this.renderPlaceholder?this.renderPlaceholder():(t=(e=this.$slots).placeholder)===null||t===void 0?void 0:t.call(e));return this.hasLoadError?u=this.renderFallback?this.renderFallback():wr(r.fallback,()=>[I("img",{src:this.fallbackSrc,style:{objectFit:this.objectFit}})]):u=Et(r.default,_=>{if(_)return I(Gn,{onResize:this.fitTextTransform},{default:()=>I("span",{ref:"textRef",class:`${o}-avatar__text`},_)});if(n){const{imgProps:v}=this;return I("img",Object.assign(Object.assign({},v),{loading:Os&&!this.intersectionObserverOptions&&i?"lazy":"eager",src:Os||l||s?n:void 0,onLoad:d,"data-image-src":n,onError:this.handleError,style:[v==null?void 0:v.style,{objectFit:this.objectFit},f?{height:"0",width:"0",visibility:"hidden",position:"absolute"}:""]}))}}),I("span",{ref:"selfRef",class:[`${o}-avatar`,this.themeClass],style:this.cssVars},u,i&&f)}}),Jk=()=>({gap:"-12px"}),Qk={name:"AvatarGroup",common:Te,peers:{Avatar:nm},self:Jk},eO=Qk,tO={width:"44px",height:"44px",borderRadius:"22px",iconSize:"26px"},rO={name:"BackTop",common:Te,self(e){const{popoverColor:t,textColor2:r,primaryColorHover:n,primaryColorPressed:o}=e;return Object.assign(Object.assign({},tO),{color:t,textColor:r,iconColor:r,iconColorHover:n,iconColorPressed:o,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)"})}},nO=rO,oO={name:"Badge",common:Te,self(e){const{errorColorSuppl:t,infoColorSuppl:r,successColorSuppl:n,warningColorSuppl:o,fontFamily:i}=e;return{color:t,colorInfo:r,colorSuccess:n,colorError:t,colorWarning:o,fontSize:"12px",fontFamily:i}}},iO=oO,sO=e=>{const{errorColor:t,infoColor:r,successColor:n,warningColor:o,fontFamily:i}=e;return{color:t,colorInfo:r,colorSuccess:n,colorError:t,colorWarning:o,fontSize:"12px",fontFamily:i}},aO={name:"Badge",common:xt,self:sO},lO=aO,uO=X([X("@keyframes badge-wave-spread",{from:{boxShadow:"0 0 0.5px 0px var(--n-ripple-color)",opacity:.6},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)",opacity:0}}),V("badge",`
 display: inline-flex;
 position: relative;
 vertical-align: middle;
 color: var(--n-color);
 font-family: var(--n-font-family);
 `,[le("as-is",[V("badge-sup",{position:"static",transform:"translateX(0)"},[ji({transformOrigin:"left bottom",originalTransform:"translateX(0)"})])]),le("dot",[V("badge-sup",`
 height: 8px;
 width: 8px;
 padding: 0;
 min-width: 8px;
 left: 100%;
 bottom: calc(100% - 4px);
 `,[X("::before","border-radius: 4px;")])]),V("badge-sup",`
 background: var(--n-color);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: #FFF;
 position: absolute;
 height: 18px;
 line-height: 18px;
 border-radius: 9px;
 padding: 0 6px;
 text-align: center;
 font-size: var(--n-font-size);
 transform: translateX(-50%);
 left: 100%;
 bottom: calc(100% - 9px);
 font-variant-numeric: tabular-nums;
 z-index: 1;
 display: flex;
 align-items: center;
 `,[ji({transformOrigin:"left bottom",originalTransform:"translateX(-50%)"}),V("base-wave",{zIndex:1,animationDuration:"2s",animationIterationCount:"infinite",animationDelay:"1s",animationTimingFunction:"var(--n-ripple-bezier)",animationName:"badge-wave-spread"}),X("&::before",`
 opacity: 0;
 transform: scale(1);
 border-radius: 9px;
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)])])]),cO=Object.assign(Object.assign({},Ge.props),{value:[String,Number],max:Number,dot:Boolean,type:{type:String,default:"default"},show:{type:Boolean,default:!0},showZero:Boolean,processing:Boolean,color:String,offset:Array}),im=ye({name:"Badge",props:cO,setup(e,{slots:t}){const{mergedClsPrefixRef:r,inlineThemeDisabled:n,mergedRtlRef:o}=ft(e),i=Ge("Badge","-badge",uO,lO,e,r),a=Q(!1),d=()=>{a.value=!0},l=()=>{a.value=!1},s=ne(()=>e.show&&(e.dot||e.value!==void 0&&!(!e.showZero&&Number(e.value)<=0)||!qs(t.value)));Rt(()=>{s.value&&(a.value=!0)});const c=eo("Badge",o,r),u=ne(()=>{const{type:v,color:b}=e,{common:{cubicBezierEaseInOut:g,cubicBezierEaseOut:m},self:{[Ce("color",v)]:h,fontFamily:x,fontSize:y}}=i.value;return{"--n-font-size":y,"--n-font-family":x,"--n-color":b||h,"--n-ripple-color":b||h,"--n-bezier":g,"--n-ripple-bezier":m}}),f=n?Pt("badge",ne(()=>{let v="";const{type:b,color:g}=e;return b&&(v+=b[0]),g&&(v+=Zs(g)),v}),u,e):void 0,_=ne(()=>{const{offset:v}=e;if(!v)return;const[b,g]=v,m=typeof b=="number"?`${b}px`:b,h=typeof g=="number"?`${g}px`:g;return{transform:`translate(calc(${c!=null&&c.value?"50%":"-50%"} + ${m}), ${h})`}});return{rtlEnabled:c,mergedClsPrefix:r,appeared:a,showBadge:s,handleAfterEnter:d,handleAfterLeave:l,cssVars:n?void 0:u,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender,offsetStyle:_}},render(){var e;const{mergedClsPrefix:t,onRender:r,themeClass:n,$slots:o}=this;r==null||r();const i=(e=o.default)===null||e===void 0?void 0:e.call(o);return I("div",{class:[`${t}-badge`,this.rtlEnabled&&`${t}-badge--rtl`,n,{[`${t}-badge--dot`]:this.dot,[`${t}-badge--as-is`]:!i}],style:this.cssVars},i,I(Ut,{name:"fade-in-scale-up-transition",onAfterEnter:this.handleAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>this.showBadge?I("sup",{class:`${t}-badge-sup`,title:oC(this.value),style:this.offsetStyle},wr(o.value,()=>[this.dot?null:I(gk,{clsPrefix:t,appeared:this.appeared,max:this.max,value:this.value})]),this.processing?I(jv,{clsPrefix:t}):null):null}))}}),dO={fontWeightActive:"400"},fO=e=>{const{fontSize:t,textColor3:r,textColor2:n,borderRadius:o,buttonColor2Hover:i,buttonColor2Pressed:a}=e;return Object.assign(Object.assign({},dO),{fontSize:t,itemLineHeight:"1.25",itemTextColor:r,itemTextColorHover:n,itemTextColorPressed:n,itemTextColorActive:n,itemBorderRadius:o,itemColorHover:i,itemColorPressed:a,separatorColor:r})},hO={name:"Breadcrumb",common:Te,self:fO},pO=hO;function wn(e){return Ie(e,[255,255,255,.16])}function Es(e){return Ie(e,[0,0,0,.12])}const gO="n-button-group",vO={paddingTiny:"0 6px",paddingSmall:"0 10px",paddingMedium:"0 14px",paddingLarge:"0 18px",paddingRoundTiny:"0 10px",paddingRoundSmall:"0 14px",paddingRoundMedium:"0 18px",paddingRoundLarge:"0 22px",iconMarginTiny:"6px",iconMarginSmall:"6px",iconMarginMedium:"6px",iconMarginLarge:"6px",iconSizeTiny:"14px",iconSizeSmall:"18px",iconSizeMedium:"18px",iconSizeLarge:"20px",rippleDuration:".6s"},sm=e=>{const{heightTiny:t,heightSmall:r,heightMedium:n,heightLarge:o,borderRadius:i,fontSizeTiny:a,fontSizeSmall:d,fontSizeMedium:l,fontSizeLarge:s,opacityDisabled:c,textColor2:u,textColor3:f,primaryColorHover:_,primaryColorPressed:v,borderColor:b,primaryColor:g,baseColor:m,infoColor:h,infoColorHover:x,infoColorPressed:y,successColor:p,successColorHover:C,successColorPressed:S,warningColor:w,warningColorHover:A,warningColorPressed:E,errorColor:R,errorColorHover:T,errorColorPressed:L,fontWeight:P,buttonColor2:k,buttonColor2Hover:D,buttonColor2Pressed:O,fontWeightStrong:M}=e;return Object.assign(Object.assign({},vO),{heightTiny:t,heightSmall:r,heightMedium:n,heightLarge:o,borderRadiusTiny:i,borderRadiusSmall:i,borderRadiusMedium:i,borderRadiusLarge:i,fontSizeTiny:a,fontSizeSmall:d,fontSizeMedium:l,fontSizeLarge:s,opacityDisabled:c,colorOpacitySecondary:"0.16",colorOpacitySecondaryHover:"0.22",colorOpacitySecondaryPressed:"0.28",colorSecondary:k,colorSecondaryHover:D,colorSecondaryPressed:O,colorTertiary:k,colorTertiaryHover:D,colorTertiaryPressed:O,colorQuaternary:"#0000",colorQuaternaryHover:D,colorQuaternaryPressed:O,color:"#0000",colorHover:"#0000",colorPressed:"#0000",colorFocus:"#0000",colorDisabled:"#0000",textColor:u,textColorTertiary:f,textColorHover:_,textColorPressed:v,textColorFocus:_,textColorDisabled:u,textColorText:u,textColorTextHover:_,textColorTextPressed:v,textColorTextFocus:_,textColorTextDisabled:u,textColorGhost:u,textColorGhostHover:_,textColorGhostPressed:v,textColorGhostFocus:_,textColorGhostDisabled:u,border:`1px solid ${b}`,borderHover:`1px solid ${_}`,borderPressed:`1px solid ${v}`,borderFocus:`1px solid ${_}`,borderDisabled:`1px solid ${b}`,rippleColor:g,colorPrimary:g,colorHoverPrimary:_,colorPressedPrimary:v,colorFocusPrimary:_,colorDisabledPrimary:g,textColorPrimary:m,textColorHoverPrimary:m,textColorPressedPrimary:m,textColorFocusPrimary:m,textColorDisabledPrimary:m,textColorTextPrimary:g,textColorTextHoverPrimary:_,textColorTextPressedPrimary:v,textColorTextFocusPrimary:_,textColorTextDisabledPrimary:u,textColorGhostPrimary:g,textColorGhostHoverPrimary:_,textColorGhostPressedPrimary:v,textColorGhostFocusPrimary:_,textColorGhostDisabledPrimary:g,borderPrimary:`1px solid ${g}`,borderHoverPrimary:`1px solid ${_}`,borderPressedPrimary:`1px solid ${v}`,borderFocusPrimary:`1px solid ${_}`,borderDisabledPrimary:`1px solid ${g}`,rippleColorPrimary:g,colorInfo:h,colorHoverInfo:x,colorPressedInfo:y,colorFocusInfo:x,colorDisabledInfo:h,textColorInfo:m,textColorHoverInfo:m,textColorPressedInfo:m,textColorFocusInfo:m,textColorDisabledInfo:m,textColorTextInfo:h,textColorTextHoverInfo:x,textColorTextPressedInfo:y,textColorTextFocusInfo:x,textColorTextDisabledInfo:u,textColorGhostInfo:h,textColorGhostHoverInfo:x,textColorGhostPressedInfo:y,textColorGhostFocusInfo:x,textColorGhostDisabledInfo:h,borderInfo:`1px solid ${h}`,borderHoverInfo:`1px solid ${x}`,borderPressedInfo:`1px solid ${y}`,borderFocusInfo:`1px solid ${x}`,borderDisabledInfo:`1px solid ${h}`,rippleColorInfo:h,colorSuccess:p,colorHoverSuccess:C,colorPressedSuccess:S,colorFocusSuccess:C,colorDisabledSuccess:p,textColorSuccess:m,textColorHoverSuccess:m,textColorPressedSuccess:m,textColorFocusSuccess:m,textColorDisabledSuccess:m,textColorTextSuccess:p,textColorTextHoverSuccess:C,textColorTextPressedSuccess:S,textColorTextFocusSuccess:C,textColorTextDisabledSuccess:u,textColorGhostSuccess:p,textColorGhostHoverSuccess:C,textColorGhostPressedSuccess:S,textColorGhostFocusSuccess:C,textColorGhostDisabledSuccess:p,borderSuccess:`1px solid ${p}`,borderHoverSuccess:`1px solid ${C}`,borderPressedSuccess:`1px solid ${S}`,borderFocusSuccess:`1px solid ${C}`,borderDisabledSuccess:`1px solid ${p}`,rippleColorSuccess:p,colorWarning:w,colorHoverWarning:A,colorPressedWarning:E,colorFocusWarning:A,colorDisabledWarning:w,textColorWarning:m,textColorHoverWarning:m,textColorPressedWarning:m,textColorFocusWarning:m,textColorDisabledWarning:m,textColorTextWarning:w,textColorTextHoverWarning:A,textColorTextPressedWarning:E,textColorTextFocusWarning:A,textColorTextDisabledWarning:u,textColorGhostWarning:w,textColorGhostHoverWarning:A,textColorGhostPressedWarning:E,textColorGhostFocusWarning:A,textColorGhostDisabledWarning:w,borderWarning:`1px solid ${w}`,borderHoverWarning:`1px solid ${A}`,borderPressedWarning:`1px solid ${E}`,borderFocusWarning:`1px solid ${A}`,borderDisabledWarning:`1px solid ${w}`,rippleColorWarning:w,colorError:R,colorHoverError:T,colorPressedError:L,colorFocusError:T,colorDisabledError:R,textColorError:m,textColorHoverError:m,textColorPressedError:m,textColorFocusError:m,textColorDisabledError:m,textColorTextError:R,textColorTextHoverError:T,textColorTextPressedError:L,textColorTextFocusError:T,textColorTextDisabledError:u,textColorGhostError:R,textColorGhostHoverError:T,textColorGhostPressedError:L,textColorGhostFocusError:T,textColorGhostDisabledError:R,borderError:`1px solid ${R}`,borderHoverError:`1px solid ${T}`,borderPressedError:`1px solid ${L}`,borderFocusError:`1px solid ${T}`,borderDisabledError:`1px solid ${R}`,rippleColorError:R,waveOpacity:"0.6",fontWeight:P,fontWeightStrong:M})},Sc={name:"Button",common:xt,self:sm},mO={name:"Button",common:Te,self(e){const t=sm(e);return t.waveOpacity="0.8",t.colorOpacitySecondary="0.16",t.colorOpacitySecondaryHover="0.2",t.colorOpacitySecondaryPressed="0.12",t}},tr=mO,bO=X([V("button",`
 margin: 0;
 font-weight: var(--n-font-weight);
 line-height: 1;
 font-family: inherit;
 padding: var(--n-padding);
 height: var(--n-height);
 font-size: var(--n-font-size);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 width: var(--n-width);
 white-space: nowrap;
 outline: none;
 position: relative;
 z-index: auto;
 border: none;
 display: inline-flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 align-items: center;
 justify-content: center;
 user-select: none;
 -webkit-user-select: none;
 text-align: center;
 cursor: pointer;
 text-decoration: none;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[le("color",[oe("border",{borderColor:"var(--n-border-color)"}),le("disabled",[oe("border",{borderColor:"var(--n-border-color-disabled)"})]),Gt("disabled",[X("&:focus",[oe("state-border",{borderColor:"var(--n-border-color-focus)"})]),X("&:hover",[oe("state-border",{borderColor:"var(--n-border-color-hover)"})]),X("&:active",[oe("state-border",{borderColor:"var(--n-border-color-pressed)"})]),le("pressed",[oe("state-border",{borderColor:"var(--n-border-color-pressed)"})])])]),le("disabled",{backgroundColor:"var(--n-color-disabled)",color:"var(--n-text-color-disabled)"},[oe("border",{border:"var(--n-border-disabled)"})]),Gt("disabled",[X("&:focus",{backgroundColor:"var(--n-color-focus)",color:"var(--n-text-color-focus)"},[oe("state-border",{border:"var(--n-border-focus)"})]),X("&:hover",{backgroundColor:"var(--n-color-hover)",color:"var(--n-text-color-hover)"},[oe("state-border",{border:"var(--n-border-hover)"})]),X("&:active",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[oe("state-border",{border:"var(--n-border-pressed)"})]),le("pressed",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[oe("state-border",{border:"var(--n-border-pressed)"})])]),le("loading","cursor: wait;"),V("base-wave",`
 pointer-events: none;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 animation-iteration-count: 1;
 animation-duration: var(--n-ripple-duration);
 animation-timing-function: var(--n-bezier-ease-out), var(--n-bezier-ease-out);
 `,[le("active",{zIndex:1,animationName:"button-wave-spread, button-wave-opacity"})]),mn&&"MozBoxSizing"in document.createElement("div").style?X("&::moz-focus-inner",{border:0}):null,oe("border, state-border",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 border-radius: inherit;
 transition: border-color .3s var(--n-bezier);
 pointer-events: none;
 `),oe("border",{border:"var(--n-border)"}),oe("state-border",{border:"var(--n-border)",borderColor:"#0000",zIndex:1}),oe("icon",`
 margin: var(--n-icon-margin);
 margin-left: 0;
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 max-width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 position: relative;
 flex-shrink: 0;
 `,[V("icon-slot",`
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `,[Po({top:"50%",originalTransform:"translateY(-50%)"})]),Yv()]),oe("content",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 min-width: 0;
 `,[X("~",[oe("icon",{margin:"var(--n-icon-margin)",marginRight:0})])]),le("block",`
 display: flex;
 width: 100%;
 `),le("dashed",[oe("border, state-border",{borderStyle:"dashed !important"})]),le("disabled",{cursor:"not-allowed",opacity:"var(--n-opacity-disabled)"})]),X("@keyframes button-wave-spread",{from:{boxShadow:"0 0 0.5px 0 var(--n-ripple-color)"},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)"}}),X("@keyframes button-wave-opacity",{from:{opacity:"var(--n-wave-opacity)"},to:{opacity:0}})]),yO=Object.assign(Object.assign({},Ge.props),{color:String,textColor:String,text:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,circle:Boolean,size:String,ghost:Boolean,round:Boolean,secondary:Boolean,tertiary:Boolean,quaternary:Boolean,strong:Boolean,focusable:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},tag:{type:String,default:"button"},type:{type:String,default:"default"},dashed:Boolean,renderIcon:Function,iconPlacement:{type:String,default:"left"},attrType:{type:String,default:"button"},bordered:{type:Boolean,default:!0},onClick:[Function,Array],nativeFocusBehavior:{type:Boolean,default:!qv}}),xO=ye({name:"Button",props:yO,setup(e){const t=Q(null),r=Q(null),n=Q(!1),o=Dt(()=>!e.quaternary&&!e.tertiary&&!e.secondary&&!e.text&&(!e.color||e.ghost||e.dashed)&&e.bordered),i=$e(gO,{}),{mergedSizeRef:a}=ac({},{defaultSize:"medium",mergedSize:y=>{const{size:p}=e;if(p)return p;const{size:C}=i;if(C)return C;const{mergedSize:S}=y||{};return S?S.value:"medium"}}),d=ne(()=>e.focusable&&!e.disabled),l=y=>{var p;d.value||y.preventDefault(),!e.nativeFocusBehavior&&(y.preventDefault(),!e.disabled&&d.value&&((p=t.value)===null||p===void 0||p.focus({preventScroll:!0})))},s=y=>{var p;if(!e.disabled&&!e.loading){const{onClick:C}=e;C&&et(C,y),e.text||(p=r.value)===null||p===void 0||p.play()}},c=y=>{switch(y.key){case"Enter":if(!e.keyboard)return;n.value=!1}},u=y=>{switch(y.key){case"Enter":if(!e.keyboard||e.loading){y.preventDefault();return}n.value=!0}},f=()=>{n.value=!1},{inlineThemeDisabled:_,mergedClsPrefixRef:v,mergedRtlRef:b}=ft(e),g=Ge("Button","-button",bO,Sc,e,v),m=eo("Button",b,v),h=ne(()=>{const y=g.value,{common:{cubicBezierEaseInOut:p,cubicBezierEaseOut:C},self:S}=y,{rippleDuration:w,opacityDisabled:A,fontWeight:E,fontWeightStrong:R}=S,T=a.value,{dashed:L,type:P,ghost:k,text:D,color:O,round:M,circle:F,textColor:N,secondary:U,tertiary:G,quaternary:H,strong:Z}=e,de={"font-weight":Z?R:E};let ee={"--n-color":"initial","--n-color-hover":"initial","--n-color-pressed":"initial","--n-color-focus":"initial","--n-color-disabled":"initial","--n-ripple-color":"initial","--n-text-color":"initial","--n-text-color-hover":"initial","--n-text-color-pressed":"initial","--n-text-color-focus":"initial","--n-text-color-disabled":"initial"};const W=P==="tertiary",ae=P==="default",q=W?"default":P;if(D){const ue=N||O;ee={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":"#0000","--n-text-color":ue||S[Ce("textColorText",q)],"--n-text-color-hover":ue?wn(ue):S[Ce("textColorTextHover",q)],"--n-text-color-pressed":ue?Es(ue):S[Ce("textColorTextPressed",q)],"--n-text-color-focus":ue?wn(ue):S[Ce("textColorTextHover",q)],"--n-text-color-disabled":ue||S[Ce("textColorTextDisabled",q)]}}else if(k||L){const ue=N||O;ee={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":O||S[Ce("rippleColor",q)],"--n-text-color":ue||S[Ce("textColorGhost",q)],"--n-text-color-hover":ue?wn(ue):S[Ce("textColorGhostHover",q)],"--n-text-color-pressed":ue?Es(ue):S[Ce("textColorGhostPressed",q)],"--n-text-color-focus":ue?wn(ue):S[Ce("textColorGhostHover",q)],"--n-text-color-disabled":ue||S[Ce("textColorGhostDisabled",q)]}}else if(U){const ue=ae?S.textColor:W?S.textColorTertiary:S[Ce("color",q)],ie=O||ue,_e=P!=="default"&&P!=="tertiary";ee={"--n-color":_e?Ae(ie,{alpha:Number(S.colorOpacitySecondary)}):S.colorSecondary,"--n-color-hover":_e?Ae(ie,{alpha:Number(S.colorOpacitySecondaryHover)}):S.colorSecondaryHover,"--n-color-pressed":_e?Ae(ie,{alpha:Number(S.colorOpacitySecondaryPressed)}):S.colorSecondaryPressed,"--n-color-focus":_e?Ae(ie,{alpha:Number(S.colorOpacitySecondaryHover)}):S.colorSecondaryHover,"--n-color-disabled":S.colorSecondary,"--n-ripple-color":"#0000","--n-text-color":ie,"--n-text-color-hover":ie,"--n-text-color-pressed":ie,"--n-text-color-focus":ie,"--n-text-color-disabled":ie}}else if(G||H){const ue=ae?S.textColor:W?S.textColorTertiary:S[Ce("color",q)],ie=O||ue;G?(ee["--n-color"]=S.colorTertiary,ee["--n-color-hover"]=S.colorTertiaryHover,ee["--n-color-pressed"]=S.colorTertiaryPressed,ee["--n-color-focus"]=S.colorSecondaryHover,ee["--n-color-disabled"]=S.colorTertiary):(ee["--n-color"]=S.colorQuaternary,ee["--n-color-hover"]=S.colorQuaternaryHover,ee["--n-color-pressed"]=S.colorQuaternaryPressed,ee["--n-color-focus"]=S.colorQuaternaryHover,ee["--n-color-disabled"]=S.colorQuaternary),ee["--n-ripple-color"]="#0000",ee["--n-text-color"]=ie,ee["--n-text-color-hover"]=ie,ee["--n-text-color-pressed"]=ie,ee["--n-text-color-focus"]=ie,ee["--n-text-color-disabled"]=ie}else ee={"--n-color":O||S[Ce("color",q)],"--n-color-hover":O?wn(O):S[Ce("colorHover",q)],"--n-color-pressed":O?Es(O):S[Ce("colorPressed",q)],"--n-color-focus":O?wn(O):S[Ce("colorFocus",q)],"--n-color-disabled":O||S[Ce("colorDisabled",q)],"--n-ripple-color":O||S[Ce("rippleColor",q)],"--n-text-color":N||(O?S.textColorPrimary:W?S.textColorTertiary:S[Ce("textColor",q)]),"--n-text-color-hover":N||(O?S.textColorHoverPrimary:S[Ce("textColorHover",q)]),"--n-text-color-pressed":N||(O?S.textColorPressedPrimary:S[Ce("textColorPressed",q)]),"--n-text-color-focus":N||(O?S.textColorFocusPrimary:S[Ce("textColorFocus",q)]),"--n-text-color-disabled":N||(O?S.textColorDisabledPrimary:S[Ce("textColorDisabled",q)])};let pe={"--n-border":"initial","--n-border-hover":"initial","--n-border-pressed":"initial","--n-border-focus":"initial","--n-border-disabled":"initial"};D?pe={"--n-border":"none","--n-border-hover":"none","--n-border-pressed":"none","--n-border-focus":"none","--n-border-disabled":"none"}:pe={"--n-border":S[Ce("border",q)],"--n-border-hover":S[Ce("borderHover",q)],"--n-border-pressed":S[Ce("borderPressed",q)],"--n-border-focus":S[Ce("borderFocus",q)],"--n-border-disabled":S[Ce("borderDisabled",q)]};const{[Ce("height",T)]:we,[Ce("fontSize",T)]:B,[Ce("padding",T)]:$,[Ce("paddingRound",T)]:z,[Ce("iconSize",T)]:Y,[Ce("borderRadius",T)]:j,[Ce("iconMargin",T)]:K,waveOpacity:te}=S,re={"--n-width":F&&!D?we:"initial","--n-height":D?"initial":we,"--n-font-size":B,"--n-padding":F||D?"initial":M?z:$,"--n-icon-size":Y,"--n-icon-margin":K,"--n-border-radius":D?"initial":F||M?we:j};return Object.assign(Object.assign(Object.assign(Object.assign({"--n-bezier":p,"--n-bezier-ease-out":C,"--n-ripple-duration":w,"--n-opacity-disabled":A,"--n-wave-opacity":te},de),ee),pe),re)}),x=_?Pt("button",ne(()=>{let y="";const{dashed:p,type:C,ghost:S,text:w,color:A,round:E,circle:R,textColor:T,secondary:L,tertiary:P,quaternary:k,strong:D}=e;p&&(y+="a"),S&&(y+="b"),w&&(y+="c"),E&&(y+="d"),R&&(y+="e"),L&&(y+="f"),P&&(y+="g"),k&&(y+="h"),D&&(y+="i"),A&&(y+="j"+Zs(A)),T&&(y+="k"+Zs(T));const{value:O}=a;return y+="l"+O[0],y+="m"+C[0],y}),h,e):void 0;return{selfElRef:t,waveElRef:r,mergedClsPrefix:v,mergedFocusable:d,mergedSize:a,showBorder:o,enterPressed:n,rtlEnabled:m,handleMousedown:l,handleKeydown:u,handleBlur:f,handleKeyup:c,handleClick:s,customColorCssVars:ne(()=>{const{color:y}=e;if(!y)return null;const p=wn(y);return{"--n-border-color":y,"--n-border-color-hover":p,"--n-border-color-pressed":Es(y),"--n-border-color-focus":p,"--n-border-color-disabled":y}}),cssVars:_?void 0:h,themeClass:x==null?void 0:x.themeClass,onRender:x==null?void 0:x.onRender}},render(){const{mergedClsPrefix:e,tag:t,onRender:r}=this;r==null||r();const n=Et(this.$slots.default,o=>o&&I("span",{class:`${e}-button__content`},o));return I(t,{ref:"selfElRef",class:[this.themeClass,`${e}-button`,`${e}-button--${this.type}-type`,`${e}-button--${this.mergedSize}-type`,this.rtlEnabled&&`${e}-button--rtl`,this.disabled&&`${e}-button--disabled`,this.block&&`${e}-button--block`,this.enterPressed&&`${e}-button--pressed`,!this.text&&this.dashed&&`${e}-button--dashed`,this.color&&`${e}-button--color`,this.secondary&&`${e}-button--secondary`,this.loading&&`${e}-button--loading`,this.ghost&&`${e}-button--ghost`],tabindex:this.mergedFocusable?0:-1,type:this.attrType,style:this.cssVars,disabled:this.disabled,onClick:this.handleClick,onBlur:this.handleBlur,onMousedown:this.handleMousedown,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},this.iconPlacement==="right"&&n,I(zo,{width:!0},{default:()=>Et(this.$slots.icon,o=>(this.loading||this.renderIcon||o)&&I("span",{class:`${e}-button__icon`,style:{margin:qs(this.$slots.default)?"0":""}},I(Qi,null,{default:()=>this.loading?I(yc,{clsPrefix:e,key:"loading",class:`${e}-icon-slot`,strokeWidth:20}):I("div",{key:"icon",class:`${e}-icon-slot`,role:"none"},this.renderIcon?this.renderIcon():o)})))}),this.iconPlacement==="left"&&n,this.text?null:I(jv,{ref:"waveElRef",clsPrefix:e}),this.showBorder?I("div",{"aria-hidden":!0,class:`${e}-button__border`,style:this.customColorCssVars}):null,this.showBorder?I("div",{"aria-hidden":!0,class:`${e}-button__state-border`,style:this.customColorCssVars}):null)}}),un=xO,_O={titleFontSize:"22px"},CO=e=>{const{borderRadius:t,fontSize:r,lineHeight:n,textColor2:o,textColor1:i,textColorDisabled:a,dividerColor:d,fontWeightStrong:l,primaryColor:s,baseColor:c,hoverColor:u,cardColor:f,modalColor:_,popoverColor:v}=e;return Object.assign(Object.assign({},_O),{borderRadius:t,borderColor:Ie(f,d),borderColorModal:Ie(_,d),borderColorPopover:Ie(v,d),textColor:o,titleFontWeight:l,titleTextColor:i,dayTextColor:a,fontSize:r,lineHeight:n,dateColorCurrent:s,dateTextColorCurrent:c,cellColorHover:Ie(f,u),cellColorHoverModal:Ie(_,u),cellColorHoverPopover:Ie(v,u),cellColor:f,cellColorModal:_,cellColorPopover:v,barColor:s})},SO={name:"Calendar",common:Te,peers:{Button:tr},self:CO},EO=SO,wO=e=>{const{fontSize:t,boxShadow2:r,popoverColor:n,textColor2:o,borderRadius:i,borderColor:a,heightSmall:d,heightMedium:l,heightLarge:s,fontSizeSmall:c,fontSizeMedium:u,fontSizeLarge:f,dividerColor:_}=e;return{panelFontSize:t,boxShadow:r,color:n,textColor:o,borderRadius:i,border:`1px solid ${a}`,heightSmall:d,heightMedium:l,heightLarge:s,fontSizeSmall:c,fontSizeMedium:u,fontSizeLarge:f,dividerColor:_}},TO={name:"ColorPicker",common:Te,peers:{Input:br,Button:tr},self:wO},RO=TO,AO={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeIconSize:"18px",closeSize:"22px"},am=e=>{const{primaryColor:t,borderRadius:r,lineHeight:n,fontSize:o,cardColor:i,textColor2:a,textColor1:d,dividerColor:l,fontWeightStrong:s,closeIconColor:c,closeIconColorHover:u,closeIconColorPressed:f,closeColorHover:_,closeColorPressed:v,modalColor:b,boxShadow1:g,popoverColor:m,actionColor:h}=e;return Object.assign(Object.assign({},AO),{lineHeight:n,color:i,colorModal:b,colorPopover:m,colorTarget:t,colorEmbedded:h,colorEmbeddedModal:h,colorEmbeddedPopover:h,textColor:a,titleTextColor:d,borderColor:l,actionColor:h,titleFontWeight:s,closeColorHover:_,closeColorPressed:v,closeBorderRadius:r,closeIconColor:c,closeIconColorHover:u,closeIconColorPressed:f,fontSizeSmall:o,fontSizeMedium:o,fontSizeLarge:o,fontSizeHuge:o,boxShadow:g,borderRadius:r})},LO={name:"Card",common:xt,self:am},lm=LO,PO={name:"Card",common:Te,self(e){const t=am(e),{cardColor:r,modalColor:n,popoverColor:o}=e;return t.colorEmbedded=r,t.colorEmbeddedModal=n,t.colorEmbeddedPopover=o,t}},um=PO,kO=X([V("card",`
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 display: flex;
 flex-direction: column;
 width: 100%;
 box-sizing: border-box;
 position: relative;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 color: var(--n-text-color);
 word-break: break-word;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[bg({background:"var(--n-color-modal)"}),le("hoverable",[X("&:hover","box-shadow: var(--n-box-shadow);")]),le("content-segmented",[X(">",[oe("content",{paddingTop:"var(--n-padding-bottom)"})])]),le("content-soft-segmented",[X(">",[oe("content",`
 margin: 0 var(--n-padding-left);
 padding: var(--n-padding-bottom) 0;
 `)])]),le("footer-segmented",[X(">",[oe("footer",{paddingTop:"var(--n-padding-bottom)"})])]),le("footer-soft-segmented",[X(">",[oe("footer",`
 padding: var(--n-padding-bottom) 0;
 margin: 0 var(--n-padding-left);
 `)])]),X(">",[V("card-header",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 padding:
 var(--n-padding-top)
 var(--n-padding-left)
 var(--n-padding-bottom)
 var(--n-padding-left);
 `,[oe("main",`
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 min-width: 0;
 color: var(--n-title-text-color);
 `),oe("extra",`
 display: flex;
 align-items: center;
 font-size: var(--n-font-size);
 font-weight: 400;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),oe("close",`
 margin: 0 0 0 8px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),oe("action",`
 box-sizing: border-box;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 background-clip: padding-box;
 background-color: var(--n-action-color);
 `),oe("content","flex: 1; min-width: 0;"),oe("content, footer",`
 box-sizing: border-box;
 padding: 0 var(--n-padding-left) var(--n-padding-bottom) var(--n-padding-left);
 font-size: var(--n-font-size);
 `,[X("&:first-child",{paddingTop:"var(--n-padding-bottom)"})]),oe("action",`
 background-color: var(--n-action-color);
 padding: var(--n-padding-bottom) var(--n-padding-left);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `)]),V("card-cover",`
 overflow: hidden;
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 `,[X("img",`
 display: block;
 width: 100%;
 `)]),le("bordered",`
 border: 1px solid var(--n-border-color);
 `,[X("&:target","border-color: var(--n-color-target);")]),le("action-segmented",[X(">",[oe("action",[X("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),le("content-segmented, content-soft-segmented",[X(">",[oe("content",{transition:"border-color 0.3s var(--n-bezier)"},[X("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),le("footer-segmented, footer-soft-segmented",[X(">",[oe("footer",{transition:"border-color 0.3s var(--n-bezier)"},[X("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),le("embedded",`
 background-color: var(--n-color-embedded);
 `)]),nc(V("card",`
 background: var(--n-color-modal);
 `,[le("embedded",`
 background-color: var(--n-color-embedded-modal);
 `)])),mg(V("card",`
 background: var(--n-color-popover);
 `,[le("embedded",`
 background-color: var(--n-color-embedded-popover);
 `)]))]),Ec={title:String,contentStyle:[Object,String],headerStyle:[Object,String],headerExtraStyle:[Object,String],footerStyle:[Object,String],embedded:Boolean,segmented:{type:[Boolean,Object],default:!1},size:{type:String,default:"medium"},bordered:{type:Boolean,default:!0},closable:Boolean,hoverable:Boolean,role:String,onClose:[Function,Array],tag:{type:String,default:"div"}},OO=rc(Ec),DO=Object.assign(Object.assign({},Ge.props),Ec),wc=ye({name:"Card",props:DO,setup(e){const t=()=>{const{onClose:s}=e;s&&et(s)},{inlineThemeDisabled:r,mergedClsPrefixRef:n,mergedRtlRef:o}=ft(e),i=Ge("Card","-card",kO,lm,e,n),a=eo("Card",o,n),d=ne(()=>{const{size:s}=e,{self:{color:c,colorModal:u,colorTarget:f,textColor:_,titleTextColor:v,titleFontWeight:b,borderColor:g,actionColor:m,borderRadius:h,lineHeight:x,closeIconColor:y,closeIconColorHover:p,closeIconColorPressed:C,closeColorHover:S,closeColorPressed:w,closeBorderRadius:A,closeIconSize:E,closeSize:R,boxShadow:T,colorPopover:L,colorEmbedded:P,colorEmbeddedModal:k,colorEmbeddedPopover:D,[Ce("padding",s)]:O,[Ce("fontSize",s)]:M,[Ce("titleFontSize",s)]:F},common:{cubicBezierEaseInOut:N}}=i.value,{top:U,left:G,bottom:H}=kn(O);return{"--n-bezier":N,"--n-border-radius":h,"--n-color":c,"--n-color-modal":u,"--n-color-popover":L,"--n-color-embedded":P,"--n-color-embedded-modal":k,"--n-color-embedded-popover":D,"--n-color-target":f,"--n-text-color":_,"--n-line-height":x,"--n-action-color":m,"--n-title-text-color":v,"--n-title-font-weight":b,"--n-close-icon-color":y,"--n-close-icon-color-hover":p,"--n-close-icon-color-pressed":C,"--n-close-color-hover":S,"--n-close-color-pressed":w,"--n-border-color":g,"--n-box-shadow":T,"--n-padding-top":U,"--n-padding-bottom":H,"--n-padding-left":G,"--n-font-size":M,"--n-title-font-size":F,"--n-close-size":R,"--n-close-icon-size":E,"--n-close-border-radius":A}}),l=r?Pt("card",ne(()=>e.size[0]),d,e):void 0;return{rtlEnabled:a,mergedClsPrefix:n,mergedTheme:i,handleCloseClick:t,cssVars:r?void 0:d,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){const{segmented:e,bordered:t,hoverable:r,mergedClsPrefix:n,rtlEnabled:o,onRender:i,embedded:a,tag:d,$slots:l}=this;return i==null||i(),I(d,{class:[`${n}-card`,this.themeClass,a&&`${n}-card--embedded`,{[`${n}-card--rtl`]:o,[`${n}-card--content${typeof e!="boolean"&&e.content==="soft"?"-soft":""}-segmented`]:e===!0||e!==!1&&e.content,[`${n}-card--footer${typeof e!="boolean"&&e.footer==="soft"?"-soft":""}-segmented`]:e===!0||e!==!1&&e.footer,[`${n}-card--action-segmented`]:e===!0||e!==!1&&e.action,[`${n}-card--bordered`]:t,[`${n}-card--hoverable`]:r}],style:this.cssVars,role:this.role},Et(l.cover,s=>s&&I("div",{class:`${n}-card-cover`,role:"none"},s)),Et(l.header,s=>s||this.title||this.closable?I("div",{class:`${n}-card-header`,style:this.headerStyle},I("div",{class:`${n}-card-header__main`,role:"heading"},s||this.title),Et(l["header-extra"],c=>c&&I("div",{class:`${n}-card-header__extra`,style:this.headerExtraStyle},c)),this.closable?I(es,{clsPrefix:n,class:`${n}-card-header__close`,onClick:this.handleCloseClick,absolute:!0}):null):null),Et(l.default,s=>s&&I("div",{class:`${n}-card__content`,style:this.contentStyle,role:"none"},s)),Et(l.footer,s=>s&&[I("div",{class:`${n}-card__footer`,style:this.footerStyle,role:"none"},s)]),Et(l.action,s=>s&&I("div",{class:`${n}-card__action`,role:"none"},s)))}}),IO=e=>({dotSize:"8px",dotColor:"rgba(255, 255, 255, .3)",dotColorActive:"rgba(255, 255, 255, 1)",dotColorFocus:"rgba(255, 255, 255, .5)",dotLineWidth:"16px",dotLineWidthActive:"24px",arrowColor:"#eee"}),MO={name:"Carousel",common:Te,self:IO},FO=MO,BO={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"},NO=e=>{const{baseColor:t,inputColorDisabled:r,cardColor:n,modalColor:o,popoverColor:i,textColorDisabled:a,borderColor:d,primaryColor:l,textColor2:s,fontSizeSmall:c,fontSizeMedium:u,fontSizeLarge:f,borderRadiusSmall:_,lineHeight:v}=e;return Object.assign(Object.assign({},BO),{labelLineHeight:v,fontSizeSmall:c,fontSizeMedium:u,fontSizeLarge:f,borderRadius:_,color:t,colorChecked:l,colorDisabled:r,colorDisabledChecked:r,colorTableHeader:n,colorTableHeaderModal:o,colorTableHeaderPopover:i,checkMarkColor:t,checkMarkColorDisabled:a,checkMarkColorDisabledChecked:a,border:`1px solid ${d}`,borderDisabled:`1px solid ${d}`,borderDisabledChecked:`1px solid ${d}`,borderChecked:`1px solid ${l}`,borderFocus:`1px solid ${l}`,boxShadowFocus:`0 0 0 2px ${Ae(l,{alpha:.3})}`,textColor:s,textColorDisabled:a})},$O={name:"Checkbox",common:Te,self(e){const{cardColor:t}=e,r=NO(e);return r.color="#0000",r.checkMarkColor=t,r}},jo=$O,UO=e=>{const{borderRadius:t,boxShadow2:r,popoverColor:n,textColor2:o,textColor3:i,primaryColor:a,textColorDisabled:d,dividerColor:l,hoverColor:s,fontSizeMedium:c,heightMedium:u}=e;return{menuBorderRadius:t,menuColor:n,menuBoxShadow:r,menuDividerColor:l,menuHeight:"calc(var(--n-option-height) * 6.6)",optionArrowColor:i,optionHeight:u,optionFontSize:c,optionColorHover:s,optionTextColor:o,optionTextColorActive:a,optionTextColorDisabled:d,optionCheckMarkColor:a,loadingColor:a,columnWidth:"180px"}},zO={name:"Cascader",common:Te,peers:{InternalSelectMenu:ts,InternalSelection:Cc,Scrollbar:er,Checkbox:jo,Empty:zP},self:UO},jO=zO,HO={name:"Code",common:Te,self(e){const{textColor2:t,fontSize:r,fontWeightStrong:n,textColor3:o}=e;return{textColor:t,fontSize:r,fontWeightStrong:n,"mono-3":"#5c6370","hue-1":"#56b6c2","hue-2":"#61aeee","hue-3":"#c678dd","hue-4":"#98c379","hue-5":"#e06c75","hue-5-2":"#be5046","hue-6":"#d19a66","hue-6-2":"#e6c07b",lineNumberTextColor:o}}},cm=HO,WO=e=>{const{fontWeight:t,textColor1:r,textColor2:n,textColorDisabled:o,dividerColor:i,fontSize:a}=e;return{titleFontSize:a,titleFontWeight:t,dividerColor:i,titleTextColor:r,titleTextColorDisabled:o,fontSize:a,textColor:n,arrowColor:n,arrowColorDisabled:o,itemMargin:"16px 0 0 0",titlePadding:"16px 0 0 0"}},GO={name:"Collapse",common:Te,self:WO},VO=GO,KO=e=>{const{cubicBezierEaseInOut:t}=e;return{bezier:t}},YO={name:"CollapseTransition",common:Te,self:KO},XO=YO,qO={abstract:Boolean,bordered:{type:Boolean,default:void 0},clsPrefix:String,locale:Object,dateLocale:Object,namespace:String,rtl:Array,tag:{type:String,default:"div"},hljs:Object,katex:Object,theme:Object,themeOverrides:Object,componentOptions:Object,icons:Object,breakpoints:Object,preflightStyleDisabled:Boolean,inlineThemeDisabled:{type:Boolean,default:void 0},as:{type:String,validator:()=>(Wn("config-provider","`as` is deprecated, please use `tag` instead."),!0),default:void 0}},ZO=ye({name:"ConfigProvider",alias:["App"],props:qO,setup(e){const t=$e(Yr,null),r=ne(()=>{const{theme:v}=e;if(v===null)return;const b=t==null?void 0:t.mergedThemeRef.value;return v===void 0?b:b===void 0?v:Object.assign({},b,v)}),n=ne(()=>{const{themeOverrides:v}=e;if(v!==null){if(v===void 0)return t==null?void 0:t.mergedThemeOverridesRef.value;{const b=t==null?void 0:t.mergedThemeOverridesRef.value;return b===void 0?v:mo({},b,v)}}}),o=Dt(()=>{const{namespace:v}=e;return v===void 0?t==null?void 0:t.mergedNamespaceRef.value:v}),i=Dt(()=>{const{bordered:v}=e;return v===void 0?t==null?void 0:t.mergedBorderedRef.value:v}),a=ne(()=>{const{icons:v}=e;return v===void 0?t==null?void 0:t.mergedIconsRef.value:v}),d=ne(()=>{const{componentOptions:v}=e;return v!==void 0?v:t==null?void 0:t.mergedComponentPropsRef.value}),l=ne(()=>{const{clsPrefix:v}=e;return v!==void 0?v:t==null?void 0:t.mergedClsPrefixRef.value}),s=ne(()=>{var v;const{rtl:b}=e;if(b===void 0)return t==null?void 0:t.mergedRtlRef.value;const g={};for(const m of b)g[m.name]=zs(m),(v=m.peers)===null||v===void 0||v.forEach(h=>{h.name in g||(g[h.name]=zs(h))});return g}),c=ne(()=>e.breakpoints||(t==null?void 0:t.mergedBreakpointsRef.value)),u=e.inlineThemeDisabled||(t==null?void 0:t.inlineThemeDisabled),f=e.preflightStyleDisabled||(t==null?void 0:t.preflightStyleDisabled),_=ne(()=>{const{value:v}=r,{value:b}=n,g=b&&Object.keys(b).length!==0,m=v==null?void 0:v.name;return m?g?`${m}-${Fi(JSON.stringify(n.value))}`:m:g?Fi(JSON.stringify(n.value)):""});return ut(Yr,{mergedThemeHashRef:_,mergedBreakpointsRef:c,mergedRtlRef:s,mergedIconsRef:a,mergedComponentPropsRef:d,mergedBorderedRef:i,mergedNamespaceRef:o,mergedClsPrefixRef:l,mergedLocaleRef:ne(()=>{const{locale:v}=e;if(v!==null)return v===void 0?t==null?void 0:t.mergedLocaleRef.value:v}),mergedDateLocaleRef:ne(()=>{const{dateLocale:v}=e;if(v!==null)return v===void 0?t==null?void 0:t.mergedDateLocaleRef.value:v}),mergedHljsRef:ne(()=>{const{hljs:v}=e;return v===void 0?t==null?void 0:t.mergedHljsRef.value:v}),mergedKatexRef:ne(()=>{const{katex:v}=e;return v===void 0?t==null?void 0:t.mergedKatexRef.value:v}),mergedThemeRef:r,mergedThemeOverridesRef:n,inlineThemeDisabled:u||!1,preflightStyleDisabled:f||!1}),{mergedClsPrefix:l,mergedBordered:i,mergedNamespace:o,mergedTheme:r,mergedThemeOverrides:n}},render(){var e,t,r,n;return this.abstract?(n=(r=this.$slots).default)===null||n===void 0?void 0:n.call(r):I(this.as||this.tag,{class:`${this.mergedClsPrefix||Av}-config-provider`},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))}}),JO={name:"Popselect",common:Te,peers:{Popover:ro,InternalSelectMenu:ts}},dm=JO;function QO(e){const{boxShadow2:t}=e;return{menuBoxShadow:t}}const eD={name:"Select",common:Te,peers:{InternalSelection:Cc,InternalSelectMenu:ts},self:QO},fm=eD,tD={itemPaddingSmall:"0 4px",itemMarginSmall:"0 0 0 8px",itemMarginSmallRtl:"0 8px 0 0",itemPaddingMedium:"0 4px",itemMarginMedium:"0 0 0 8px",itemMarginMediumRtl:"0 8px 0 0",itemPaddingLarge:"0 4px",itemMarginLarge:"0 0 0 8px",itemMarginLargeRtl:"0 8px 0 0",buttonIconSizeSmall:"14px",buttonIconSizeMedium:"16px",buttonIconSizeLarge:"18px",inputWidthSmall:"60px",selectWidthSmall:"unset",inputMarginSmall:"0 0 0 8px",inputMarginSmallRtl:"0 8px 0 0",selectMarginSmall:"0 0 0 8px",prefixMarginSmall:"0 8px 0 0",suffixMarginSmall:"0 0 0 8px",inputWidthMedium:"60px",selectWidthMedium:"unset",inputMarginMedium:"0 0 0 8px",inputMarginMediumRtl:"0 8px 0 0",selectMarginMedium:"0 0 0 8px",prefixMarginMedium:"0 8px 0 0",suffixMarginMedium:"0 0 0 8px",inputWidthLarge:"60px",selectWidthLarge:"unset",inputMarginLarge:"0 0 0 8px",inputMarginLargeRtl:"0 8px 0 0",selectMarginLarge:"0 0 0 8px",prefixMarginLarge:"0 8px 0 0",suffixMarginLarge:"0 0 0 8px"},rD=e=>{const{textColor2:t,primaryColor:r,primaryColorHover:n,primaryColorPressed:o,inputColorDisabled:i,textColorDisabled:a,borderColor:d,borderRadius:l,fontSizeTiny:s,fontSizeSmall:c,fontSizeMedium:u,heightTiny:f,heightSmall:_,heightMedium:v}=e;return Object.assign(Object.assign({},tD),{buttonColor:"#0000",buttonColorHover:"#0000",buttonColorPressed:"#0000",buttonBorder:`1px solid ${d}`,buttonBorderHover:`1px solid ${d}`,buttonBorderPressed:`1px solid ${d}`,buttonIconColor:t,buttonIconColorHover:t,buttonIconColorPressed:t,itemTextColor:t,itemTextColorHover:n,itemTextColorPressed:o,itemTextColorActive:r,itemTextColorDisabled:a,itemColor:"#0000",itemColorHover:"#0000",itemColorPressed:"#0000",itemColorActive:"#0000",itemColorActiveHover:"#0000",itemColorDisabled:i,itemBorder:"1px solid #0000",itemBorderHover:"1px solid #0000",itemBorderPressed:"1px solid #0000",itemBorderActive:`1px solid ${r}`,itemBorderDisabled:`1px solid ${d}`,itemBorderRadius:l,itemSizeSmall:f,itemSizeMedium:_,itemSizeLarge:v,itemFontSizeSmall:s,itemFontSizeMedium:c,itemFontSizeLarge:u,jumperFontSizeSmall:s,jumperFontSizeMedium:c,jumperFontSizeLarge:u,jumperTextColor:t,jumperTextColorDisabled:a})},nD={name:"Pagination",common:Te,peers:{Select:fm,Input:br,Popselect:dm},self(e){const{primaryColor:t,opacity3:r}=e,n=Ae(t,{alpha:Number(r)}),o=rD(e);return o.itemBorderActive=`1px solid ${n}`,o.itemBorderDisabled="1px solid #0000",o}},hm=nD,pm={padding:"8px 14px"},oD={name:"Tooltip",common:Te,peers:{Popover:ro},self(e){const{borderRadius:t,boxShadow2:r,popoverColor:n,textColor2:o}=e;return Object.assign(Object.assign({},pm),{borderRadius:t,boxShadow:r,color:n,textColor:o})}},Na=oD,iD=e=>{const{borderRadius:t,boxShadow2:r,baseColor:n}=e;return Object.assign(Object.assign({},pm),{borderRadius:t,boxShadow:r,color:Ie(n,"rgba(0, 0, 0, .85)"),textColor:n})},sD={name:"Tooltip",common:xt,peers:{Popover:_c},self:iD},gm=sD,aD={name:"Ellipsis",common:Te,peers:{Tooltip:Na}},vm=aD,lD={radioSizeSmall:"14px",radioSizeMedium:"16px",radioSizeLarge:"18px",labelPadding:"0 8px",labelFontWeight:"400"},uD={name:"Radio",common:Te,self(e){const{borderColor:t,primaryColor:r,baseColor:n,textColorDisabled:o,inputColorDisabled:i,textColor2:a,opacityDisabled:d,borderRadius:l,fontSizeSmall:s,fontSizeMedium:c,fontSizeLarge:u,heightSmall:f,heightMedium:_,heightLarge:v,lineHeight:b}=e;return Object.assign(Object.assign({},lD),{labelLineHeight:b,buttonHeightSmall:f,buttonHeightMedium:_,buttonHeightLarge:v,fontSizeSmall:s,fontSizeMedium:c,fontSizeLarge:u,boxShadow:`inset 0 0 0 1px ${t}`,boxShadowActive:`inset 0 0 0 1px ${r}`,boxShadowFocus:`inset 0 0 0 1px ${r}, 0 0 0 2px ${Ae(r,{alpha:.3})}`,boxShadowHover:`inset 0 0 0 1px ${r}`,boxShadowDisabled:`inset 0 0 0 1px ${t}`,color:"#0000",colorDisabled:i,colorActive:"#0000",textColor:a,textColorDisabled:o,dotColorActive:r,dotColorDisabled:t,buttonBorderColor:t,buttonBorderColorActive:r,buttonBorderColorHover:r,buttonColor:"#0000",buttonColorActive:r,buttonTextColor:a,buttonTextColorActive:n,buttonTextColorHover:r,opacityDisabled:d,buttonBoxShadowFocus:`inset 0 0 0 1px ${r}, 0 0 0 2px ${Ae(r,{alpha:.3})}`,buttonBoxShadowHover:`inset 0 0 0 1px ${r}`,buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:l})}},mm=uD,cD={padding:"4px 0",optionIconSizeSmall:"14px",optionIconSizeMedium:"16px",optionIconSizeLarge:"16px",optionIconSizeHuge:"18px",optionSuffixWidthSmall:"14px",optionSuffixWidthMedium:"14px",optionSuffixWidthLarge:"16px",optionSuffixWidthHuge:"16px",optionIconSuffixWidthSmall:"32px",optionIconSuffixWidthMedium:"32px",optionIconSuffixWidthLarge:"36px",optionIconSuffixWidthHuge:"36px",optionPrefixWidthSmall:"14px",optionPrefixWidthMedium:"14px",optionPrefixWidthLarge:"16px",optionPrefixWidthHuge:"16px",optionIconPrefixWidthSmall:"36px",optionIconPrefixWidthMedium:"36px",optionIconPrefixWidthLarge:"40px",optionIconPrefixWidthHuge:"40px"},bm=e=>{const{primaryColor:t,textColor2:r,dividerColor:n,hoverColor:o,popoverColor:i,invertedColor:a,borderRadius:d,fontSizeSmall:l,fontSizeMedium:s,fontSizeLarge:c,fontSizeHuge:u,heightSmall:f,heightMedium:_,heightLarge:v,heightHuge:b,textColor3:g,opacityDisabled:m}=e;return Object.assign(Object.assign({},cD),{optionHeightSmall:f,optionHeightMedium:_,optionHeightLarge:v,optionHeightHuge:b,borderRadius:d,fontSizeSmall:l,fontSizeMedium:s,fontSizeLarge:c,fontSizeHuge:u,optionTextColor:r,optionTextColorHover:r,optionTextColorActive:t,optionTextColorChildActive:t,color:i,dividerColor:n,suffixColor:r,prefixColor:r,optionColorHover:o,optionColorActive:Ae(t,{alpha:.1}),groupHeaderTextColor:g,optionTextColorInverted:"#BBB",optionTextColorHoverInverted:"#FFF",optionTextColorActiveInverted:"#FFF",optionTextColorChildActiveInverted:"#FFF",colorInverted:a,dividerColorInverted:"#BBB",suffixColorInverted:"#BBB",prefixColorInverted:"#BBB",optionColorHoverInverted:t,optionColorActiveInverted:t,groupHeaderTextColorInverted:"#AAA",optionOpacityDisabled:m})},dD={name:"Dropdown",common:xt,peers:{Popover:_c},self:bm},fD=dD,hD={name:"Dropdown",common:Te,peers:{Popover:ro},self(e){const{primaryColorSuppl:t,primaryColor:r,popoverColor:n}=e,o=bm(e);return o.colorInverted=n,o.optionColorActive=Ae(r,{alpha:.15}),o.optionColorActiveInverted=t,o.optionColorHoverInverted=t,o}},Tc=hD,pD={thPaddingSmall:"8px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"8px",tdPaddingMedium:"12px",tdPaddingLarge:"12px",sorterSize:"15px",resizableContainerSize:"8px",resizableSize:"2px",filterSize:"15px",paginationMargin:"12px 0 0 0",emptyPadding:"48px 0",actionPadding:"8px 12px",actionButtonMargin:"0 8px 0 0"},gD=e=>{const{cardColor:t,modalColor:r,popoverColor:n,textColor2:o,textColor1:i,tableHeaderColor:a,tableColorHover:d,iconColor:l,primaryColor:s,fontWeightStrong:c,borderRadius:u,lineHeight:f,fontSizeSmall:_,fontSizeMedium:v,fontSizeLarge:b,dividerColor:g,heightSmall:m,opacityDisabled:h,tableColorStriped:x}=e;return Object.assign(Object.assign({},pD),{actionDividerColor:g,lineHeight:f,borderRadius:u,fontSizeSmall:_,fontSizeMedium:v,fontSizeLarge:b,borderColor:Ie(t,g),tdColorHover:Ie(t,d),tdColorStriped:Ie(t,x),thColor:Ie(t,a),thColorHover:Ie(Ie(t,a),d),tdColor:t,tdTextColor:o,thTextColor:i,thFontWeight:c,thButtonColorHover:d,thIconColor:l,thIconColorActive:s,borderColorModal:Ie(r,g),tdColorHoverModal:Ie(r,d),tdColorStripedModal:Ie(r,x),thColorModal:Ie(r,a),thColorHoverModal:Ie(Ie(r,a),d),tdColorModal:r,borderColorPopover:Ie(n,g),tdColorHoverPopover:Ie(n,d),tdColorStripedPopover:Ie(n,x),thColorPopover:Ie(n,a),thColorHoverPopover:Ie(Ie(n,a),d),tdColorPopover:n,boxShadowBefore:"inset -12px 0 8px -12px rgba(0, 0, 0, .18)",boxShadowAfter:"inset 12px 0 8px -12px rgba(0, 0, 0, .18)",loadingColor:s,loadingSize:m,opacityLoading:h})},vD={name:"DataTable",common:Te,peers:{Button:tr,Checkbox:jo,Radio:mm,Pagination:hm,Scrollbar:er,Empty:to,Popover:ro,Ellipsis:vm,Dropdown:Tc},self(e){const t=gD(e);return t.boxShadowAfter="inset 12px 0 8px -12px rgba(0, 0, 0, .36)",t.boxShadowBefore="inset -12px 0 8px -12px rgba(0, 0, 0, .36)",t}},mD=vD,bD=Object.assign(Object.assign({},Ba),Ge.props),yD=ye({name:"Tooltip",props:bD,__popover__:!0,setup(e){const{mergedClsPrefixRef:t}=ft(e),r=Ge("Tooltip","-tooltip",void 0,gm,e,t),n=Q(null);return Object.assign(Object.assign({},{syncPosition(){n.value.syncPosition()},setShow(i){n.value.setShow(i)}}),{popoverRef:n,mergedTheme:r,popoverThemeOverrides:ne(()=>r.value.self)})},render(){const{mergedTheme:e,internalExtraClass:t}=this;return I(Vv,Object.assign(Object.assign({},this.$props),{theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,builtinThemeOverrides:this.popoverThemeOverrides,internalExtraClass:t.concat("tooltip"),ref:"popoverRef"}),this.$slots)}}),ym=ye({name:"DropdownDivider",props:{clsPrefix:{type:String,required:!0}},render(){return I("div",{class:`${this.clsPrefix}-dropdown-divider`})}}),xm=e=>{const{textColorBase:t,opacity1:r,opacity2:n,opacity3:o,opacity4:i,opacity5:a}=e;return{color:t,opacity1Depth:r,opacity2Depth:n,opacity3Depth:o,opacity4Depth:i,opacity5Depth:a}},xD={name:"Icon",common:xt,self:xm},_D=xD,CD={name:"Icon",common:Te,self:xm},SD=CD,ED=V("icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[le("color-transition",{transition:"color .3s var(--n-bezier)"}),le("depth",{color:"var(--n-color)"},[X("svg",{opacity:"var(--n-opacity)",transition:"opacity .3s var(--n-bezier)"})]),X("svg",{height:"1em",width:"1em"})]),wD=Object.assign(Object.assign({},Ge.props),{depth:[String,Number],size:[Number,String],color:String,component:Object}),Ci=ye({_n_icon__:!0,name:"Icon",inheritAttrs:!1,props:wD,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:r}=ft(e),n=Ge("Icon","-icon",ED,_D,e,t),o=ne(()=>{const{depth:a}=e,{common:{cubicBezierEaseInOut:d},self:l}=n.value;if(a!==void 0){const{color:s,[`opacity${a}Depth`]:c}=l;return{"--n-bezier":d,"--n-color":s,"--n-opacity":c}}return{"--n-bezier":d,"--n-color":"","--n-opacity":""}}),i=r?Pt("icon",ne(()=>`${e.depth||"d"}`),o,e):void 0;return{mergedClsPrefix:t,mergedStyle:ne(()=>{const{size:a,color:d}=e;return{fontSize:Or(a),color:d}}),cssVars:r?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e;const{$parent:t,depth:r,mergedClsPrefix:n,component:o,onRender:i,themeClass:a}=this;return!((e=t==null?void 0:t.$options)===null||e===void 0)&&e._n_icon__&&Wn("icon","don't wrap `n-icon` inside `n-icon`"),i==null||i(),I("i",sr(this.$attrs,{role:"img",class:[`${n}-icon`,a,{[`${n}-icon--depth`]:r,[`${n}-icon--color-transition`]:r!==void 0}],style:[this.cssVars,this.mergedStyle]}),o?I(o):this.$slots)}}),Rc="n-dropdown-menu",$a="n-dropdown",ph="n-dropdown-option";function bu(e,t){return e.type==="submenu"||e.type===void 0&&e[t]!==void 0}function TD(e){return e.type==="group"}function _m(e){return e.type==="divider"}function RD(e){return e.type==="render"}const Cm=ye({name:"DropdownOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null},placement:{type:String,default:"right-start"},props:Object,scrollable:Boolean},setup(e){const t=$e($a),{hoverKeyRef:r,keyboardKeyRef:n,lastToggledSubmenuKeyRef:o,pendingKeyPathRef:i,activeKeyPathRef:a,animatedRef:d,mergedShowRef:l,renderLabelRef:s,renderIconRef:c,labelFieldRef:u,childrenFieldRef:f,renderOptionRef:_,nodePropsRef:v,menuPropsRef:b}=t,g=$e(ph,null),m=$e(Rc),h=$e(Zi),x=ne(()=>e.tmNode.rawNode),y=ne(()=>{const{value:O}=f;return bu(e.tmNode.rawNode,O)}),p=ne(()=>{const{disabled:O}=e.tmNode;return O}),C=ne(()=>{if(!y.value)return!1;const{key:O,disabled:M}=e.tmNode;if(M)return!1;const{value:F}=r,{value:N}=n,{value:U}=o,{value:G}=i;return F!==null?G.includes(O):N!==null?G.includes(O)&&G[G.length-1]!==O:U!==null?G.includes(O):!1}),S=ne(()=>n.value===null&&!d.value),w=DC(C,300,S),A=ne(()=>!!(g!=null&&g.enteringSubmenuRef.value)),E=Q(!1);ut(ph,{enteringSubmenuRef:E});function R(){E.value=!0}function T(){E.value=!1}function L(){const{parentKey:O,tmNode:M}=e;M.disabled||l.value&&(o.value=O,n.value=null,r.value=M.key)}function P(){const{tmNode:O}=e;O.disabled||l.value&&r.value!==O.key&&L()}function k(O){if(e.tmNode.disabled||!l.value)return;const{relatedTarget:M}=O;M&&!Gd({target:M},"dropdownOption")&&!Gd({target:M},"scrollbarRail")&&(r.value=null)}function D(){const{value:O}=y,{tmNode:M}=e;l.value&&!O&&!M.disabled&&(t.doSelect(M.key,M.rawNode),t.doUpdateShow(!1))}return{labelField:u,renderLabel:s,renderIcon:c,siblingHasIcon:m.showIconRef,siblingHasSubmenu:m.hasSubmenuRef,menuProps:b,popoverBody:h,animated:d,mergedShowSubmenu:ne(()=>w.value&&!A.value),rawNode:x,hasSubmenu:y,pending:Dt(()=>{const{value:O}=i,{key:M}=e.tmNode;return O.includes(M)}),childActive:Dt(()=>{const{value:O}=a,{key:M}=e.tmNode,F=O.findIndex(N=>M===N);return F===-1?!1:F<O.length-1}),active:Dt(()=>{const{value:O}=a,{key:M}=e.tmNode,F=O.findIndex(N=>M===N);return F===-1?!1:F===O.length-1}),mergedDisabled:p,renderOption:_,nodeProps:v,handleClick:D,handleMouseMove:P,handleMouseEnter:L,handleMouseLeave:k,handleSubmenuBeforeEnter:R,handleSubmenuAfterEnter:T}},render(){var e,t;const{animated:r,rawNode:n,mergedShowSubmenu:o,clsPrefix:i,siblingHasIcon:a,siblingHasSubmenu:d,renderLabel:l,renderIcon:s,renderOption:c,nodeProps:u,props:f,scrollable:_}=this;let v=null;if(o){const h=(e=this.menuProps)===null||e===void 0?void 0:e.call(this,n,n.children);v=I(Sm,Object.assign({},h,{clsPrefix:i,scrollable:this.scrollable,tmNodes:this.tmNode.children,parentKey:this.tmNode.key}))}const b={class:[`${i}-dropdown-option-body`,this.pending&&`${i}-dropdown-option-body--pending`,this.active&&`${i}-dropdown-option-body--active`,this.childActive&&`${i}-dropdown-option-body--child-active`,this.mergedDisabled&&`${i}-dropdown-option-body--disabled`],onMousemove:this.handleMouseMove,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onClick:this.handleClick},g=u==null?void 0:u(n),m=I("div",Object.assign({class:[`${i}-dropdown-option`,g==null?void 0:g.class],"data-dropdown-option":!0},g),I("div",sr(b,f),[I("div",{class:[`${i}-dropdown-option-body__prefix`,a&&`${i}-dropdown-option-body__prefix--show-icon`]},[s?s(n):cr(n.icon)]),I("div",{"data-dropdown-option":!0,class:`${i}-dropdown-option-body__label`},l?l(n):cr((t=n[this.labelField])!==null&&t!==void 0?t:n.title)),I("div",{"data-dropdown-option":!0,class:[`${i}-dropdown-option-body__suffix`,d&&`${i}-dropdown-option-body__suffix--has-submenu`]},this.hasSubmenu?I(Ci,null,{default:()=>I(HL,null)}):null)]),this.hasSubmenu?I(wg,null,{default:()=>[I(Tg,null,{default:()=>I("div",{class:`${i}-dropdown-offset-container`},I(Lg,{show:this.mergedShowSubmenu,placement:this.placement,to:_&&this.popoverBody||void 0,teleportDisabled:!_},{default:()=>I("div",{class:`${i}-dropdown-menu-wrapper`},r?I(Ut,{onBeforeEnter:this.handleSubmenuBeforeEnter,onAfterEnter:this.handleSubmenuAfterEnter,name:"fade-in-scale-up-transition",appear:!0},{default:()=>v}):v)}))})]}):null);return c?c({node:m,option:n}):m}}),AD=ye({name:"DropdownGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{showIconRef:e,hasSubmenuRef:t}=$e(Rc),{renderLabelRef:r,labelFieldRef:n,nodePropsRef:o,renderOptionRef:i}=$e($a);return{labelField:n,showIcon:e,hasSubmenu:t,renderLabel:r,nodeProps:o,renderOption:i}},render(){var e;const{clsPrefix:t,hasSubmenu:r,showIcon:n,nodeProps:o,renderLabel:i,renderOption:a}=this,{rawNode:d}=this.tmNode,l=I("div",Object.assign({class:`${t}-dropdown-option`},o==null?void 0:o(d)),I("div",{class:`${t}-dropdown-option-body ${t}-dropdown-option-body--group`},I("div",{"data-dropdown-option":!0,class:[`${t}-dropdown-option-body__prefix`,n&&`${t}-dropdown-option-body__prefix--show-icon`]},cr(d.icon)),I("div",{class:`${t}-dropdown-option-body__label`,"data-dropdown-option":!0},i?i(d):cr((e=d.title)!==null&&e!==void 0?e:d[this.labelField])),I("div",{class:[`${t}-dropdown-option-body__suffix`,r&&`${t}-dropdown-option-body__suffix--has-submenu`],"data-dropdown-option":!0})));return a?a({node:l,option:d}):l}}),LD=ye({name:"NDropdownGroup",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null}},render(){const{tmNode:e,parentKey:t,clsPrefix:r}=this,{children:n}=e;return I(Qe,null,I(AD,{clsPrefix:r,tmNode:e,key:e.key}),n==null?void 0:n.map(o=>{const{rawNode:i}=o;return i.show===!1?null:_m(i)?I(ym,{clsPrefix:r,key:o.key}):o.isGroup?(Wn("dropdown","`group` node is not allowed to be put in `group` node."),null):I(Cm,{clsPrefix:r,tmNode:o,parentKey:t,key:o.key})}))}}),PD=ye({name:"DropdownRenderOption",props:{tmNode:{type:Object,required:!0}},render(){const{rawNode:{render:e,props:t}}=this.tmNode;return I("div",t,[e==null?void 0:e()])}}),Sm=ye({name:"DropdownMenu",props:{scrollable:Boolean,showArrow:Boolean,arrowStyle:[String,Object],clsPrefix:{type:String,required:!0},tmNodes:{type:Array,default:()=>[]},parentKey:{type:[String,Number],default:null}},setup(e){const{renderIconRef:t,childrenFieldRef:r}=$e($a);ut(Rc,{showIconRef:ne(()=>{const o=t.value;return e.tmNodes.some(i=>{var a;if(i.isGroup)return(a=i.children)===null||a===void 0?void 0:a.some(({rawNode:l})=>o?o(l):l.icon);const{rawNode:d}=i;return o?o(d):d.icon})}),hasSubmenuRef:ne(()=>{const{value:o}=r;return e.tmNodes.some(i=>{var a;if(i.isGroup)return(a=i.children)===null||a===void 0?void 0:a.some(({rawNode:l})=>bu(l,o));const{rawNode:d}=i;return bu(d,o)})})});const n=Q(null);return ut(La,null),ut(Pa,null),ut(Zi,n),{bodyRef:n}},render(){const{parentKey:e,clsPrefix:t,scrollable:r}=this,n=this.tmNodes.map(o=>{const{rawNode:i}=o;return i.show===!1?null:RD(i)?I(PD,{tmNode:o,key:o.key}):_m(i)?I(ym,{clsPrefix:t,key:o.key}):TD(i)?I(LD,{clsPrefix:t,tmNode:o,parentKey:e,key:o.key}):I(Cm,{clsPrefix:t,tmNode:o,parentKey:e,key:o.key,props:i.props,scrollable:r})});return I("div",{class:[`${t}-dropdown-menu`,r&&`${t}-dropdown-menu--scrollable`],ref:"bodyRef"},r?I(zv,{contentClass:`${t}-dropdown-menu__content`},{default:()=>n}):n,this.showArrow?Gv({clsPrefix:t,arrowStyle:this.arrowStyle}):null)}}),kD=V("dropdown-menu",`
 transform-origin: var(--v-transform-origin);
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 position: relative;
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
`,[ji(),V("dropdown-option",`
 position: relative;
 `,[X("a",`
 text-decoration: none;
 color: inherit;
 outline: none;
 `,[X("&::before",`
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),V("dropdown-option-body",`
 display: flex;
 cursor: pointer;
 position: relative;
 height: var(--n-option-height);
 line-height: var(--n-option-height);
 font-size: var(--n-font-size);
 color: var(--n-option-text-color);
 transition: color .3s var(--n-bezier);
 `,[X("&::before",`
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 left: 4px;
 right: 4px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `),Gt("disabled",[le("pending",`
 color: var(--n-option-text-color-hover);
 `,[oe("prefix, suffix",`
 color: var(--n-option-text-color-hover);
 `),X("&::before","background-color: var(--n-option-color-hover);")]),le("active",`
 color: var(--n-option-text-color-active);
 `,[oe("prefix, suffix",`
 color: var(--n-option-text-color-active);
 `),X("&::before","background-color: var(--n-option-color-active);")]),le("child-active",`
 color: var(--n-option-text-color-child-active);
 `,[oe("prefix, suffix",`
 color: var(--n-option-text-color-child-active);
 `)])]),le("disabled",`
 cursor: not-allowed;
 opacity: var(--n-option-opacity-disabled);
 `),le("group",`
 font-size: calc(var(--n-font-size) - 1px);
 color: var(--n-group-header-text-color);
 `,[oe("prefix",`
 width: calc(var(--n-option-prefix-width) / 2);
 `,[le("show-icon",`
 width: calc(var(--n-option-icon-prefix-width) / 2);
 `)])]),oe("prefix",`
 width: var(--n-option-prefix-width);
 display: flex;
 justify-content: center;
 align-items: center;
 color: var(--n-prefix-color);
 transition: color .3s var(--n-bezier);
 z-index: 1;
 `,[le("show-icon",`
 width: var(--n-option-icon-prefix-width);
 `),V("icon",`
 font-size: var(--n-option-icon-size);
 `)]),oe("label",`
 white-space: nowrap;
 flex: 1;
 z-index: 1;
 `),oe("suffix",`
 box-sizing: border-box;
 flex-grow: 0;
 flex-shrink: 0;
 display: flex;
 justify-content: flex-end;
 align-items: center;
 min-width: var(--n-option-suffix-width);
 padding: 0 8px;
 transition: color .3s var(--n-bezier);
 color: var(--n-suffix-color);
 z-index: 1;
 `,[le("has-submenu",`
 width: var(--n-option-icon-suffix-width);
 `),V("icon",`
 font-size: var(--n-option-icon-size);
 `)]),V("dropdown-menu","pointer-events: all;")]),V("dropdown-offset-container",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: -4px;
 bottom: -4px;
 `)]),V("dropdown-divider",`
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-divider-color);
 height: 1px;
 margin: 4px 0;
 `),V("dropdown-menu-wrapper",`
 transform-origin: var(--v-transform-origin);
 width: fit-content;
 `),X(">",[V("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),Gt("scrollable",`
 padding: var(--n-padding);
 `),le("scrollable",[oe("content",`
 padding: var(--n-padding);
 `)])]),OD={animated:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},size:{type:String,default:"medium"},inverted:Boolean,placement:{type:String,default:"bottom"},onSelect:[Function,Array],options:{type:Array,default:()=>[]},menuProps:Function,showArrow:Boolean,renderLabel:Function,renderIcon:Function,renderOption:Function,nodeProps:Function,labelField:{type:String,default:"label"},keyField:{type:String,default:"key"},childrenField:{type:String,default:"children"},value:[String,Number]},DD=Object.keys(Ba),ID=Object.assign(Object.assign(Object.assign({},Ba),OD),Ge.props),MD=ye({name:"Dropdown",inheritAttrs:!1,props:ID,setup(e){const t=Q(!1),r=Xi(Be(e,"show"),t),n=ne(()=>{const{keyField:T,childrenField:L}=e;return kP(e.options,{getKey(P){return P[T]},getDisabled(P){return P.disabled===!0},getIgnored(P){return P.type==="divider"||P.type==="render"},getChildren(P){return P[L]}})}),o=ne(()=>n.value.treeNodes),i=Q(null),a=Q(null),d=Q(null),l=ne(()=>{var T,L,P;return(P=(L=(T=i.value)!==null&&T!==void 0?T:a.value)!==null&&L!==void 0?L:d.value)!==null&&P!==void 0?P:null}),s=ne(()=>n.value.getPath(l.value).keyPath),c=ne(()=>n.value.getPath(e.value).keyPath),u=Dt(()=>e.keyboard&&r.value);QC({keydown:{ArrowUp:{prevent:!0,handler:p},ArrowRight:{prevent:!0,handler:y},ArrowDown:{prevent:!0,handler:C},ArrowLeft:{prevent:!0,handler:x},Enter:{prevent:!0,handler:S},Escape:h}},u);const{mergedClsPrefixRef:f,inlineThemeDisabled:_}=ft(e),v=Ge("Dropdown","-dropdown",kD,fD,e,f);ut($a,{labelFieldRef:Be(e,"labelField"),childrenFieldRef:Be(e,"childrenField"),renderLabelRef:Be(e,"renderLabel"),renderIconRef:Be(e,"renderIcon"),hoverKeyRef:i,keyboardKeyRef:a,lastToggledSubmenuKeyRef:d,pendingKeyPathRef:s,activeKeyPathRef:c,animatedRef:Be(e,"animated"),mergedShowRef:r,nodePropsRef:Be(e,"nodeProps"),renderOptionRef:Be(e,"renderOption"),menuPropsRef:Be(e,"menuProps"),doSelect:b,doUpdateShow:g}),tt(r,T=>{!e.animated&&!T&&m()});function b(T,L){const{onSelect:P}=e;P&&et(P,T,L)}function g(T){const{"onUpdate:show":L,onUpdateShow:P}=e;L&&et(L,T),P&&et(P,T),t.value=T}function m(){i.value=null,a.value=null,d.value=null}function h(){g(!1)}function x(){A("left")}function y(){A("right")}function p(){A("up")}function C(){A("down")}function S(){const T=w();T!=null&&T.isLeaf&&r.value&&(b(T.key,T.rawNode),g(!1))}function w(){var T;const{value:L}=n,{value:P}=l;return!L||P===null?null:(T=L.getNode(P))!==null&&T!==void 0?T:null}function A(T){const{value:L}=l,{value:{getFirstAvailableNode:P}}=n;let k=null;if(L===null){const D=P();D!==null&&(k=D.key)}else{const D=w();if(D){let O;switch(T){case"down":O=D.getNext();break;case"up":O=D.getPrev();break;case"right":O=D.getChild();break;case"left":O=D.getParent();break}O&&(k=O.key)}}k!==null&&(i.value=null,a.value=k)}const E=ne(()=>{const{size:T,inverted:L}=e,{common:{cubicBezierEaseInOut:P},self:k}=v.value,{padding:D,dividerColor:O,borderRadius:M,optionOpacityDisabled:F,[Ce("optionIconSuffixWidth",T)]:N,[Ce("optionSuffixWidth",T)]:U,[Ce("optionIconPrefixWidth",T)]:G,[Ce("optionPrefixWidth",T)]:H,[Ce("fontSize",T)]:Z,[Ce("optionHeight",T)]:de,[Ce("optionIconSize",T)]:ee}=k,W={"--n-bezier":P,"--n-font-size":Z,"--n-padding":D,"--n-border-radius":M,"--n-option-height":de,"--n-option-prefix-width":H,"--n-option-icon-prefix-width":G,"--n-option-suffix-width":U,"--n-option-icon-suffix-width":N,"--n-option-icon-size":ee,"--n-divider-color":O,"--n-option-opacity-disabled":F};return L?(W["--n-color"]=k.colorInverted,W["--n-option-color-hover"]=k.optionColorHoverInverted,W["--n-option-color-active"]=k.optionColorActiveInverted,W["--n-option-text-color"]=k.optionTextColorInverted,W["--n-option-text-color-hover"]=k.optionTextColorHoverInverted,W["--n-option-text-color-active"]=k.optionTextColorActiveInverted,W["--n-option-text-color-child-active"]=k.optionTextColorChildActiveInverted,W["--n-prefix-color"]=k.prefixColorInverted,W["--n-suffix-color"]=k.suffixColorInverted,W["--n-group-header-text-color"]=k.groupHeaderTextColorInverted):(W["--n-color"]=k.color,W["--n-option-color-hover"]=k.optionColorHover,W["--n-option-color-active"]=k.optionColorActive,W["--n-option-text-color"]=k.optionTextColor,W["--n-option-text-color-hover"]=k.optionTextColorHover,W["--n-option-text-color-active"]=k.optionTextColorActive,W["--n-option-text-color-child-active"]=k.optionTextColorChildActive,W["--n-prefix-color"]=k.prefixColor,W["--n-suffix-color"]=k.suffixColor,W["--n-group-header-text-color"]=k.groupHeaderTextColor),W}),R=_?Pt("dropdown",ne(()=>`${e.size[0]}${e.inverted?"i":""}`),E,e):void 0;return{mergedClsPrefix:f,mergedTheme:v,tmNodes:o,mergedShow:r,handleAfterLeave:()=>{e.animated&&m()},doUpdateShow:g,cssVars:_?void 0:E,themeClass:R==null?void 0:R.themeClass,onRender:R==null?void 0:R.onRender}},render(){const e=(n,o,i,a,d)=>{var l;const{mergedClsPrefix:s,menuProps:c}=this;(l=this.onRender)===null||l===void 0||l.call(this);const u=(c==null?void 0:c(void 0,this.tmNodes.map(_=>_.rawNode)))||{},f={ref:iC(o),class:[n,`${s}-dropdown`,this.themeClass],clsPrefix:s,tmNodes:this.tmNodes,style:[i,this.cssVars],showArrow:this.showArrow,arrowStyle:this.arrowStyle,scrollable:this.scrollable,onMouseenter:a,onMouseleave:d};return I(Sm,sr(this.$attrs,f,u))},{mergedTheme:t}=this,r={show:this.mergedShow,theme:t.peers.Popover,themeOverrides:t.peerOverrides.Popover,internalOnAfterLeave:this.handleAfterLeave,internalRenderBody:e,onUpdateShow:this.doUpdateShow,"onUpdate:show":void 0};return I(Vv,Object.assign({},Mi(this.$props,DD),r),{trigger:()=>{var n,o;return(o=(n=this.$slots).default)===null||o===void 0?void 0:o.call(n)}})}}),FD={itemFontSize:"12px",itemHeight:"36px",itemWidth:"52px",panelActionPadding:"8px 0"},BD=e=>{const{popoverColor:t,textColor2:r,primaryColor:n,hoverColor:o,dividerColor:i,opacityDisabled:a,boxShadow2:d,borderRadius:l,iconColor:s,iconColorDisabled:c}=e;return Object.assign(Object.assign({},FD),{panelColor:t,panelBoxShadow:d,panelDividerColor:i,itemTextColor:r,itemTextColorActive:n,itemColorHover:o,itemOpacityDisabled:a,itemBorderRadius:l,borderRadius:l,iconColor:s,iconColorDisabled:c})},ND={name:"TimePicker",common:Te,peers:{Scrollbar:er,Button:tr,Input:br},self:BD},Em=ND,$D={itemSize:"24px",itemCellWidth:"38px",itemCellHeight:"32px",scrollItemWidth:"80px",scrollItemHeight:"40px",panelExtraFooterPadding:"8px 12px",panelActionPadding:"8px 12px",calendarTitlePadding:"0",calendarTitleHeight:"28px",arrowSize:"14px",panelHeaderPadding:"8px 12px",calendarDaysHeight:"32px",calendarTitleGridTempateColumns:"28px 28px 1fr 28px 28px",calendarLeftPaddingDate:"6px 12px 4px 12px",calendarLeftPaddingDatetime:"4px 12px",calendarLeftPaddingDaterange:"6px 12px 4px 12px",calendarLeftPaddingDatetimerange:"4px 12px",calendarLeftPaddingMonth:"0",calendarLeftPaddingYear:"0",calendarLeftPaddingQuarter:"0",calendarLeftPaddingMonthrange:"0",calendarLeftPaddingQuarterrange:"0",calendarLeftPaddingYearrange:"0",calendarRightPaddingDate:"6px 12px 4px 12px",calendarRightPaddingDatetime:"4px 12px",calendarRightPaddingDaterange:"6px 12px 4px 12px",calendarRightPaddingDatetimerange:"4px 12px",calendarRightPaddingMonth:"0",calendarRightPaddingYear:"0",calendarRightPaddingQuarter:"0",calendarRightPaddingMonthrange:"0",calendarRightPaddingQuarterrange:"0",calendarRightPaddingYearrange:"0"},UD=e=>{const{hoverColor:t,fontSize:r,textColor2:n,textColorDisabled:o,popoverColor:i,primaryColor:a,borderRadiusSmall:d,iconColor:l,iconColorDisabled:s,textColor1:c,dividerColor:u,boxShadow2:f,borderRadius:_,fontWeightStrong:v}=e;return Object.assign(Object.assign({},$D),{itemFontSize:r,calendarDaysFontSize:r,calendarTitleFontSize:r,itemTextColor:n,itemTextColorDisabled:o,itemTextColorActive:i,itemTextColorCurrent:a,itemColorIncluded:Ae(a,{alpha:.1}),itemColorHover:t,itemColorDisabled:t,itemColorActive:a,itemBorderRadius:d,panelColor:i,panelTextColor:n,arrowColor:l,calendarTitleTextColor:c,calendarTitleColorHover:t,calendarDaysTextColor:n,panelHeaderDividerColor:u,calendarDaysDividerColor:u,calendarDividerColor:u,panelActionDividerColor:u,panelBoxShadow:f,panelBorderRadius:_,calendarTitleFontWeight:v,scrollItemBorderRadius:_,iconColor:l,iconColorDisabled:s})},zD={name:"DatePicker",common:Te,peers:{Input:br,Button:tr,TimePicker:Em,Scrollbar:er},self(e){const{popoverColor:t,hoverColor:r,primaryColor:n}=e,o=UD(e);return o.itemColorDisabled=Ie(t,r),o.itemColorIncluded=Ae(n,{alpha:.15}),o.itemColorHover=Ie(t,r),o}},jD=zD;function HD(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const WD={thPaddingBorderedSmall:"8px 12px",thPaddingBorderedMedium:"12px 16px",thPaddingBorderedLarge:"16px 24px",thPaddingSmall:"0",thPaddingMedium:"0",thPaddingLarge:"0",tdPaddingBorderedSmall:"8px 12px",tdPaddingBorderedMedium:"12px 16px",tdPaddingBorderedLarge:"16px 24px",tdPaddingSmall:"0 0 8px 0",tdPaddingMedium:"0 0 12px 0",tdPaddingLarge:"0 0 16px 0"},GD=e=>{const{tableHeaderColor:t,textColor2:r,textColor1:n,cardColor:o,modalColor:i,popoverColor:a,dividerColor:d,borderRadius:l,fontWeightStrong:s,lineHeight:c,fontSizeSmall:u,fontSizeMedium:f,fontSizeLarge:_}=e;return Object.assign(Object.assign({},WD),{lineHeight:c,fontSizeSmall:u,fontSizeMedium:f,fontSizeLarge:_,titleTextColor:n,thColor:Ie(o,t),thColorModal:Ie(i,t),thColorPopover:Ie(a,t),thTextColor:n,thFontWeight:s,tdTextColor:r,tdColor:o,tdColorModal:i,tdColorPopover:a,borderColor:Ie(o,d),borderColorModal:Ie(i,d),borderColorPopover:Ie(a,d),borderRadius:l})},VD={name:"Descriptions",common:Te,self:GD},KD=VD,YD={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"22px",closeIconSize:"18px",closeMargin:"20px 26px 0 0",closeMarginIconTop:"10px 16px 0 0"},wm=e=>{const{textColor1:t,textColor2:r,modalColor:n,closeIconColor:o,closeIconColorHover:i,closeIconColorPressed:a,closeColorHover:d,closeColorPressed:l,infoColor:s,successColor:c,warningColor:u,errorColor:f,primaryColor:_,dividerColor:v,borderRadius:b,fontWeightStrong:g,lineHeight:m,fontSize:h}=e;return Object.assign(Object.assign({},YD),{fontSize:h,lineHeight:m,border:`1px solid ${v}`,titleTextColor:t,textColor:r,color:n,closeColorHover:d,closeColorPressed:l,closeIconColor:o,closeIconColorHover:i,closeIconColorPressed:a,closeBorderRadius:b,iconColor:_,iconColorInfo:s,iconColorSuccess:c,iconColorWarning:u,iconColorError:f,borderRadius:b,titleFontWeight:g})},Tm={name:"Dialog",common:xt,peers:{Button:Sc},self:wm},XD={name:"Dialog",common:Te,peers:{Button:tr},self:wm},Rm=XD,Ac={icon:Function,type:{type:String,default:"default"},title:[String,Function],closable:{type:Boolean,default:!0},negativeText:String,positiveText:String,positiveButtonProps:Object,negativeButtonProps:Object,content:[String,Function],action:Function,showIcon:{type:Boolean,default:!0},loading:Boolean,bordered:Boolean,iconPlacement:String,onPositiveClick:Function,onNegativeClick:Function,onClose:Function},qD=rc(Ac),ZD=X([V("dialog",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: relative;
 background: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 margin: auto;
 border-radius: var(--n-border-radius);
 padding: var(--n-padding);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[oe("icon",{color:"var(--n-icon-color)"}),le("bordered",{border:"var(--n-border)"}),le("icon-top",[oe("close",{margin:"var(--n-close-margin)"}),oe("icon",{margin:"var(--n-icon-margin)"}),oe("content",{textAlign:"center"}),oe("title",{justifyContent:"center"}),oe("action",{justifyContent:"center"})]),le("icon-left",[oe("icon",{margin:"var(--n-icon-margin)"}),le("closable",[oe("title",`
 padding-right: calc(var(--n-close-size) + 6px);
 `)])]),oe("close",`
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 z-index: 1;
 `),oe("content",`
 font-size: var(--n-font-size);
 margin: var(--n-content-margin);
 position: relative;
 word-break: break-word;
 `,[le("last","margin-bottom: 0;")]),oe("action",`
 display: flex;
 justify-content: flex-end;
 `,[X("> *:not(:last-child)",{marginRight:"var(--n-action-space)"})]),oe("icon",{fontSize:"var(--n-icon-size)",transition:"color .3s var(--n-bezier)"}),oe("title",`
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),V("dialog-icon-container",{display:"flex",justifyContent:"center"})]),nc(V("dialog",`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)),V("dialog",[bg(`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)])]),JD={default:()=>I(Kn,null),info:()=>I(Kn,null),success:()=>I($o,null),warning:()=>I(Uo,null),error:()=>I(No,null)},QD=ye({name:"Dialog",alias:["NimbusConfirmCard","Confirm"],props:Object.assign(Object.assign({},Ge.props),Ac),setup(e){const{mergedComponentPropsRef:t,mergedClsPrefixRef:r,inlineThemeDisabled:n}=ft(e),o=ne(()=>{var u,f;const{iconPlacement:_}=e;return _||((f=(u=t==null?void 0:t.value)===null||u===void 0?void 0:u.Dialog)===null||f===void 0?void 0:f.iconPlacement)||"left"});function i(u){const{onPositiveClick:f}=e;f&&f(u)}function a(u){const{onNegativeClick:f}=e;f&&f(u)}function d(){const{onClose:u}=e;u&&u()}const l=Ge("Dialog","-dialog",ZD,Tm,e,r),s=ne(()=>{const{type:u}=e,f=o.value,{common:{cubicBezierEaseInOut:_},self:{fontSize:v,lineHeight:b,border:g,titleTextColor:m,textColor:h,color:x,closeBorderRadius:y,closeColorHover:p,closeColorPressed:C,closeIconColor:S,closeIconColorHover:w,closeIconColorPressed:A,closeIconSize:E,borderRadius:R,titleFontWeight:T,titleFontSize:L,padding:P,iconSize:k,actionSpace:D,contentMargin:O,closeSize:M,[f==="top"?"iconMarginIconTop":"iconMargin"]:F,[f==="top"?"closeMarginIconTop":"closeMargin"]:N,[Ce("iconColor",u)]:U}}=l.value;return{"--n-font-size":v,"--n-icon-color":U,"--n-bezier":_,"--n-close-margin":N,"--n-icon-margin":F,"--n-icon-size":k,"--n-close-size":M,"--n-close-icon-size":E,"--n-close-border-radius":y,"--n-close-color-hover":p,"--n-close-color-pressed":C,"--n-close-icon-color":S,"--n-close-icon-color-hover":w,"--n-close-icon-color-pressed":A,"--n-color":x,"--n-text-color":h,"--n-border-radius":R,"--n-padding":P,"--n-line-height":b,"--n-border":g,"--n-content-margin":O,"--n-title-font-size":L,"--n-title-font-weight":T,"--n-title-text-color":m,"--n-action-space":D}}),c=n?Pt("dialog",ne(()=>`${e.type[0]}${o.value[0]}`),s,e):void 0;return{mergedClsPrefix:r,mergedIconPlacement:o,mergedTheme:l,handlePositiveClick:i,handleNegativeClick:a,handleCloseClick:d,cssVars:n?void 0:s,themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender}},render(){var e;const{bordered:t,mergedIconPlacement:r,cssVars:n,closable:o,showIcon:i,title:a,content:d,action:l,negativeText:s,positiveText:c,positiveButtonProps:u,negativeButtonProps:f,handlePositiveClick:_,handleNegativeClick:v,mergedTheme:b,loading:g,type:m,mergedClsPrefix:h}=this;(e=this.onRender)===null||e===void 0||e.call(this);const x=i?I(lt,{clsPrefix:h,class:`${h}-dialog__icon`},{default:()=>Et(this.$slots.icon,p=>p||(this.icon?cr(this.icon):JD[this.type]()))}):null,y=Et(this.$slots.action,p=>p||c||s||l?I("div",{class:`${h}-dialog__action`},p||(l?[cr(l)]:[this.negativeText&&I(un,Object.assign({theme:b.peers.Button,themeOverrides:b.peerOverrides.Button,ghost:!0,size:"small",onClick:v},f),{default:()=>cr(this.negativeText)}),this.positiveText&&I(un,Object.assign({theme:b.peers.Button,themeOverrides:b.peerOverrides.Button,size:"small",type:m==="default"?"primary":m,disabled:g,loading:g,onClick:_},u),{default:()=>cr(this.positiveText)})])):null);return I("div",{class:[`${h}-dialog`,this.themeClass,this.closable&&`${h}-dialog--closable`,`${h}-dialog--icon-${r}`,t&&`${h}-dialog--bordered`],style:n,role:"dialog"},o?I(es,{clsPrefix:h,class:`${h}-dialog__close`,onClick:this.handleCloseClick}):null,i&&r==="top"?I("div",{class:`${h}-dialog-icon-container`},x):null,I("div",{class:`${h}-dialog__title`},i&&r==="left"?x:null,wr(this.$slots.header,()=>[cr(a)])),I("div",{class:[`${h}-dialog__content`,y?"":`${h}-dialog__content--last`]},wr(this.$slots.default,()=>[cr(d)])),y)}}),eI="n-dialog-provider",Am=e=>{const{modalColor:t,textColor2:r,boxShadow3:n}=e;return{color:t,textColor:r,boxShadow:n}},tI={name:"Modal",common:xt,peers:{Scrollbar:Nv,Dialog:Tm,Card:lm},self:Am},rI=tI,nI={name:"Modal",common:Te,peers:{Scrollbar:er,Dialog:Rm,Card:um},self:Am},oI=nI,Lc=Object.assign(Object.assign({},Ec),Ac),iI=rc(Lc),sI=ye({name:"ModalBody",inheritAttrs:!1,props:Object.assign(Object.assign({show:{type:Boolean,required:!0},preset:String,displayDirective:{type:String,required:!0},trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},blockScroll:Boolean},Lc),{renderMask:Function,onClickoutside:Function,onBeforeLeave:{type:Function,required:!0},onAfterLeave:{type:Function,required:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0},onClose:{type:Function,required:!0},onAfterEnter:Function,onEsc:Function}),setup(e){const t=Q(null),r=Q(null),n=Q(e.show),o=Q(null),i=Q(null);tt(Be(e,"show"),g=>{g&&(n.value=!0)}),GS(ne(()=>e.blockScroll&&n.value));const a=$e(_g);function d(){if(a.transformOriginRef.value==="center")return"";const{value:g}=o,{value:m}=i;if(g===null||m===null)return"";if(r.value){const h=r.value.containerScrollTop;return`${g}px ${m+h}px`}return""}function l(g){if(a.transformOriginRef.value==="center")return;const m=a.getMousePosition();if(!m||!r.value)return;const h=r.value.containerScrollTop,{offsetLeft:x,offsetTop:y}=g;if(m){const p=m.y,C=m.x;o.value=-(x-C),i.value=-(y-p-h)}g.style.transformOrigin=d()}function s(g){$t(()=>{l(g)})}function c(g){g.style.transformOrigin=d(),e.onBeforeLeave()}function u(){n.value=!1,o.value=null,i.value=null,e.onAfterLeave()}function f(){const{onClose:g}=e;g&&g()}function _(){e.onNegativeClick()}function v(){e.onPositiveClick()}const b=Q(null);return tt(b,g=>{g&&$t(()=>{const m=g.el;m&&t.value!==m&&(t.value=m)})}),ut(La,t),ut(Pa,null),ut(Zi,null),{mergedTheme:a.mergedThemeRef,appear:a.appearRef,isMounted:a.isMountedRef,mergedClsPrefix:a.mergedClsPrefixRef,bodyRef:t,scrollbarRef:r,displayed:n,childNodeRef:b,handlePositiveClick:v,handleNegativeClick:_,handleCloseClick:f,handleAfterLeave:u,handleBeforeLeave:c,handleEnter:s}},render(){const{$slots:e,$attrs:t,handleEnter:r,handleAfterLeave:n,handleBeforeLeave:o,preset:i,mergedClsPrefix:a}=this;let d=null;if(!i){if(d=ru(e),!d){Wn("modal","default slot is empty");return}d=ir(d),d.props=sr({class:`${a}-modal`},t,d.props||{})}return this.displayDirective==="show"||this.displayed||this.show?yt(I("div",{role:"none",class:`${a}-modal-body-wrapper`},I(Uv,{ref:"scrollbarRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:`${a}-modal-scroll-content`},{default:()=>{var l;return[(l=this.renderMask)===null||l===void 0?void 0:l.call(this),I(Ug,{disabled:!this.trapFocus,active:this.show,onEsc:this.onEsc,autoFocus:this.autoFocus},{default:()=>{var s;return I(Ut,{name:"fade-in-scale-up-transition",appear:(s=this.appear)!==null&&s!==void 0?s:this.isMounted,onEnter:r,onAfterEnter:this.onAfterEnter,onAfterLeave:n,onBeforeLeave:o},{default:()=>{const c=[[Lt,this.show]],{onClickoutside:u}=this;return u&&c.push([su,this.onClickoutside,void 0,{capture:!0}]),yt(this.preset==="confirm"||this.preset==="dialog"?I(QD,Object.assign({},this.$attrs,{class:[`${a}-modal`,this.$attrs.class],ref:"bodyRef",theme:this.mergedTheme.peers.Dialog,themeOverrides:this.mergedTheme.peerOverrides.Dialog},Mi(this.$props,qD),{"aria-modal":"true"}),e):this.preset==="card"?I(wc,Object.assign({},this.$attrs,{ref:"bodyRef",class:[`${a}-modal`,this.$attrs.class],theme:this.mergedTheme.peers.Card,themeOverrides:this.mergedTheme.peerOverrides.Card},Mi(this.$props,OO),{"aria-modal":"true",role:"dialog"}),e):this.childNodeRef=d,c)}})}})]}})),[[Lt,this.displayDirective==="if"||this.displayed||this.show]]):null}}),aI=X([V("modal-container",`
 position: fixed;
 left: 0;
 top: 0;
 height: 0;
 width: 0;
 display: flex;
 `),V("modal-mask",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background-color: rgba(0, 0, 0, .4);
 `,[aa({enterDuration:".25s",leaveDuration:".25s",enterCubicBezier:"var(--n-bezier-ease-out)",leaveCubicBezier:"var(--n-bezier-ease-out)"})]),V("modal-body-wrapper",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: visible;
 `,[V("modal-scroll-content",`
 min-height: 100%;
 display: flex;
 position: relative;
 `)]),V("modal",`
 position: relative;
 align-self: center;
 color: var(--n-text-color);
 margin: auto;
 box-shadow: var(--n-box-shadow);
 `,[ji({duration:".25s",enterScale:".5"})])]),lI=Object.assign(Object.assign(Object.assign(Object.assign({},Ge.props),{show:Boolean,unstableShowMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preset:String,to:[String,Object],displayDirective:{type:String,default:"if"},transformOrigin:{type:String,default:"mouse"},zIndex:Number,autoFocus:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0}}),Lc),{onEsc:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onBeforeLeave:Function,onAfterLeave:Function,onClose:Function,onPositiveClick:Function,onNegativeClick:Function,onMaskClick:Function,internalDialog:Boolean,internalAppear:{type:Boolean,default:void 0},overlayStyle:[String,Object],onBeforeHide:Function,onAfterHide:Function,onHide:Function}),Lm=ye({name:"Modal",inheritAttrs:!1,props:lI,setup(e){const t=Q(null),{mergedClsPrefixRef:r,namespaceRef:n,inlineThemeDisabled:o}=ft(e),i=Ge("Modal","-modal",aI,rI,e,r),a=HC(64),d=zC(),l=qi(),s=e.internalDialog?$e(eI,null):null,c=VS();function u(p){const{onUpdateShow:C,"onUpdate:show":S,onHide:w}=e;C&&et(C,p),S&&et(S,p),w&&!p&&w(p)}function f(){const{onClose:p}=e;p?Promise.resolve(p()).then(C=>{C!==!1&&u(!1)}):u(!1)}function _(){const{onPositiveClick:p}=e;p?Promise.resolve(p()).then(C=>{C!==!1&&u(!1)}):u(!1)}function v(){const{onNegativeClick:p}=e;p?Promise.resolve(p()).then(C=>{C!==!1&&u(!1)}):u(!1)}function b(){const{onBeforeLeave:p,onBeforeHide:C}=e;p&&et(p),C&&C()}function g(){const{onAfterLeave:p,onAfterHide:C}=e;p&&et(p),C&&C()}function m(p){var C;const{onMaskClick:S}=e;S&&S(p),e.maskClosable&&!((C=t.value)===null||C===void 0)&&C.contains(Di(p))&&u(!1)}function h(p){var C;(C=e.onEsc)===null||C===void 0||C.call(e),e.show&&e.closeOnEsc&&OC(p)&&!c.value&&u(!1)}ut(_g,{getMousePosition:()=>{if(s){const{clickedRef:p,clickPositionRef:C}=s;if(p.value&&C.value)return C.value}return a.value?d.value:null},mergedClsPrefixRef:r,mergedThemeRef:i,isMountedRef:l,appearRef:Be(e,"internalAppear"),transformOriginRef:Be(e,"transformOrigin")});const x=ne(()=>{const{common:{cubicBezierEaseOut:p},self:{boxShadow:C,color:S,textColor:w}}=i.value;return{"--n-bezier-ease-out":p,"--n-box-shadow":C,"--n-color":S,"--n-text-color":w}}),y=o?Pt("theme-class",void 0,x,e):void 0;return{mergedClsPrefix:r,namespace:n,isMounted:l,containerRef:t,presetProps:ne(()=>Mi(e,iI)),handleEsc:h,handleAfterLeave:g,handleClickoutside:m,handleBeforeLeave:b,doUpdateShow:u,handleNegativeClick:v,handlePositiveClick:_,handleCloseClick:f,cssVars:o?void 0:x,themeClass:y==null?void 0:y.themeClass,onRender:y==null?void 0:y.onRender}},render(){const{mergedClsPrefix:e}=this;return I(oc,{to:this.to,show:this.show},{default:()=>{var t;(t=this.onRender)===null||t===void 0||t.call(this);const{unstableShowMask:r}=this;return yt(I("div",{role:"none",ref:"containerRef",class:[`${e}-modal-container`,this.themeClass,this.namespace],style:this.cssVars},I(sI,Object.assign({style:this.overlayStyle},this.$attrs,{ref:"bodyWrapper",displayDirective:this.displayDirective,show:this.show,preset:this.preset,autoFocus:this.autoFocus,trapFocus:this.trapFocus,blockScroll:this.blockScroll},this.presetProps,{onEsc:this.handleEsc,onClose:this.handleCloseClick,onNegativeClick:this.handleNegativeClick,onPositiveClick:this.handlePositiveClick,onBeforeLeave:this.handleBeforeLeave,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave,onClickoutside:r?void 0:this.handleClickoutside,renderMask:r?()=>{var n;return I(Ut,{name:"fade-in-transition",key:"mask",appear:(n=this.internalAppear)!==null&&n!==void 0?n:this.isMounted},{default:()=>this.show?I("div",{"aria-hidden":!0,ref:"containerRef",class:`${e}-modal-mask`,onClick:this.handleClickoutside}):null})}:void 0}),this.$slots)),[[ka,{zIndex:this.zIndex,enabled:this.show}]])}})}}),uI=e=>{const{textColor1:t,dividerColor:r,fontWeightStrong:n}=e;return{textColor:t,color:r,fontWeight:n}},cI={name:"Divider",common:Te,self:uI},dI=cI,fI=e=>{const{modalColor:t,textColor1:r,textColor2:n,boxShadow3:o,lineHeight:i,fontWeightStrong:a,dividerColor:d,closeColorHover:l,closeColorPressed:s,closeIconColor:c,closeIconColorHover:u,closeIconColorPressed:f,borderRadius:_,primaryColorHover:v}=e;return{bodyPadding:"16px 24px",headerPadding:"16px 24px",footerPadding:"16px 24px",color:t,textColor:n,titleTextColor:r,titleFontSize:"18px",titleFontWeight:a,boxShadow:o,lineHeight:i,headerBorderBottom:`1px solid ${d}`,footerBorderTop:`1px solid ${d}`,closeIconColor:c,closeIconColorHover:u,closeIconColorPressed:f,closeSize:"22px",closeIconSize:"18px",closeColorHover:l,closeColorPressed:s,closeBorderRadius:_,resizableTriggerColorHover:v}},hI={name:"Drawer",common:Te,peers:{Scrollbar:er},self:fI},pI=hI,gI={actionMargin:"0 0 0 20px",actionMarginRtl:"0 20px 0 0"},vI={name:"DynamicInput",common:Te,peers:{Input:br,Button:tr},self(){return gI}},mI=vI,bI={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},yI={name:"Space",self(){return bI}},Pm=yI,xI={name:"DynamicTags",common:Te,peers:{Input:br,Button:tr,Tag:Kv,Space:Pm},self(){return{inputWidth:"64px"}}},_I=xI,CI={name:"Element",common:Te},SI=CI,EI={feedbackPadding:"4px 0 0 2px",feedbackHeightSmall:"24px",feedbackHeightMedium:"24px",feedbackHeightLarge:"26px",feedbackFontSizeSmall:"13px",feedbackFontSizeMedium:"14px",feedbackFontSizeLarge:"14px",labelFontSizeLeftSmall:"14px",labelFontSizeLeftMedium:"14px",labelFontSizeLeftLarge:"15px",labelFontSizeTopSmall:"13px",labelFontSizeTopMedium:"14px",labelFontSizeTopLarge:"14px",labelHeightSmall:"24px",labelHeightMedium:"26px",labelHeightLarge:"28px",labelPaddingVertical:"0 0 6px 2px",labelPaddingHorizontal:"0 12px 0 0",labelTextAlignVertical:"left",labelTextAlignHorizontal:"right",labelFontWeight:"400"},wI=e=>{const{heightSmall:t,heightMedium:r,heightLarge:n,textColor1:o,errorColor:i,warningColor:a,lineHeight:d,textColor3:l}=e;return Object.assign(Object.assign({},EI),{blankHeightSmall:t,blankHeightMedium:r,blankHeightLarge:n,lineHeight:d,labelTextColor:o,asteriskColor:i,feedbackTextColorError:i,feedbackTextColorWarning:a,feedbackTextColor:l})},TI={name:"Form",common:Te,self:wI},RI=TI,gh=1,km="n-grid",Om=1,AI={span:{type:[Number,String],default:Om},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},LI=ye({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:AI,setup(){const{isSsrRef:e,xGapRef:t,itemStyleRef:r,overflowRef:n,layoutShiftDisabledRef:o}=$e(km),i=ar();return{overflow:n,itemStyle:r,layoutShiftDisabled:o,mergedXGap:ne(()=>go(t.value||0)),deriveStyle:()=>{e.value;const{privateSpan:a=Om,privateShow:d=!0,privateColStart:l=void 0,privateOffset:s=0}=i.vnode.props,{value:c}=t,u=go(c||0);return{display:d?"":"none",gridColumn:`${l??`span ${a}`} / span ${a}`,marginLeft:s?`calc((100% - (${a} - 1) * ${u}) / ${a} * ${s} + ${u} * ${s})`:""}}}},render(){var e,t;if(this.layoutShiftDisabled){const{span:r,offset:n,mergedXGap:o}=this;return I("div",{style:{gridColumn:`span ${r} / span ${r}`,marginLeft:n?`calc((100% - (${r} - 1) * ${o}) / ${r} * ${n} + ${o} * ${n})`:""}},this.$slots)}return I("div",{style:[this.itemStyle,this.deriveStyle()]},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e,{overflow:this.overflow}))}}),PI=ye({name:"GlobalStyle",setup(){if(typeof document>"u")return;const e=$e(Yr,null),{body:t}=document,{style:r}=t;let n=!1,o=!0;mr(()=>{Qt(()=>{var i,a;const{textColor2:d,fontSize:l,fontFamily:s,bodyColor:c,cubicBezierEaseInOut:u,lineHeight:f}=e?mo({},((i=e.mergedThemeRef.value)===null||i===void 0?void 0:i.common)||xt,(a=e.mergedThemeOverridesRef.value)===null||a===void 0?void 0:a.common):xt;if(n||!t.hasAttribute("n-styled")){r.setProperty("-webkit-text-size-adjust","100%"),r.setProperty("-webkit-tap-highlight-color","transparent"),r.padding="0",r.margin="0",r.backgroundColor=c,r.color=d,r.fontSize=l,r.fontFamily=s,r.lineHeight=f;const _=`color .3s ${u}, background-color .3s ${u}`;o?setTimeout(()=>{r.transition=_},0):r.transition=_,t.setAttribute("n-styled",""),n=!0,o=!1}})}),Xn(()=>{n&&t.removeAttribute("n-styled")})},render(){return null}}),kI={name:"GradientText",common:Te,self(e){const{primaryColor:t,successColor:r,warningColor:n,errorColor:o,infoColor:i,primaryColorSuppl:a,successColorSuppl:d,warningColorSuppl:l,errorColorSuppl:s,infoColorSuppl:c,fontWeightStrong:u}=e;return{fontWeight:u,rotate:"252deg",colorStartPrimary:t,colorEndPrimary:a,colorStartInfo:i,colorEndInfo:c,colorStartWarning:n,colorEndWarning:l,colorStartError:o,colorEndError:s,colorStartSuccess:r,colorEndSuccess:d}}},OI=kI,DI={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},Dm=24,Rl="__ssr__",II={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:Dm},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},MI=ye({name:"Grid",inheritAttrs:!1,props:II,setup(e){const{mergedClsPrefixRef:t,mergedBreakpointsRef:r}=ft(e),n=/^\d+$/,o=Q(void 0),i=JC((r==null?void 0:r.value)||DI),a=Dt(()=>!!(e.itemResponsive||!n.test(e.cols.toString())||!n.test(e.xGap.toString())||!n.test(e.yGap.toString()))),d=ne(()=>{if(a.value)return e.responsive==="self"?o.value:i.value}),l=Dt(()=>{var m;return(m=Number(ei(e.cols.toString(),d.value)))!==null&&m!==void 0?m:Dm}),s=Dt(()=>ei(e.xGap.toString(),d.value)),c=Dt(()=>ei(e.yGap.toString(),d.value)),u=m=>{o.value=m.contentRect.width},f=m=>{tc(u,m)},_=Q(!1),v=ne(()=>{if(e.responsive==="self")return f}),b=Q(!1),g=Q();return Rt(()=>{const{value:m}=g;m&&m.hasAttribute(Rl)&&(m.removeAttribute(Rl),b.value=!0)}),ut(km,{layoutShiftDisabledRef:Be(e,"layoutShiftDisabled"),isSsrRef:b,itemStyleRef:Be(e,"itemStyle"),xGapRef:s,overflowRef:_}),{isSsr:!mn,contentEl:g,mergedClsPrefix:t,style:ne(()=>e.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${e.cols}, minmax(0, 1fr))`,columnGap:go(e.xGap),rowGap:go(e.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${l.value}, minmax(0, 1fr))`,columnGap:go(s.value),rowGap:go(c.value)}),isResponsive:a,responsiveQuery:d,responsiveCols:l,handleResize:v,overflow:_}},render(){if(this.layoutShiftDisabled)return I("div",sr({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const e=()=>{var t,r,n,o,i,a,d;this.overflow=!1;const l=$n(nC(this)),s=[],{collapsed:c,collapsedRows:u,responsiveCols:f,responsiveQuery:_}=this;l.forEach(h=>{var x,y,p,C;if(((x=h==null?void 0:h.type)===null||x===void 0?void 0:x.__GRID_ITEM__)!==!0)return;if(aC(h)){const A=ir(h);A.props?A.props.privateShow=!1:A.props={privateShow:!1},s.push({child:A,rawChildSpan:0});return}h.dirs=((y=h.dirs)===null||y===void 0?void 0:y.filter(({dir:A})=>A!==Lt))||null;const S=ir(h),w=Number((C=ei((p=S.props)===null||p===void 0?void 0:p.span,_))!==null&&C!==void 0?C:gh);w!==0&&s.push({child:S,rawChildSpan:w})});let v=0;const b=(t=s[s.length-1])===null||t===void 0?void 0:t.child;if(b!=null&&b.props){const h=(r=b.props)===null||r===void 0?void 0:r.suffix;h!==void 0&&h!==!1&&(v=(o=(n=b.props)===null||n===void 0?void 0:n.span)!==null&&o!==void 0?o:gh,b.props.privateSpan=v,b.props.privateColStart=f+1-v,b.props.privateShow=(i=b.props.privateShow)!==null&&i!==void 0?i:!0)}let g=0,m=!1;for(const{child:h,rawChildSpan:x}of s){if(m&&(this.overflow=!0),!m){const y=Number((d=ei((a=h.props)===null||a===void 0?void 0:a.offset,_))!==null&&d!==void 0?d:0),p=Math.min(x+y,f);if(h.props?(h.props.privateSpan=p,h.props.privateOffset=y):h.props={privateSpan:p,privateOffset:y},c){const C=g%f;p+C>f&&(g+=f-C),p+g+v>u*f?m=!0:g+=p}}m&&(h.props?h.props.privateShow!==!0&&(h.props.privateShow=!1):h.props={privateShow:!1})}return I("div",sr({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[Rl]:this.isSsr||void 0},this.$attrs),s.map(({child:h})=>h))};return this.isResponsive&&this.responsive==="self"?I(Gn,{onResize:this.handleResize},{default:e}):e()}}),FI=e=>{const{primaryColor:t,baseColor:r}=e;return{color:t,iconColor:r}},BI={name:"IconWrapper",common:Te,self:FI},NI=BI,Pc=Object.assign(Object.assign({},Ge.props),{showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean}),Im="n-image";function $I(){return{toolbarIconColor:"rgba(255, 255, 255, .9)",toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}const UI={name:"Image",common:xt,peers:{Tooltip:gm},self:$I},zI={closeMargin:"16px 12px",closeSize:"20px",closeIconSize:"16px",width:"365px",padding:"16px",titleFontSize:"16px",metaFontSize:"12px",descriptionFontSize:"12px"},jI=e=>{const{textColor2:t,successColor:r,infoColor:n,warningColor:o,errorColor:i,popoverColor:a,closeIconColor:d,closeIconColorHover:l,closeIconColorPressed:s,closeColorHover:c,closeColorPressed:u,textColor1:f,textColor3:_,borderRadius:v,fontWeightStrong:b,boxShadow2:g,lineHeight:m,fontSize:h}=e;return Object.assign(Object.assign({},zI),{borderRadius:v,lineHeight:m,fontSize:h,headerFontWeight:b,iconColor:t,iconColorSuccess:r,iconColorInfo:n,iconColorWarning:o,iconColorError:i,color:a,textColor:t,closeIconColor:d,closeIconColorHover:l,closeIconColorPressed:s,closeBorderRadius:v,closeColorHover:c,closeColorPressed:u,headerTextColor:f,descriptionTextColor:_,actionTextColor:t,boxShadow:g})},HI={name:"Notification",common:Te,peers:{Scrollbar:er},self:jI},WI=HI,GI={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 10px",closeSize:"20px",closeIconSize:"16px",iconSize:"20px",fontSize:"14px"},Mm=e=>{const{textColor2:t,closeIconColor:r,closeIconColorHover:n,closeIconColorPressed:o,infoColor:i,successColor:a,errorColor:d,warningColor:l,popoverColor:s,boxShadow2:c,primaryColor:u,lineHeight:f,borderRadius:_,closeColorHover:v,closeColorPressed:b}=e;return Object.assign(Object.assign({},GI),{closeBorderRadius:_,textColor:t,textColorInfo:t,textColorSuccess:t,textColorError:t,textColorWarning:t,textColorLoading:t,color:s,colorInfo:s,colorSuccess:s,colorError:s,colorWarning:s,colorLoading:s,boxShadow:c,boxShadowInfo:c,boxShadowSuccess:c,boxShadowError:c,boxShadowWarning:c,boxShadowLoading:c,iconColor:t,iconColorInfo:i,iconColorSuccess:a,iconColorWarning:l,iconColorError:d,iconColorLoading:u,closeColorHover:v,closeColorPressed:b,closeIconColor:r,closeIconColorHover:n,closeIconColorPressed:o,closeColorHoverInfo:v,closeColorPressedInfo:b,closeIconColorInfo:r,closeIconColorHoverInfo:n,closeIconColorPressedInfo:o,closeColorHoverSuccess:v,closeColorPressedSuccess:b,closeIconColorSuccess:r,closeIconColorHoverSuccess:n,closeIconColorPressedSuccess:o,closeColorHoverError:v,closeColorPressedError:b,closeIconColorError:r,closeIconColorHoverError:n,closeIconColorPressedError:o,closeColorHoverWarning:v,closeColorPressedWarning:b,closeIconColorWarning:r,closeIconColorHoverWarning:n,closeIconColorPressedWarning:o,closeColorHoverLoading:v,closeColorPressedLoading:b,closeIconColorLoading:r,closeIconColorHoverLoading:n,closeIconColorPressedLoading:o,loadingColor:u,lineHeight:f,borderRadius:_})},VI={name:"Message",common:xt,self:Mm},KI=VI,YI={name:"Message",common:Te,self:Mm},XI=YI,qI={name:"ButtonGroup",common:Te},ZI=qI,JI={name:"InputNumber",common:Te,peers:{Button:tr,Input:br},self(e){const{textColorDisabled:t}=e;return{iconColorDisabled:t}}},QI=JI,e5={name:"Layout",common:Te,peers:{Scrollbar:er},self(e){const{textColor2:t,bodyColor:r,popoverColor:n,cardColor:o,dividerColor:i,scrollbarColor:a,scrollbarColorHover:d}=e;return{textColor:t,textColorInverted:t,color:r,colorEmbedded:r,headerColor:o,headerColorInverted:o,footerColor:o,footerColorInverted:o,headerBorderColor:i,headerBorderColorInverted:i,footerBorderColor:i,footerBorderColorInverted:i,siderBorderColor:i,siderBorderColorInverted:i,siderColor:o,siderColorInverted:o,siderToggleButtonBorder:"1px solid transparent",siderToggleButtonColor:n,siderToggleButtonIconColor:t,siderToggleButtonIconColorInverted:t,siderToggleBarColor:Ie(r,a),siderToggleBarColorHover:Ie(r,d),__invertScrollbar:"false"}}},t5=e5,r5=e=>{const{textColor2:t,cardColor:r,modalColor:n,popoverColor:o,dividerColor:i,borderRadius:a,fontSize:d,hoverColor:l}=e;return{textColor:t,color:r,colorHover:l,colorModal:n,colorHoverModal:Ie(n,l),colorPopover:o,colorHoverPopover:Ie(o,l),borderColor:i,borderColorModal:Ie(n,i),borderColorPopover:Ie(o,i),borderRadius:a,fontSize:d}},n5={name:"List",common:Te,self:r5},o5=n5,i5={name:"LoadingBar",common:Te,self(e){const{primaryColor:t}=e;return{colorError:"red",colorLoading:t,height:"2px"}}},s5=i5,a5={name:"Log",common:Te,peers:{Scrollbar:er,Code:cm},self(e){const{textColor2:t,inputColor:r,fontSize:n,primaryColor:o}=e;return{loaderFontSize:n,loaderTextColor:t,loaderColor:r,loaderBorder:"1px solid #0000",loadingColor:o}}},l5=a5,u5={name:"Mention",common:Te,peers:{InternalSelectMenu:ts,Input:br},self(e){const{boxShadow2:t}=e;return{menuBoxShadow:t}}},c5=u5;function d5(e,t,r,n){return{itemColorHoverInverted:"#0000",itemColorActiveInverted:t,itemColorActiveHoverInverted:t,itemColorActiveCollapsedInverted:t,itemTextColorInverted:e,itemTextColorHoverInverted:r,itemTextColorChildActiveInverted:r,itemTextColorChildActiveHoverInverted:r,itemTextColorActiveInverted:r,itemTextColorActiveHoverInverted:r,itemTextColorHorizontalInverted:e,itemTextColorHoverHorizontalInverted:r,itemTextColorChildActiveHorizontalInverted:r,itemTextColorChildActiveHoverHorizontalInverted:r,itemTextColorActiveHorizontalInverted:r,itemTextColorActiveHoverHorizontalInverted:r,itemIconColorInverted:e,itemIconColorHoverInverted:r,itemIconColorActiveInverted:r,itemIconColorActiveHoverInverted:r,itemIconColorChildActiveInverted:r,itemIconColorChildActiveHoverInverted:r,itemIconColorCollapsedInverted:e,itemIconColorHorizontalInverted:e,itemIconColorHoverHorizontalInverted:r,itemIconColorActiveHorizontalInverted:r,itemIconColorActiveHoverHorizontalInverted:r,itemIconColorChildActiveHorizontalInverted:r,itemIconColorChildActiveHoverHorizontalInverted:r,arrowColorInverted:e,arrowColorHoverInverted:r,arrowColorActiveInverted:r,arrowColorActiveHoverInverted:r,arrowColorChildActiveInverted:r,arrowColorChildActiveHoverInverted:r,groupTextColorInverted:n}}const f5=e=>{const{borderRadius:t,textColor3:r,primaryColor:n,textColor2:o,textColor1:i,fontSize:a,dividerColor:d,hoverColor:l,primaryColorHover:s}=e;return Object.assign({borderRadius:t,color:"#0000",groupTextColor:r,itemColorHover:l,itemColorActive:Ae(n,{alpha:.1}),itemColorActiveHover:Ae(n,{alpha:.1}),itemColorActiveCollapsed:Ae(n,{alpha:.1}),itemTextColor:o,itemTextColorHover:o,itemTextColorActive:n,itemTextColorActiveHover:n,itemTextColorChildActive:n,itemTextColorChildActiveHover:n,itemTextColorHorizontal:o,itemTextColorHoverHorizontal:s,itemTextColorActiveHorizontal:n,itemTextColorActiveHoverHorizontal:n,itemTextColorChildActiveHorizontal:n,itemTextColorChildActiveHoverHorizontal:n,itemIconColor:i,itemIconColorHover:i,itemIconColorActive:n,itemIconColorActiveHover:n,itemIconColorChildActive:n,itemIconColorChildActiveHover:n,itemIconColorCollapsed:i,itemIconColorHorizontal:i,itemIconColorHoverHorizontal:s,itemIconColorActiveHorizontal:n,itemIconColorActiveHoverHorizontal:n,itemIconColorChildActiveHorizontal:n,itemIconColorChildActiveHoverHorizontal:n,itemHeight:"42px",arrowColor:o,arrowColorHover:o,arrowColorActive:n,arrowColorActiveHover:n,arrowColorChildActive:n,arrowColorChildActiveHover:n,colorInverted:"#0000",borderColorHorizontal:"#0000",fontSize:a,dividerColor:d},d5("#BBB",n,"#FFF","#AAA"))},h5={name:"Menu",common:Te,peers:{Tooltip:Na,Dropdown:Tc},self(e){const{primaryColor:t,primaryColorSuppl:r}=e,n=f5(e);return n.itemColorActive=Ae(t,{alpha:.15}),n.itemColorActiveHover=Ae(t,{alpha:.15}),n.itemColorActiveCollapsed=Ae(t,{alpha:.15}),n.itemColorActiveInverted=r,n.itemColorActiveHoverInverted=r,n.itemColorActiveCollapsedInverted=r,n}},p5=h5,g5={titleFontSize:"18px",backSize:"22px"};function v5(e){const{textColor1:t,textColor2:r,textColor3:n,fontSize:o,fontWeightStrong:i,primaryColorHover:a,primaryColorPressed:d}=e;return Object.assign(Object.assign({},g5),{titleFontWeight:i,fontSize:o,titleTextColor:t,backColor:r,backColorHover:a,backColorPressed:d,subtitleTextColor:n})}const m5={name:"PageHeader",common:Te,self:v5},b5={iconSize:"22px"},y5=e=>{const{fontSize:t,warningColor:r}=e;return Object.assign(Object.assign({},b5),{fontSize:t,iconColor:r})},x5={name:"Popconfirm",common:Te,peers:{Button:tr,Popover:ro},self:y5},_5=x5,Fm=e=>{const{infoColor:t,successColor:r,warningColor:n,errorColor:o,textColor2:i,progressRailColor:a,fontSize:d,fontWeight:l}=e;return{fontSize:d,fontSizeCircle:"28px",fontWeightCircle:l,railColor:a,railHeight:"8px",iconSizeCircle:"36px",iconSizeLine:"18px",iconColor:t,iconColorInfo:t,iconColorSuccess:r,iconColorWarning:n,iconColorError:o,textColorCircle:i,textColorLineInner:"rgb(255, 255, 255)",textColorLineOuter:i,fillColor:t,fillColorInfo:t,fillColorSuccess:r,fillColorWarning:n,fillColorError:o,lineBgProcessing:"linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)"}},Bm={name:"Progress",common:xt,self:Fm},C5={name:"Progress",common:Te,self(e){const t=Fm(e);return t.textColorLineInner="rgb(0, 0, 0)",t.lineBgProcessing="linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)",t}},Nm=C5,S5={name:"Rate",common:Te,self(e){const{railColor:t}=e;return{itemColor:t,itemColorActive:"#CCAA33",itemSize:"20px",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}},E5=S5,w5={titleFontSizeSmall:"26px",titleFontSizeMedium:"32px",titleFontSizeLarge:"40px",titleFontSizeHuge:"48px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",iconSizeSmall:"64px",iconSizeMedium:"80px",iconSizeLarge:"100px",iconSizeHuge:"125px",iconColor418:void 0,iconColor404:void 0,iconColor403:void 0,iconColor500:void 0},$m=e=>{const{textColor2:t,textColor1:r,errorColor:n,successColor:o,infoColor:i,warningColor:a,lineHeight:d,fontWeightStrong:l}=e;return Object.assign(Object.assign({},w5),{lineHeight:d,titleFontWeight:l,titleTextColor:r,textColor:t,iconColorError:n,iconColorSuccess:o,iconColorInfo:i,iconColorWarning:a})},T5={name:"Result",common:xt,self:$m},R5=T5,A5={name:"Result",common:Te,self:$m},L5=A5,P5={railHeight:"4px",railWidthVertical:"4px",handleSize:"18px",dotHeight:"8px",dotWidth:"8px",dotBorderRadius:"4px"},k5={name:"Slider",common:Te,self(e){const t="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:r,modalColor:n,primaryColorSuppl:o,popoverColor:i,textColor2:a,cardColor:d,borderRadius:l,fontSize:s,opacityDisabled:c}=e;return Object.assign(Object.assign({},P5),{fontSize:s,markFontSize:s,railColor:r,railColorHover:r,fillColor:o,fillColorHover:o,opacityDisabled:c,handleColor:"#FFF",dotColor:d,dotColorModal:n,dotColorPopover:i,handleBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowHover:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowActive:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowFocus:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",indicatorColor:i,indicatorBoxShadow:t,indicatorTextColor:a,indicatorBorderRadius:l,dotBorder:`2px solid ${r}`,dotBorderActive:`2px solid ${o}`,dotBoxShadow:""})}},O5=k5,D5=e=>{const{opacityDisabled:t,heightTiny:r,heightSmall:n,heightMedium:o,heightLarge:i,heightHuge:a,primaryColor:d,fontSize:l}=e;return{fontSize:l,textColor:d,sizeTiny:r,sizeSmall:n,sizeMedium:o,sizeLarge:i,sizeHuge:a,color:d,opacitySpinning:t}},I5={name:"Spin",common:Te,self:D5},M5=I5,F5=e=>{const{textColor2:t,textColor3:r,fontSize:n,fontWeight:o}=e;return{labelFontSize:n,labelFontWeight:o,valueFontWeight:o,valueFontSize:"24px",labelTextColor:r,valuePrefixTextColor:t,valueSuffixTextColor:t,valueTextColor:t}},B5={name:"Statistic",common:Te,self:F5},N5=B5,$5={stepHeaderFontSizeSmall:"14px",stepHeaderFontSizeMedium:"16px",indicatorIndexFontSizeSmall:"14px",indicatorIndexFontSizeMedium:"16px",indicatorSizeSmall:"22px",indicatorSizeMedium:"28px",indicatorIconSizeSmall:"14px",indicatorIconSizeMedium:"18px"},U5=e=>{const{fontWeightStrong:t,baseColor:r,textColorDisabled:n,primaryColor:o,errorColor:i,textColor1:a,textColor2:d}=e;return Object.assign(Object.assign({},$5),{stepHeaderFontWeight:t,indicatorTextColorProcess:r,indicatorTextColorWait:n,indicatorTextColorFinish:o,indicatorTextColorError:i,indicatorBorderColorProcess:o,indicatorBorderColorWait:n,indicatorBorderColorFinish:o,indicatorBorderColorError:i,indicatorColorProcess:o,indicatorColorWait:"#0000",indicatorColorFinish:"#0000",indicatorColorError:"#0000",splitorColorProcess:n,splitorColorWait:n,splitorColorFinish:o,splitorColorError:n,headerTextColorProcess:a,headerTextColorWait:n,headerTextColorFinish:n,headerTextColorError:i,descriptionTextColorProcess:d,descriptionTextColorWait:n,descriptionTextColorFinish:n,descriptionTextColorError:i})},z5={name:"Steps",common:Te,self:U5},j5=z5,H5={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"},W5={name:"Switch",common:Te,self(e){const{primaryColorSuppl:t,opacityDisabled:r,borderRadius:n,primaryColor:o,textColor2:i,baseColor:a}=e,d="rgba(255, 255, 255, .20)";return Object.assign(Object.assign({},H5),{iconColor:a,textColor:i,loadingColor:t,opacityDisabled:r,railColor:d,railColorActive:t,buttonBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",buttonColor:"#FFF",railBorderRadiusSmall:n,railBorderRadiusMedium:n,railBorderRadiusLarge:n,buttonBorderRadiusSmall:n,buttonBorderRadiusMedium:n,buttonBorderRadiusLarge:n,boxShadowFocus:`0 0 8px 0 ${Ae(o,{alpha:.3})}`})}},G5=W5,V5={thPaddingSmall:"6px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"6px",tdPaddingMedium:"12px",tdPaddingLarge:"12px"},K5=e=>{const{dividerColor:t,cardColor:r,modalColor:n,popoverColor:o,tableHeaderColor:i,tableColorStriped:a,textColor1:d,textColor2:l,borderRadius:s,fontWeightStrong:c,lineHeight:u,fontSizeSmall:f,fontSizeMedium:_,fontSizeLarge:v}=e;return Object.assign(Object.assign({},V5),{fontSizeSmall:f,fontSizeMedium:_,fontSizeLarge:v,lineHeight:u,borderRadius:s,borderColor:Ie(r,t),borderColorModal:Ie(n,t),borderColorPopover:Ie(o,t),tdColor:r,tdColorModal:n,tdColorPopover:o,tdColorStriped:Ie(r,a),tdColorStripedModal:Ie(n,a),tdColorStripedPopover:Ie(o,a),thColor:Ie(r,i),thColorModal:Ie(n,i),thColorPopover:Ie(o,i),thTextColor:d,tdTextColor:l,thFontWeight:c})},Y5={name:"Table",common:Te,self:K5},X5=Y5,q5={tabFontSizeSmall:"14px",tabFontSizeMedium:"14px",tabFontSizeLarge:"16px",tabGapSmallLine:"36px",tabGapMediumLine:"36px",tabGapLargeLine:"36px",tabGapSmallLineVertical:"8px",tabGapMediumLineVertical:"8px",tabGapLargeLineVertical:"8px",tabPaddingSmallLine:"6px 0",tabPaddingMediumLine:"10px 0",tabPaddingLargeLine:"14px 0",tabPaddingVerticalSmallLine:"6px 12px",tabPaddingVerticalMediumLine:"8px 16px",tabPaddingVerticalLargeLine:"10px 20px",tabGapSmallBar:"36px",tabGapMediumBar:"36px",tabGapLargeBar:"36px",tabGapSmallBarVertical:"8px",tabGapMediumBarVertical:"8px",tabGapLargeBarVertical:"8px",tabPaddingSmallBar:"4px 0",tabPaddingMediumBar:"6px 0",tabPaddingLargeBar:"10px 0",tabPaddingVerticalSmallBar:"6px 12px",tabPaddingVerticalMediumBar:"8px 16px",tabPaddingVerticalLargeBar:"10px 20px",tabGapSmallCard:"4px",tabGapMediumCard:"4px",tabGapLargeCard:"4px",tabGapSmallCardVertical:"4px",tabGapMediumCardVertical:"4px",tabGapLargeCardVertical:"4px",tabPaddingSmallCard:"8px 16px",tabPaddingMediumCard:"10px 20px",tabPaddingLargeCard:"12px 24px",tabPaddingSmallSegment:"4px 0",tabPaddingMediumSegment:"6px 0",tabPaddingLargeSegment:"8px 0",tabPaddingVerticalLargeSegment:"0 8px",tabPaddingVerticalSmallCard:"8px 12px",tabPaddingVerticalMediumCard:"10px 16px",tabPaddingVerticalLargeCard:"12px 20px",tabPaddingVerticalSmallSegment:"0 4px",tabPaddingVerticalMediumSegment:"0 6px",tabGapSmallSegment:"0",tabGapMediumSegment:"0",tabGapLargeSegment:"0",tabGapSmallSegmentVertical:"0",tabGapMediumSegmentVertical:"0",tabGapLargeSegmentVertical:"0",panePaddingSmall:"8px 0 0 0",panePaddingMedium:"12px 0 0 0",panePaddingLarge:"16px 0 0 0",closeSize:"18px",closeIconSize:"14px"},Um=e=>{const{textColor2:t,primaryColor:r,textColorDisabled:n,closeIconColor:o,closeIconColorHover:i,closeIconColorPressed:a,closeColorHover:d,closeColorPressed:l,tabColor:s,baseColor:c,dividerColor:u,fontWeight:f,textColor1:_,borderRadius:v,fontSize:b,fontWeightStrong:g}=e;return Object.assign(Object.assign({},q5),{colorSegment:s,tabFontSizeCard:b,tabTextColorLine:_,tabTextColorActiveLine:r,tabTextColorHoverLine:r,tabTextColorDisabledLine:n,tabTextColorSegment:_,tabTextColorActiveSegment:t,tabTextColorHoverSegment:t,tabTextColorDisabledSegment:n,tabTextColorBar:_,tabTextColorActiveBar:r,tabTextColorHoverBar:r,tabTextColorDisabledBar:n,tabTextColorCard:_,tabTextColorHoverCard:_,tabTextColorActiveCard:r,tabTextColorDisabledCard:n,barColor:r,closeIconColor:o,closeIconColorHover:i,closeIconColorPressed:a,closeColorHover:d,closeColorPressed:l,closeBorderRadius:v,tabColor:s,tabColorSegment:c,tabBorderColor:u,tabFontWeightActive:f,tabFontWeight:f,tabBorderRadius:v,paneTextColor:t,fontWeightStrong:g})},Z5={name:"Tabs",common:xt,self:Um},J5=Z5,Q5={name:"Tabs",common:Te,self(e){const t=Um(e),{inputColor:r}=e;return t.colorSegment=r,t.tabColorSegment=r,t}},e4=Q5,t4=e=>{const{textColor1:t,textColor2:r,fontWeightStrong:n,fontSize:o}=e;return{fontSize:o,titleTextColor:t,textColor:r,titleFontWeight:n}},r4={name:"Thing",common:Te,self:t4},n4=r4,o4={titleMarginMedium:"0 0 6px 0",titleMarginLarge:"-2px 0 6px 0",titleFontSizeMedium:"14px",titleFontSizeLarge:"16px",iconSizeMedium:"14px",iconSizeLarge:"14px"},i4={name:"Timeline",common:Te,self(e){const{textColor3:t,infoColorSuppl:r,errorColorSuppl:n,successColorSuppl:o,warningColorSuppl:i,textColor1:a,textColor2:d,railColor:l,fontWeightStrong:s,fontSize:c}=e;return Object.assign(Object.assign({},o4),{contentFontSize:c,titleFontWeight:s,circleBorder:`2px solid ${t}`,circleBorderInfo:`2px solid ${r}`,circleBorderError:`2px solid ${n}`,circleBorderSuccess:`2px solid ${o}`,circleBorderWarning:`2px solid ${i}`,iconColor:t,iconColorInfo:r,iconColorError:n,iconColorSuccess:o,iconColorWarning:i,titleTextColor:a,contentTextColor:d,metaTextColor:t,lineColor:l})}},s4=i4,a4={extraFontSizeSmall:"12px",extraFontSizeMedium:"12px",extraFontSizeLarge:"14px",titleFontSizeSmall:"14px",titleFontSizeMedium:"16px",titleFontSizeLarge:"16px",closeSize:"20px",closeIconSize:"16px",headerHeightSmall:"44px",headerHeightMedium:"44px",headerHeightLarge:"50px"},l4={name:"Transfer",common:Te,peers:{Checkbox:jo,Scrollbar:er,Input:br,Empty:to,Button:tr},self(e){const{fontWeight:t,fontSizeLarge:r,fontSizeMedium:n,fontSizeSmall:o,heightLarge:i,heightMedium:a,borderRadius:d,inputColor:l,tableHeaderColor:s,textColor1:c,textColorDisabled:u,textColor2:f,textColor3:_,hoverColor:v,closeColorHover:b,closeColorPressed:g,closeIconColor:m,closeIconColorHover:h,closeIconColorPressed:x,dividerColor:y}=e;return Object.assign(Object.assign({},a4),{itemHeightSmall:a,itemHeightMedium:a,itemHeightLarge:i,fontSizeSmall:o,fontSizeMedium:n,fontSizeLarge:r,borderRadius:d,dividerColor:y,borderColor:"#0000",listColor:l,headerColor:s,titleTextColor:c,titleTextColorDisabled:u,extraTextColor:_,extraTextColorDisabled:u,itemTextColor:f,itemTextColorDisabled:u,itemColorPending:v,titleFontWeight:t,closeColorHover:b,closeColorPressed:g,closeIconColor:m,closeIconColorHover:h,closeIconColorPressed:x})}},u4=l4,c4=e=>{const{borderRadiusSmall:t,hoverColor:r,pressedColor:n,primaryColor:o,textColor3:i,textColor2:a,textColorDisabled:d,fontSize:l}=e;return{fontSize:l,nodeBorderRadius:t,nodeColorHover:r,nodeColorPressed:n,nodeColorActive:Ae(o,{alpha:.1}),arrowColor:i,nodeTextColor:a,nodeTextColorDisabled:d,loadingColor:o,dropMarkColor:o}},d4={name:"Tree",common:Te,peers:{Checkbox:jo,Scrollbar:er,Empty:to},self(e){const{primaryColor:t}=e,r=c4(e);return r.nodeColorActive=Ae(t,{alpha:.15}),r}},zm=d4,f4={name:"TreeSelect",common:Te,peers:{Tree:zm,Empty:to,InternalSelection:Cc}},h4=f4,p4={headerFontSize1:"30px",headerFontSize2:"22px",headerFontSize3:"18px",headerFontSize4:"16px",headerFontSize5:"16px",headerFontSize6:"16px",headerMargin1:"28px 0 20px 0",headerMargin2:"28px 0 20px 0",headerMargin3:"28px 0 20px 0",headerMargin4:"28px 0 18px 0",headerMargin5:"28px 0 18px 0",headerMargin6:"28px 0 18px 0",headerPrefixWidth1:"16px",headerPrefixWidth2:"16px",headerPrefixWidth3:"12px",headerPrefixWidth4:"12px",headerPrefixWidth5:"12px",headerPrefixWidth6:"12px",headerBarWidth1:"4px",headerBarWidth2:"4px",headerBarWidth3:"3px",headerBarWidth4:"3px",headerBarWidth5:"3px",headerBarWidth6:"3px",pMargin:"16px 0 16px 0",liMargin:".25em 0 0 0",olPadding:"0 0 0 2em",ulPadding:"0 0 0 2em"},jm=e=>{const{primaryColor:t,textColor2:r,borderColor:n,lineHeight:o,fontSize:i,borderRadiusSmall:a,dividerColor:d,fontWeightStrong:l,textColor1:s,textColor3:c,infoColor:u,warningColor:f,errorColor:_,successColor:v,codeColor:b}=e;return Object.assign(Object.assign({},p4),{aTextColor:t,blockquoteTextColor:r,blockquotePrefixColor:n,blockquoteLineHeight:o,blockquoteFontSize:i,codeBorderRadius:a,liTextColor:r,liLineHeight:o,liFontSize:i,hrColor:d,headerFontWeight:l,headerTextColor:s,pTextColor:r,pTextColor1Depth:s,pTextColor2Depth:r,pTextColor3Depth:c,pLineHeight:o,pFontSize:i,headerBarColor:t,headerBarColorPrimary:t,headerBarColorInfo:u,headerBarColorError:_,headerBarColorWarning:f,headerBarColorSuccess:v,textColor:r,textColor1Depth:s,textColor2Depth:r,textColor3Depth:c,textColorPrimary:t,textColorInfo:u,textColorSuccess:v,textColorWarning:f,textColorError:_,codeTextColor:r,codeColor:b,codeBorder:"1px solid #0000"})},g4={name:"Typography",common:xt,self:jm},Hm=g4,v4={name:"Typography",common:Te,self:jm},m4=v4,Wm=e=>{const{iconColor:t,primaryColor:r,errorColor:n,textColor2:o,successColor:i,opacityDisabled:a,actionColor:d,borderColor:l,hoverColor:s,lineHeight:c,borderRadius:u,fontSize:f}=e;return{fontSize:f,lineHeight:c,borderRadius:u,draggerColor:d,draggerBorder:`1px dashed ${l}`,draggerBorderHover:`1px dashed ${r}`,itemColorHover:s,itemColorHoverError:Ae(n,{alpha:.06}),itemTextColor:o,itemTextColorError:n,itemTextColorSuccess:i,itemIconColor:t,itemDisabledOpacity:a,itemBorderImageCardError:`1px solid ${n}`,itemBorderImageCard:`1px solid ${l}`}},b4={name:"Upload",common:xt,peers:{Button:Sc,Progress:Bm},self:Wm},y4=b4,x4={name:"Upload",common:Te,peers:{Button:tr,Progress:Nm},self(e){const{errorColor:t}=e,r=Wm(e);return r.itemColorHoverError=Ae(t,{alpha:.09}),r}},_4=x4,C4={name:"Watermark",common:Te,self(e){const{fontFamily:t}=e;return{fontFamily:t}}},S4=C4,E4={name:"Row",common:Te},w4=E4,T4={name:"Image",common:Te,peers:{Tooltip:Na},self:e=>{const{textColor2:t}=e;return{toolbarIconColor:t,toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}},R4=I("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"})),A4=I("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"})),L4=I("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"})),P4=X([X("body >",[V("image-container","position: fixed;")]),V("image-preview-container",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `),V("image-preview-overlay",`
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `,[aa()]),V("image-preview-toolbar",`
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[V("base-icon",`
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `),aa()]),V("image-preview-wrapper",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `,[ji()]),V("image-preview",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `),V("image",`
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `,[Gt("preview-disabled",`
 cursor: pointer;
 `),X("img",`
 border-radius: inherit;
 `)])]),ws=32,Gm=ye({name:"ImagePreview",props:Object.assign(Object.assign({},Pc),{onNext:Function,onPrev:Function,clsPrefix:{type:String,required:!0}}),setup(e){const t=Ge("Image","-image",P4,UI,e,Be(e,"clsPrefix"));let r=null;const n=Q(null),o=Q(null),i=Q(void 0),a=Q(!1),d=Q(!1),{localeRef:l}=Lv("Image");function s(){const{value:B}=o;if(!r||!B)return;const{style:$}=B,z=r.getBoundingClientRect(),Y=z.left+z.width/2,j=z.top+z.height/2;$.transformOrigin=`${Y}px ${j}px`}function c(B){var $,z;switch(B.key){case" ":B.preventDefault();break;case"ArrowLeft":($=e.onPrev)===null||$===void 0||$.call(e);break;case"ArrowRight":(z=e.onNext)===null||z===void 0||z.call(e);break;case"Escape":de();break}}tt(a,B=>{B?ct("keydown",document,c):st("keydown",document,c)}),_t(()=>{st("keydown",document,c)});let u=0,f=0,_=0,v=0,b=0,g=0,m=0,h=0,x=!1;function y(B){const{clientX:$,clientY:z}=B;_=$-u,v=z-f,tc(Z)}function p(B){const{mouseUpClientX:$,mouseUpClientY:z,mouseDownClientX:Y,mouseDownClientY:j}=B,K=Y-$,te=j-z,re=`vertical${te>0?"Top":"Bottom"}`,ue=`horizontal${K>0?"Left":"Right"}`;return{moveVerticalDirection:re,moveHorizontalDirection:ue,deltaHorizontal:K,deltaVertical:te}}function C(B){const{value:$}=n;if(!$)return{offsetX:0,offsetY:0};const z=$.getBoundingClientRect(),{moveVerticalDirection:Y,moveHorizontalDirection:j,deltaHorizontal:K,deltaVertical:te}=B||{};let re=0,ue=0;return z.width<=window.innerWidth?re=0:z.left>0?re=(z.width-window.innerWidth)/2:z.right<window.innerWidth?re=-(z.width-window.innerWidth)/2:j==="horizontalRight"?re=Math.min((z.width-window.innerWidth)/2,b-(K??0)):re=Math.max(-((z.width-window.innerWidth)/2),b-(K??0)),z.height<=window.innerHeight?ue=0:z.top>0?ue=(z.height-window.innerHeight)/2:z.bottom<window.innerHeight?ue=-(z.height-window.innerHeight)/2:Y==="verticalBottom"?ue=Math.min((z.height-window.innerHeight)/2,g-(te??0)):ue=Math.max(-((z.height-window.innerHeight)/2),g-(te??0)),{offsetX:re,offsetY:ue}}function S(B){st("mousemove",document,y),st("mouseup",document,S);const{clientX:$,clientY:z}=B;x=!1;const Y=p({mouseUpClientX:$,mouseUpClientY:z,mouseDownClientX:m,mouseDownClientY:h}),j=C(Y);_=j.offsetX,v=j.offsetY,Z()}const w=$e(Im,null);function A(B){var $,z;if((z=($=w==null?void 0:w.previewedImgPropsRef.value)===null||$===void 0?void 0:$.onMousedown)===null||z===void 0||z.call($,B),B.button!==0)return;const{clientX:Y,clientY:j}=B;x=!0,u=Y-_,f=j-v,b=_,g=v,m=Y,h=j,Z(),ct("mousemove",document,y),ct("mouseup",document,S)}function E(B){var $,z;(z=($=w==null?void 0:w.previewedImgPropsRef.value)===null||$===void 0?void 0:$.onDblclick)===null||z===void 0||z.call($,B);const Y=U();L=L===Y?1:Y,Z()}const R=1.5;let T=0,L=1,P=0;function k(){L=1,T=0}function D(){var B;k(),P=0,(B=e.onPrev)===null||B===void 0||B.call(e)}function O(){var B;k(),P=0,(B=e.onNext)===null||B===void 0||B.call(e)}function M(){P-=90,Z()}function F(){P+=90,Z()}function N(){const{value:B}=n;if(!B)return 1;const{innerWidth:$,innerHeight:z}=window,Y=Math.max(1,B.naturalHeight/(z-ws)),j=Math.max(1,B.naturalWidth/($-ws));return Math.max(3,Y*2,j*2)}function U(){const{value:B}=n;if(!B)return 1;const{innerWidth:$,innerHeight:z}=window,Y=B.naturalHeight/(z-ws),j=B.naturalWidth/($-ws);return Y<1&&j<1?1:Math.max(Y,j)}function G(){const B=N();L<B&&(T+=1,L=Math.min(B,Math.pow(R,T)),Z())}function H(){if(L>.5){const B=L;T-=1,L=Math.max(.5,Math.pow(R,T));const $=B-L;Z(!1);const z=C();L+=$,Z(!1),L-=$,_=z.offsetX,v=z.offsetY,Z()}}function Z(B=!0){var $;const{value:z}=n;if(!z)return;const{style:Y}=z,j=dr(($=w==null?void 0:w.previewedImgPropsRef.value)===null||$===void 0?void 0:$.style);let K="";if(typeof j=="string")K=j+";";else for(const re in j)K+=`${KA(re)}: ${j[re]};`;const te=`transform-origin: center; transform: translateX(${_}px) translateY(${v}px) rotate(${P}deg) scale(${L});`;x?Y.cssText=K+"cursor: grabbing; transition: none;"+te:Y.cssText=K+"cursor: grab;"+te+(B?"":"transition: none;"),B||z.offsetHeight}function de(){a.value=!a.value,d.value=!0}function ee(){L=U(),T=Math.ceil(Math.log(L)/Math.log(R)),_=0,v=0,Z()}const W={setPreviewSrc:B=>{i.value=B},setThumbnailEl:B=>{r=B},toggleShow:de};function ae(B,$){if(e.showToolbarTooltip){const{value:z}=t;return I(yD,{to:!1,theme:z.peers.Tooltip,themeOverrides:z.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>l.value[$],trigger:()=>B})}else return B}const q=ne(()=>{const{common:{cubicBezierEaseInOut:B},self:{toolbarIconColor:$,toolbarBorderRadius:z,toolbarBoxShadow:Y,toolbarColor:j}}=t.value;return{"--n-bezier":B,"--n-toolbar-icon-color":$,"--n-toolbar-color":j,"--n-toolbar-border-radius":z,"--n-toolbar-box-shadow":Y}}),{inlineThemeDisabled:pe}=ft(),we=pe?Pt("image-preview",void 0,q,e):void 0;return Object.assign({previewRef:n,previewWrapperRef:o,previewSrc:i,show:a,appear:qi(),displayed:d,previewedImgProps:w==null?void 0:w.previewedImgPropsRef,handleWheel(B){B.preventDefault()},handlePreviewMousedown:A,handlePreviewDblclick:E,syncTransformOrigin:s,handleAfterLeave:()=>{k(),P=0,d.value=!1},handleDragStart:B=>{var $,z;(z=($=w==null?void 0:w.previewedImgPropsRef.value)===null||$===void 0?void 0:$.onDragstart)===null||z===void 0||z.call($,B),B.preventDefault()},zoomIn:G,zoomOut:H,rotateCounterclockwise:M,rotateClockwise:F,handleSwitchPrev:D,handleSwitchNext:O,withTooltip:ae,resizeToOrignalImageSize:ee,cssVars:pe?void 0:q,themeClass:we==null?void 0:we.themeClass,onRender:we==null?void 0:we.onRender},W)},render(){var e,t;const{clsPrefix:r}=this;return I(Qe,null,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e),I(oc,{show:this.show},{default:()=>{var n;return this.show||this.displayed?((n=this.onRender)===null||n===void 0||n.call(this),yt(I("div",{class:[`${r}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},I(Ut,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?I("div",{class:`${r}-image-preview-overlay`,onClick:this.toggleShow}):null}),this.showToolbar?I(Ut,{name:"fade-in-transition",appear:this.appear},{default:()=>{if(!this.show)return null;const{withTooltip:o}=this;return I("div",{class:`${r}-image-preview-toolbar`},this.onPrev?I(Qe,null,o(I(lt,{clsPrefix:r,onClick:this.handleSwitchPrev},{default:()=>R4}),"tipPrevious"),o(I(lt,{clsPrefix:r,onClick:this.handleSwitchNext},{default:()=>A4}),"tipNext")):null,o(I(lt,{clsPrefix:r,onClick:this.rotateCounterclockwise},{default:()=>I(QL,null)}),"tipCounterclockwise"),o(I(lt,{clsPrefix:r,onClick:this.rotateClockwise},{default:()=>I(JL,null)}),"tipClockwise"),o(I(lt,{clsPrefix:r,onClick:this.resizeToOrignalImageSize},{default:()=>I(rP,null)}),"tipOriginalSize"),o(I(lt,{clsPrefix:r,onClick:this.zoomOut},{default:()=>I(tP,null)}),"tipZoomOut"),o(I(lt,{clsPrefix:r,onClick:this.zoomIn},{default:()=>I(eP,null)}),"tipZoomIn"),o(I(lt,{clsPrefix:r,onClick:this.toggleShow},{default:()=>L4}),"tipClose"))}}):null,I(Ut,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:o={}}=this;return yt(I("div",{class:`${r}-image-preview-wrapper`,ref:"previewWrapperRef"},I("img",Object.assign({},o,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${r}-image-preview`,o.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[Lt,this.show]])}})),[[ka,{enabled:this.show}]])):null}}))}}),Vm="n-image-group",k4=Pc,O4=ye({name:"ImageGroup",props:k4,setup(e){let t;const{mergedClsPrefixRef:r}=ft(e),n=`c${Ii()}`,o=ar(),i=l=>{var s;t=l,(s=d.value)===null||s===void 0||s.setPreviewSrc(l)};function a(l){if(!(o!=null&&o.proxy))return;const c=o.proxy.$el.parentElement.querySelectorAll(`[data-group-id=${n}]:not([data-error=true])`);if(!c.length)return;const u=Array.from(c).findIndex(f=>f.dataset.previewSrc===t);~u?i(c[(u+l+c.length)%c.length].dataset.previewSrc):i(c[0].dataset.previewSrc)}ut(Vm,{mergedClsPrefixRef:r,setPreviewSrc:i,setThumbnailEl:l=>{var s;(s=d.value)===null||s===void 0||s.setThumbnailEl(l)},toggleShow:()=>{var l;(l=d.value)===null||l===void 0||l.toggleShow()},groupId:n});const d=Q(null);return{mergedClsPrefix:r,previewInstRef:d,next:()=>{a(1)},prev:()=>{a(-1)}}},render(){return I(Gm,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:this.mergedClsPrefix,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},this.$slots)}}),D4=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},Pc),I4=ye({name:"Image",props:D4,inheritAttrs:!1,setup(e){const t=Q(null),r=Q(!1),n=Q(null),o=$e(Vm,null),{mergedClsPrefixRef:i}=o||ft(e),a={click:()=>{if(e.previewDisabled||r.value)return;const s=e.previewSrc||e.src;if(o){o.setPreviewSrc(s),o.setThumbnailEl(t.value),o.toggleShow();return}const{value:c}=n;c&&(c.setPreviewSrc(s),c.setThumbnailEl(t.value),c.toggleShow())}},d=Q(!e.lazy);Rt(()=>{var s;(s=t.value)===null||s===void 0||s.setAttribute("data-group-id",(o==null?void 0:o.groupId)||"")}),Rt(()=>{if(e.lazy&&e.intersectionObserverOptions){let s;const c=Qt(()=>{s==null||s(),s=void 0,s=tm(t.value,e.intersectionObserverOptions,d)});_t(()=>{c(),s==null||s()})}}),Qt(()=>{var s;e.src,(s=e.imgProps)===null||s===void 0||s.src,r.value=!1});const l=Q(!1);return ut(Im,{previewedImgPropsRef:Be(e,"previewedImgProps")}),Object.assign({mergedClsPrefix:i,groupId:o==null?void 0:o.groupId,previewInstRef:n,imageRef:t,showError:r,shouldStartLoading:d,loaded:l,mergedOnClick:s=>{var c,u;a.click(),(u=(c=e.imgProps)===null||c===void 0?void 0:c.onClick)===null||u===void 0||u.call(c,s)},mergedOnError:s=>{if(!d.value)return;r.value=!0;const{onError:c,imgProps:{onError:u}={}}=e;c==null||c(s),u==null||u(s)},mergedOnLoad:s=>{const{onLoad:c,imgProps:{onLoad:u}={}}=e;c==null||c(s),u==null||u(s),l.value=!0}},a)},render(){var e,t;const{mergedClsPrefix:r,imgProps:n={},loaded:o,$attrs:i,lazy:a}=this,d=(t=(e=this.$slots).placeholder)===null||t===void 0?void 0:t.call(e),l=this.src||n.src,s=I("img",Object.assign(Object.assign({},n),{ref:"imageRef",width:this.width||n.width,height:this.height||n.height,src:this.showError?this.fallbackSrc:a&&this.intersectionObserverOptions?this.shouldStartLoading?l:void 0:l,alt:this.alt||n.alt,"aria-label":this.alt||n.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:Os&&a&&!this.intersectionObserverOptions?"lazy":"eager",style:[n.style||"",d&&!o?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return I("div",Object.assign({},i,{role:"none",class:[i.class,`${r}-image`,(this.previewDisabled||this.showError)&&`${r}-image--preview-disabled`]}),this.groupId?s:I(Gm,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:r,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},{default:()=>s}),!o&&d)}}),M4={extraFontSize:"12px",width:"440px"},F4={name:"Transfer",common:Te,peers:{Checkbox:jo,Scrollbar:er,Input:br,Empty:to,Button:tr},self(e){const{iconColorDisabled:t,iconColor:r,fontWeight:n,fontSizeLarge:o,fontSizeMedium:i,fontSizeSmall:a,heightLarge:d,heightMedium:l,heightSmall:s,borderRadius:c,inputColor:u,tableHeaderColor:f,textColor1:_,textColorDisabled:v,textColor2:b,hoverColor:g}=e;return Object.assign(Object.assign({},M4),{itemHeightSmall:s,itemHeightMedium:l,itemHeightLarge:d,fontSizeSmall:a,fontSizeMedium:i,fontSizeLarge:o,borderRadius:c,borderColor:"#0000",listColor:u,headerColor:f,titleTextColor:_,titleTextColorDisabled:v,extraTextColor:b,filterDividerColor:"#0000",itemTextColor:b,itemTextColorDisabled:v,itemColorPending:g,titleFontWeight:n,iconColor:r,iconColorDisabled:t})}},B4=F4,Km={icon:Function,type:{type:String,default:"info"},content:[String,Number,Function],showIcon:{type:Boolean,default:!0},closable:Boolean,keepAliveOnHover:Boolean,onClose:Function,onMouseenter:Function,onMouseleave:Function},Ym="n-message-api",Xm="n-message-provider",N4=X([V("message-wrapper",`
 margin: var(--n-margin);
 z-index: 0;
 transform-origin: top center;
 display: flex;
 `,[la({overflow:"visible",originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.85)"}})]),V("message",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 margin-bottom .3s var(--n-bezier);
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 flex-wrap: nowrap;
 overflow: hidden;
 max-width: var(--n-max-width);
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-shadow: var(--n-box-shadow);
 `,[oe("content",`
 display: inline-block;
 line-height: var(--n-line-height);
 font-size: var(--n-font-size);
 `),oe("icon",`
 position: relative;
 margin: var(--n-icon-margin);
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 flex-shrink: 0;
 `,[["default","info","success","warning","error","loading"].map(e=>le(`${e}-type`,[X("> *",`
 color: var(--n-icon-color-${e});
 transition: color .3s var(--n-bezier);
 `)])),X("> *",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[Po()])]),oe("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 flex-shrink: 0;
 `,[X("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),X("&:active",`
 color: var(--n-close-icon-color-pressed);
 `)])]),V("message-container",`
 z-index: 6000;
 position: fixed;
 height: 0;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: center;
 `,[le("top",`
 top: 12px;
 left: 0;
 right: 0;
 `),le("top-left",`
 top: 12px;
 left: 12px;
 right: 0;
 align-items: flex-start;
 `),le("top-right",`
 top: 12px;
 left: 0;
 right: 12px;
 align-items: flex-end;
 `),le("bottom",`
 bottom: 4px;
 left: 0;
 right: 0;
 justify-content: flex-end;
 `),le("bottom-left",`
 bottom: 4px;
 left: 12px;
 right: 0;
 justify-content: flex-end;
 align-items: flex-start;
 `),le("bottom-right",`
 bottom: 4px;
 left: 0;
 right: 12px;
 justify-content: flex-end;
 align-items: flex-end;
 `)])]),$4={info:()=>I(Kn,null),success:()=>I($o,null),warning:()=>I(Uo,null),error:()=>I(No,null),default:()=>null},U4=ye({name:"Message",props:Object.assign(Object.assign({},Km),{render:Function}),setup(e){const{inlineThemeDisabled:t,mergedRtlRef:r}=ft(e),{props:n,mergedClsPrefixRef:o}=$e(Xm),i=eo("Message",r,o),a=Ge("Message","-message",N4,KI,n,o),d=ne(()=>{const{type:s}=e,{common:{cubicBezierEaseInOut:c},self:{padding:u,margin:f,maxWidth:_,iconMargin:v,closeMargin:b,closeSize:g,iconSize:m,fontSize:h,lineHeight:x,borderRadius:y,iconColorInfo:p,iconColorSuccess:C,iconColorWarning:S,iconColorError:w,iconColorLoading:A,closeIconSize:E,closeBorderRadius:R,[Ce("textColor",s)]:T,[Ce("boxShadow",s)]:L,[Ce("color",s)]:P,[Ce("closeColorHover",s)]:k,[Ce("closeColorPressed",s)]:D,[Ce("closeIconColor",s)]:O,[Ce("closeIconColorPressed",s)]:M,[Ce("closeIconColorHover",s)]:F}}=a.value;return{"--n-bezier":c,"--n-margin":f,"--n-padding":u,"--n-max-width":_,"--n-font-size":h,"--n-icon-margin":v,"--n-icon-size":m,"--n-close-icon-size":E,"--n-close-border-radius":R,"--n-close-size":g,"--n-close-margin":b,"--n-text-color":T,"--n-color":P,"--n-box-shadow":L,"--n-icon-color-info":p,"--n-icon-color-success":C,"--n-icon-color-warning":S,"--n-icon-color-error":w,"--n-icon-color-loading":A,"--n-close-color-hover":k,"--n-close-color-pressed":D,"--n-close-icon-color":O,"--n-close-icon-color-pressed":M,"--n-close-icon-color-hover":F,"--n-line-height":x,"--n-border-radius":y}}),l=t?Pt("message",ne(()=>e.type[0]),d,{}):void 0;return{mergedClsPrefix:o,rtlEnabled:i,messageProviderProps:n,handleClose(){var s;(s=e.onClose)===null||s===void 0||s.call(e)},cssVars:t?void 0:d,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender,placement:n.placement}},render(){const{render:e,type:t,closable:r,content:n,mergedClsPrefix:o,cssVars:i,themeClass:a,onRender:d,icon:l,handleClose:s,showIcon:c}=this;d==null||d();let u;return I("div",{class:[`${o}-message-wrapper`,a],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:[{alignItems:this.placement.startsWith("top")?"flex-start":"flex-end"},i]},e?e(this.$props):I("div",{class:[`${o}-message ${o}-message--${t}-type`,this.rtlEnabled&&`${o}-message--rtl`]},(u=z4(l,t,o))&&c?I("div",{class:`${o}-message__icon ${o}-message__icon--${t}-type`},I(Qi,null,{default:()=>u})):null,I("div",{class:`${o}-message__content`},cr(n)),r?I(es,{clsPrefix:o,class:`${o}-message__close`,onClick:s,absolute:!0}):null))}});function z4(e,t,r){if(typeof e=="function")return e();{const n=t==="loading"?I(yc,{clsPrefix:r,strokeWidth:24,scale:.85}):$4[t]();return n?I(lt,{clsPrefix:r,key:t},{default:()=>n}):null}}const j4=ye({name:"MessageEnvironment",props:Object.assign(Object.assign({},Km),{duration:{type:Number,default:3e3},onAfterLeave:Function,onLeave:Function,internalKey:{type:String,required:!0},onInternalAfterLeave:Function,onHide:Function,onAfterHide:Function}),setup(e){let t=null;const r=Q(!0);Rt(()=>{n()});function n(){const{duration:c}=e;c&&(t=window.setTimeout(a,c))}function o(c){c.currentTarget===c.target&&t!==null&&(window.clearTimeout(t),t=null)}function i(c){c.currentTarget===c.target&&n()}function a(){const{onHide:c}=e;r.value=!1,t&&(window.clearTimeout(t),t=null),c&&c()}function d(){const{onClose:c}=e;c&&c(),a()}function l(){const{onAfterLeave:c,onInternalAfterLeave:u,onAfterHide:f,internalKey:_}=e;c&&c(),u&&u(_),f&&f()}function s(){a()}return{show:r,hide:a,handleClose:d,handleAfterLeave:l,handleMouseleave:i,handleMouseenter:o,deactivate:s}},render(){return I(zo,{appear:!0,onAfterLeave:this.handleAfterLeave,onLeave:this.onLeave},{default:()=>[this.show?I(U4,{content:this.content,type:this.type,icon:this.icon,showIcon:this.showIcon,closable:this.closable,onClose:this.handleClose,onMouseenter:this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.keepAliveOnHover?this.handleMouseleave:void 0}):null]})}}),H4=Object.assign(Object.assign({},Ge.props),{to:[String,Object],duration:{type:Number,default:3e3},keepAliveOnHover:Boolean,max:Number,placement:{type:String,default:"top"},closable:Boolean,containerStyle:[String,Object]}),W4=ye({name:"MessageProvider",props:H4,setup(e){const{mergedClsPrefixRef:t}=ft(e),r=Q([]),n=Q({}),o={create(l,s){return i(l,Object.assign({type:"default"},s))},info(l,s){return i(l,Object.assign(Object.assign({},s),{type:"info"}))},success(l,s){return i(l,Object.assign(Object.assign({},s),{type:"success"}))},warning(l,s){return i(l,Object.assign(Object.assign({},s),{type:"warning"}))},error(l,s){return i(l,Object.assign(Object.assign({},s),{type:"error"}))},loading(l,s){return i(l,Object.assign(Object.assign({},s),{type:"loading"}))},destroyAll:d};ut(Xm,{props:e,mergedClsPrefixRef:t}),ut(Ym,o);function i(l,s){const c=Ii(),u=Jt(Object.assign(Object.assign({},s),{content:l,key:c,destroy:()=>{var _;(_=n.value[c])===null||_===void 0||_.hide()}})),{max:f}=e;return f&&r.value.length>=f&&r.value.shift(),r.value.push(u),u}function a(l){r.value.splice(r.value.findIndex(s=>s.key===l),1),delete n.value[l]}function d(){Object.values(n.value).forEach(l=>{l.hide()})}return Object.assign({mergedClsPrefix:t,messageRefs:n,messageList:r,handleAfterLeave:a},o)},render(){var e,t,r;return I(Qe,null,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e),this.messageList.length?I(Gu,{to:(r=this.to)!==null&&r!==void 0?r:"body"},I("div",{class:[`${this.mergedClsPrefix}-message-container`,`${this.mergedClsPrefix}-message-container--${this.placement}`],key:"message-container",style:this.containerStyle},this.messageList.map(n=>I(j4,Object.assign({ref:o=>{o&&(this.messageRefs[n.key]=o)},internalKey:n.key,onInternalAfterLeave:this.handleAfterLeave},ug(n,["destroy"],void 0),{duration:n.duration===void 0?this.duration:n.duration,keepAliveOnHover:n.keepAliveOnHover===void 0?this.keepAliveOnHover:n.keepAliveOnHover,closable:n.closable===void 0?this.closable:n.closable}))))):null)}});function kc(){const e=$e(Ym,null);return e===null&&qn("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}const G4=X([V("progress",{display:"inline-block"},[V("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),le("line",`
 width: 100%;
 display: block;
 `,[V("progress-content",`
 display: flex;
 align-items: center;
 `,[V("progress-graph",{flex:1})]),V("progress-custom-content",{marginLeft:"14px"}),V("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[le("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),le("circle, dashboard",{width:"120px"},[V("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),V("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),V("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),le("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[V("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),V("progress-content",{position:"relative"}),V("progress-graph",{position:"relative"},[V("progress-graph-circle",[X("svg",{verticalAlign:"bottom"}),V("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[le("empty",{opacity:0})]),V("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),V("progress-graph-line",[le("indicator-inside",[V("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[V("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),V("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),le("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[V("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),V("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),V("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[V("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[le("processing",[X("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),X("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),V4={success:I($o,null),error:I(No,null),warning:I(Uo,null),info:I(Kn,null)},K4=ye({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:String,status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(e,{slots:t}){const r=ne(()=>Or(e.height)),n=ne(()=>e.railBorderRadius!==void 0?Or(e.railBorderRadius):e.height!==void 0?Or(e.height,{c:.5}):""),o=ne(()=>e.fillBorderRadius!==void 0?Or(e.fillBorderRadius):e.railBorderRadius!==void 0?Or(e.railBorderRadius):e.height!==void 0?Or(e.height,{c:.5}):"");return()=>{const{indicatorPlacement:i,railColor:a,railStyle:d,percentage:l,unit:s,indicatorTextColor:c,status:u,showIndicator:f,fillColor:_,processing:v,clsPrefix:b}=e;return I("div",{class:`${b}-progress-content`,role:"none"},I("div",{class:`${b}-progress-graph`,"aria-hidden":!0},I("div",{class:[`${b}-progress-graph-line`,{[`${b}-progress-graph-line--indicator-${i}`]:!0}]},I("div",{class:`${b}-progress-graph-line-rail`,style:[{backgroundColor:a,height:r.value,borderRadius:n.value},d]},I("div",{class:[`${b}-progress-graph-line-fill`,v&&`${b}-progress-graph-line-fill--processing`],style:{maxWidth:`${e.percentage}%`,backgroundColor:_,height:r.value,lineHeight:r.value,borderRadius:o.value}},i==="inside"?I("div",{class:`${b}-progress-graph-line-indicator`,style:{color:c}},l,s):null)))),f&&i==="outside"?I("div",null,t.default?I("div",{class:`${b}-progress-custom-content`,style:{color:c},role:"none"},t.default()):u==="default"?I("div",{role:"none",class:`${b}-progress-icon ${b}-progress-icon--as-text`,style:{color:c}},l,s):I("div",{class:`${b}-progress-icon`,"aria-hidden":!0},I(lt,{clsPrefix:b},{default:()=>V4[u]}))):null)}}}),Y4={success:I($o,null),error:I(No,null),warning:I(Uo,null),info:I(Kn,null)},X4=ye({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:String,railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(e,{slots:t}){function r(n,o,i){const{gapDegree:a,viewBoxWidth:d,strokeWidth:l}=e,s=50,c=0,u=s,f=0,_=2*s,v=50+l/2,b=`M ${v},${v} m ${c},${u}
      a ${s},${s} 0 1 1 ${f},${-_}
      a ${s},${s} 0 1 1 ${-f},${_}`,g=Math.PI*2*s,m={stroke:i,strokeDasharray:`${n/100*(g-a)}px ${d*8}px`,strokeDashoffset:`-${a/2}px`,transformOrigin:o?"center":void 0,transform:o?`rotate(${o}deg)`:void 0};return{pathString:b,pathStyle:m}}return()=>{const{fillColor:n,railColor:o,strokeWidth:i,offsetDegree:a,status:d,percentage:l,showIndicator:s,indicatorTextColor:c,unit:u,gapOffsetDegree:f,clsPrefix:_}=e,{pathString:v,pathStyle:b}=r(100,0,o),{pathString:g,pathStyle:m}=r(l,a,n),h=100+i;return I("div",{class:`${_}-progress-content`,role:"none"},I("div",{class:`${_}-progress-graph`,"aria-hidden":!0},I("div",{class:`${_}-progress-graph-circle`,style:{transform:f?`rotate(${f}deg)`:void 0}},I("svg",{viewBox:`0 0 ${h} ${h}`},I("g",null,I("path",{class:`${_}-progress-graph-circle-rail`,d:v,"stroke-width":i,"stroke-linecap":"round",fill:"none",style:b})),I("g",null,I("path",{class:[`${_}-progress-graph-circle-fill`,l===0&&`${_}-progress-graph-circle-fill--empty`],d:g,"stroke-width":i,"stroke-linecap":"round",fill:"none",style:m}))))),s?I("div",null,t.default?I("div",{class:`${_}-progress-custom-content`,role:"none"},t.default()):d!=="default"?I("div",{class:`${_}-progress-icon`,"aria-hidden":!0},I(lt,{clsPrefix:_},{default:()=>Y4[d]})):I("div",{class:`${_}-progress-text`,style:{color:c},role:"none"},I("span",{class:`${_}-progress-text__percentage`},l),I("span",{class:`${_}-progress-text__unit`},u))):null)}}});function vh(e,t,r=100){return`m ${r/2} ${r/2-e} a ${e} ${e} 0 1 1 0 ${2*e} a ${e} ${e} 0 1 1 0 -${2*e}`}const q4=ye({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(e,{slots:t}){const r=ne(()=>e.percentage.map((o,i)=>`${Math.PI*o/100*(e.viewBoxWidth/2-e.strokeWidth/2*(1+2*i)-e.circleGap*i)*2}, ${e.viewBoxWidth*8}`));return()=>{const{viewBoxWidth:n,strokeWidth:o,circleGap:i,showIndicator:a,fillColor:d,railColor:l,railStyle:s,percentage:c,clsPrefix:u}=e;return I("div",{class:`${u}-progress-content`,role:"none"},I("div",{class:`${u}-progress-graph`,"aria-hidden":!0},I("div",{class:`${u}-progress-graph-circle`},I("svg",{viewBox:`0 0 ${n} ${n}`},c.map((f,_)=>I("g",{key:_},I("path",{class:`${u}-progress-graph-circle-rail`,d:vh(n/2-o/2*(1+2*_)-i*_,o,n),"stroke-width":o,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:l[_]},s[_]]}),I("path",{class:[`${u}-progress-graph-circle-fill`,f===0&&`${u}-progress-graph-circle-fill--empty`],d:vh(n/2-o/2*(1+2*_)-i*_,o,n),"stroke-width":o,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:r.value[_],strokeDashoffset:0,stroke:d[_]}})))))),a&&t.default?I("div",null,I("div",{class:`${u}-progress-text`},t.default())):null)}}}),Z4=Object.assign(Object.assign({},Ge.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),J4=ye({name:"Progress",props:Z4,setup(e){const t=ne(()=>e.indicatorPlacement||e.indicatorPosition),r=ne(()=>{if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),{mergedClsPrefixRef:n,inlineThemeDisabled:o}=ft(e),i=Ge("Progress","-progress",G4,Bm,e,n),a=ne(()=>{const{status:l}=e,{common:{cubicBezierEaseInOut:s},self:{fontSize:c,fontSizeCircle:u,railColor:f,railHeight:_,iconSizeCircle:v,iconSizeLine:b,textColorCircle:g,textColorLineInner:m,textColorLineOuter:h,lineBgProcessing:x,fontWeightCircle:y,[Ce("iconColor",l)]:p,[Ce("fillColor",l)]:C}}=i.value;return{"--n-bezier":s,"--n-fill-color":C,"--n-font-size":c,"--n-font-size-circle":u,"--n-font-weight-circle":y,"--n-icon-color":p,"--n-icon-size-circle":v,"--n-icon-size-line":b,"--n-line-bg-processing":x,"--n-rail-color":f,"--n-rail-height":_,"--n-text-color-circle":g,"--n-text-color-line-inner":m,"--n-text-color-line-outer":h}}),d=o?Pt("progress",ne(()=>e.status[0]),a,e):void 0;return{mergedClsPrefix:n,mergedIndicatorPlacement:t,gapDeg:r,cssVars:o?void 0:a,themeClass:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender}},render(){const{type:e,cssVars:t,indicatorTextColor:r,showIndicator:n,status:o,railColor:i,railStyle:a,color:d,percentage:l,viewBoxWidth:s,strokeWidth:c,mergedIndicatorPlacement:u,unit:f,borderRadius:_,fillBorderRadius:v,height:b,processing:g,circleGap:m,mergedClsPrefix:h,gapDeg:x,gapOffsetDegree:y,themeClass:p,$slots:C,onRender:S}=this;return S==null||S(),I("div",{class:[p,`${h}-progress`,`${h}-progress--${e}`,`${h}-progress--${o}`],style:t,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":l,role:e==="circle"||e==="line"||e==="dashboard"?"progressbar":"none"},e==="circle"||e==="dashboard"?I(X4,{clsPrefix:h,status:o,showIndicator:n,indicatorTextColor:r,railColor:i,fillColor:d,railStyle:a,offsetDegree:this.offsetDegree,percentage:l,viewBoxWidth:s,strokeWidth:c,gapDegree:x===void 0?e==="dashboard"?75:0:x,gapOffsetDegree:y,unit:f},C):e==="line"?I(K4,{clsPrefix:h,status:o,showIndicator:n,indicatorTextColor:r,railColor:i,fillColor:d,railStyle:a,percentage:l,processing:g,indicatorPlacement:u,unit:f,fillBorderRadius:v,railBorderRadius:_,height:b},C):e==="multiple-circle"?I(q4,{clsPrefix:h,strokeWidth:c,railColor:i,fillColor:d,railStyle:a,viewBoxWidth:s,percentage:l,showIndicator:n,circleGap:m},C):null)}}),Q4=I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},I("circle",{fill:"#FFCB4C",cx:"18",cy:"17.018",r:"17"}),I("path",{fill:"#65471B",d:"M14.524 21.036c-.145-.116-.258-.274-.312-.464-.134-.46.13-.918.59-1.021 4.528-1.021 7.577 1.363 7.706 1.465.384.306.459.845.173 1.205-.286.358-.828.401-1.211.097-.11-.084-2.523-1.923-6.182-1.098-.274.061-.554-.016-.764-.184z"}),I("ellipse",{fill:"#65471B",cx:"13.119",cy:"11.174",rx:"2.125",ry:"2.656"}),I("ellipse",{fill:"#65471B",cx:"24.375",cy:"12.236",rx:"2.125",ry:"2.656"}),I("path",{fill:"#F19020",d:"M17.276 35.149s1.265-.411 1.429-1.352c.173-.972-.624-1.167-.624-1.167s1.041-.208 1.172-1.376c.123-1.101-.861-1.363-.861-1.363s.97-.4 1.016-1.539c.038-.959-.995-1.428-.995-1.428s5.038-1.221 5.556-1.341c.516-.12 1.32-.615 1.069-1.694-.249-1.08-1.204-1.118-1.697-1.003-.494.115-6.744 1.566-8.9 2.068l-1.439.334c-.54.127-.785-.11-.404-.512.508-.536.833-1.129.946-2.113.119-1.035-.232-2.313-.433-2.809-.374-.921-1.005-1.649-1.734-1.899-1.137-.39-1.945.321-1.542 1.561.604 1.854.208 3.375-.833 4.293-2.449 2.157-3.588 3.695-2.83 6.973.828 3.575 4.377 5.876 7.952 5.048l3.152-.681z"}),I("path",{fill:"#65471B",d:"M9.296 6.351c-.164-.088-.303-.224-.391-.399-.216-.428-.04-.927.393-1.112 4.266-1.831 7.699-.043 7.843.034.433.231.608.747.391 1.154-.216.405-.74.546-1.173.318-.123-.063-2.832-1.432-6.278.047-.257.109-.547.085-.785-.042zm12.135 3.75c-.156-.098-.286-.243-.362-.424-.187-.442.023-.927.468-1.084 4.381-1.536 7.685.48 7.823.567.415.26.555.787.312 1.178-.242.39-.776.495-1.191.238-.12-.072-2.727-1.621-6.267-.379-.266.091-.553.046-.783-.096z"})),e3=I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},I("path",{fill:"#FFCC4D",d:"M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"}),I("ellipse",{fill:"#664500",cx:"18",cy:"27",rx:"5",ry:"6"}),I("path",{fill:"#664500",d:"M5.999 11c-.208 0-.419-.065-.599-.2-.442-.331-.531-.958-.2-1.4C8.462 5.05 12.816 5 13 5c.552 0 1 .448 1 1 0 .551-.445.998-.996 1-.155.002-3.568.086-6.204 3.6-.196.262-.497.4-.801.4zm24.002 0c-.305 0-.604-.138-.801-.4-2.64-3.521-6.061-3.598-6.206-3.6-.55-.006-.994-.456-.991-1.005C22.006 5.444 22.45 5 23 5c.184 0 4.537.05 7.8 4.4.332.442.242 1.069-.2 1.4-.18.135-.39.2-.599.2zm-16.087 4.5l1.793-1.793c.391-.391.391-1.023 0-1.414s-1.023-.391-1.414 0L12.5 14.086l-1.793-1.793c-.391-.391-1.023-.391-1.414 0s-.391 1.023 0 1.414l1.793 1.793-1.793 1.793c-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293s.512-.098.707-.293l1.793-1.793 1.793 1.793c.195.195.451.293.707.293s.512-.098.707-.293c.391-.391.391-1.023 0-1.414L13.914 15.5zm11 0l1.793-1.793c.391-.391.391-1.023 0-1.414s-1.023-.391-1.414 0L23.5 14.086l-1.793-1.793c-.391-.391-1.023-.391-1.414 0s-.391 1.023 0 1.414l1.793 1.793-1.793 1.793c-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293s.512-.098.707-.293l1.793-1.793 1.793 1.793c.195.195.451.293.707.293s.512-.098.707-.293c.391-.391.391-1.023 0-1.414L24.914 15.5z"})),t3=I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},I("ellipse",{fill:"#292F33",cx:"18",cy:"26",rx:"18",ry:"10"}),I("ellipse",{fill:"#66757F",cx:"18",cy:"24",rx:"18",ry:"10"}),I("path",{fill:"#E1E8ED",d:"M18 31C3.042 31 1 16 1 12h34c0 2-1.958 19-17 19z"}),I("path",{fill:"#77B255",d:"M35 12.056c0 5.216-7.611 9.444-17 9.444S1 17.271 1 12.056C1 6.84 8.611 3.611 18 3.611s17 3.229 17 8.445z"}),I("ellipse",{fill:"#A6D388",cx:"18",cy:"13",rx:"15",ry:"7"}),I("path",{d:"M21 17c-.256 0-.512-.098-.707-.293-2.337-2.337-2.376-4.885-.125-8.262.739-1.109.9-2.246.478-3.377-.461-1.236-1.438-1.996-1.731-2.077-.553 0-.958-.443-.958-.996 0-.552.491-.995 1.043-.995.997 0 2.395 1.153 3.183 2.625 1.034 1.933.91 4.039-.351 5.929-1.961 2.942-1.531 4.332-.125 5.738.391.391.391 1.023 0 1.414-.195.196-.451.294-.707.294zm-6-2c-.256 0-.512-.098-.707-.293-2.337-2.337-2.376-4.885-.125-8.262.727-1.091.893-2.083.494-2.947-.444-.961-1.431-1.469-1.684-1.499-.552 0-.989-.447-.989-1 0-.552.458-1 1.011-1 .997 0 2.585.974 3.36 2.423.481.899 1.052 2.761-.528 5.131-1.961 2.942-1.531 4.332-.125 5.738.391.391.391 1.023 0 1.414-.195.197-.451.295-.707.295z",fill:"#5C913B"})),r3=I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},I("path",{fill:"#EF9645",d:"M15.5 2.965c1.381 0 2.5 1.119 2.5 2.5v.005L20.5.465c1.381 0 2.5 1.119 2.5 2.5V4.25l2.5-1.535c1.381 0 2.5 1.119 2.5 2.5V8.75L29 18H15.458L15.5 2.965z"}),I("path",{fill:"#FFDC5D",d:"M4.625 16.219c1.381-.611 3.354.208 4.75 2.188.917 1.3 1.187 3.151 2.391 3.344.46.073 1.234-.313 1.234-1.397V4.5s0-2 2-2 2 2 2 2v11.633c0-.029 1-.064 1-.082V2s0-2 2-2 2 2 2 2v14.053c0 .017 1 .041 1 .069V4.25s0-2 2-2 2 2 2 2v12.638c0 .118 1 .251 1 .398V8.75s0-2 2-2 2 2 2 2V24c0 6.627-5.373 12-12 12-4.775 0-8.06-2.598-9.896-5.292C8.547 28.423 8.096 26.051 8 25.334c0 0-.123-1.479-1.156-2.865-1.469-1.969-2.5-3.156-3.125-3.866-.317-.359-.625-1.707.906-2.384z"})),n3=V("result",`
 color: var(--n-text-color);
 line-height: var(--n-line-height);
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier);
`,[V("result-icon",`
 display: flex;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `,[oe("status-image",`
 font-size: var(--n-icon-size);
 width: 1em;
 height: 1em;
 `),V("base-icon",`
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),V("result-content",{marginTop:"24px"}),V("result-footer",`
 margin-top: 24px;
 text-align: center;
 `),V("result-header",[oe("title",`
 margin-top: 16px;
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 text-align: center;
 color: var(--n-title-text-color);
 font-size: var(--n-title-font-size);
 `),oe("description",`
 margin-top: 4px;
 text-align: center;
 font-size: var(--n-font-size);
 `)])]),o3={403:r3,404:Q4,418:t3,500:e3,info:I(Kn,null),success:I($o,null),warning:I(Uo,null),error:I(No,null)},i3=Object.assign(Object.assign({},Ge.props),{size:{type:String,default:"medium"},status:{type:String,default:"info"},title:String,description:String}),s3=ye({name:"Result",props:i3,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:r}=ft(e),n=Ge("Result","-result",n3,R5,e,t),o=ne(()=>{const{size:a,status:d}=e,{common:{cubicBezierEaseInOut:l},self:{textColor:s,lineHeight:c,titleTextColor:u,titleFontWeight:f,[Ce("iconColor",d)]:_,[Ce("fontSize",a)]:v,[Ce("titleFontSize",a)]:b,[Ce("iconSize",a)]:g}}=n.value;return{"--n-bezier":l,"--n-font-size":v,"--n-icon-size":g,"--n-line-height":c,"--n-text-color":s,"--n-title-font-size":b,"--n-title-font-weight":f,"--n-title-text-color":u,"--n-icon-color":_||""}}),i=r?Pt("result",ne(()=>{const{size:a,status:d}=e;let l="";return a&&(l+=a[0]),d&&(l+=d[0]),l}),o,e):void 0;return{mergedClsPrefix:t,cssVars:r?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e;const{status:t,$slots:r,mergedClsPrefix:n,onRender:o}=this;return o==null||o(),I("div",{class:[`${n}-result`,this.themeClass],style:this.cssVars},I("div",{class:`${n}-result-icon`},((e=r.icon)===null||e===void 0?void 0:e.call(r))||I(lt,{clsPrefix:n},{default:()=>o3[t]})),I("div",{class:`${n}-result-header`},this.title?I("div",{class:`${n}-result-header__title`},this.title):null,this.description?I("div",{class:`${n}-result-header__description`},this.description):null),r.default&&I("div",{class:`${n}-result-content`},r),r.footer&&I("div",{class:`${n}-result-footer`},r.footer()))}}),a3={name:"Skeleton",common:Te,self(e){const{heightSmall:t,heightMedium:r,heightLarge:n,borderRadius:o}=e;return{color:"rgba(255, 255, 255, 0.12)",colorEnd:"rgba(255, 255, 255, 0.18)",borderRadius:o,heightSmall:t,heightMedium:r,heightLarge:n}}},Oc="n-tabs",qm={tab:[String,Number,Object,Function],name:{type:[String,Number],required:!0},disabled:Boolean,displayDirective:{type:String,default:"if"},closable:{type:Boolean,default:void 0},tabProps:Object,label:[String,Number,Object,Function]},l3=ye({__TAB_PANE__:!0,name:"TabPane",alias:["TabPanel"],props:qm,setup(e){const t=$e(Oc,null);return t||qn("tab-pane","`n-tab-pane` must be placed inside `n-tabs`."),{style:t.paneStyleRef,class:t.paneClassRef,mergedClsPrefix:t.mergedClsPrefixRef}},render(){return I("div",{class:[`${this.mergedClsPrefix}-tab-pane`,this.class],style:this.style},this.$slots)}}),u3=Object.assign({internalLeftPadded:Boolean,internalAddable:Boolean,internalCreatedByPane:Boolean},ug(qm,["displayDirective"])),yu=ye({__TAB__:!0,inheritAttrs:!1,name:"Tab",props:u3,setup(e){const{mergedClsPrefixRef:t,valueRef:r,typeRef:n,closableRef:o,tabStyleRef:i,tabChangeIdRef:a,onBeforeLeaveRef:d,triggerRef:l,handleAdd:s,activateTab:c,handleClose:u}=$e(Oc);return{trigger:l,mergedClosable:ne(()=>{if(e.internalAddable)return!1;const{closable:f}=e;return f===void 0?o.value:f}),style:i,clsPrefix:t,value:r,type:n,handleClose(f){f.stopPropagation(),!e.disabled&&u(e.name)},activateTab(){if(e.disabled)return;if(e.internalAddable){s();return}const{name:f}=e,_=++a.id;if(f!==r.value){const{value:v}=d;v?Promise.resolve(v(e.name,r.value)).then(b=>{b&&a.id===_&&c(f)}):c(f)}}}},render(){const{internalAddable:e,clsPrefix:t,name:r,disabled:n,label:o,tab:i,value:a,mergedClosable:d,style:l,trigger:s,$slots:{default:c}}=this,u=o??i;return I("div",{class:`${t}-tabs-tab-wrapper`},this.internalLeftPadded?I("div",{class:`${t}-tabs-tab-pad`}):null,I("div",Object.assign({key:r,"data-name":r,"data-disabled":n?!0:void 0},sr({class:[`${t}-tabs-tab`,a===r&&`${t}-tabs-tab--active`,n&&`${t}-tabs-tab--disabled`,d&&`${t}-tabs-tab--closable`,e&&`${t}-tabs-tab--addable`],onClick:s==="click"?this.activateTab:void 0,onMouseenter:s==="hover"?this.activateTab:void 0,style:e?void 0:l},this.internalCreatedByPane?this.tabProps||{}:this.$attrs)),I("span",{class:`${t}-tabs-tab__label`},e?I(Qe,null,I("div",{class:`${t}-tabs-tab__height-placeholder`},""),I(lt,{clsPrefix:t},{default:()=>I(Pv,null)})):c?c():typeof u=="object"?u:cr(u??r)),d&&this.type==="card"?I(es,{clsPrefix:t,class:`${t}-tabs-tab__close`,onClick:this.handleClose,disabled:n}):null))}}),c3=V("tabs",`
 box-sizing: border-box;
 width: 100%;
 display: flex;
 flex-direction: column;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
`,[le("segment-type",[V("tabs-rail",[X("&.transition-disabled","color: red;",[V("tabs-tab",`
 transition: none;
 `)])])]),le("top",[V("tab-pane",`
 padding: var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left);
 `)]),le("left",[V("tab-pane",`
 padding: var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left) var(--n-pane-padding-top);
 `)]),le("left, right",`
 flex-direction: row;
 `,[V("tabs-bar",`
 width: 2px;
 right: 0;
 transition:
 top .2s var(--n-bezier),
 max-height .2s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),V("tabs-tab",`
 padding: var(--n-tab-padding-vertical); 
 `)]),le("right",`
 flex-direction: row-reverse;
 `,[V("tab-pane",`
 padding: var(--n-pane-padding-left) var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom);
 `),V("tabs-bar",`
 left: 0;
 `)]),le("bottom",`
 flex-direction: column-reverse;
 justify-content: flex-end;
 `,[V("tab-pane",`
 padding: var(--n-pane-padding-bottom) var(--n-pane-padding-right) var(--n-pane-padding-top) var(--n-pane-padding-left);
 `),V("tabs-bar",`
 top: 0;
 `)]),V("tabs-rail",`
 padding: 3px;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 background-color: var(--n-color-segment);
 transition: background-color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[V("tabs-tab-wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[V("tabs-tab",`
 overflow: hidden;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[le("active",`
 font-weight: var(--n-font-weight-strong);
 color: var(--n-tab-text-color-active);
 background-color: var(--n-tab-color-segment);
 box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .08);
 `),X("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])])]),le("flex",[V("tabs-nav",{width:"100%"},[V("tabs-wrapper",{width:"100%"},[V("tabs-tab",{marginRight:0})])])]),V("tabs-nav",`
 box-sizing: border-box;
 line-height: 1.5;
 display: flex;
 transition: border-color .3s var(--n-bezier);
 `,[oe("prefix, suffix",`
 display: flex;
 align-items: center;
 `),oe("prefix","padding-right: 16px;"),oe("suffix","padding-left: 16px;")]),le("top, bottom",[V("tabs-nav-scroll-wrapper",[X("&::before",`
 top: 0;
 bottom: 0;
 left: 0;
 width: 20px;
 `),X("&::after",`
 top: 0;
 bottom: 0;
 right: 0;
 width: 20px;
 `),le("shadow-start",[X("&::before",`
 box-shadow: inset 10px 0 8px -8px rgba(0, 0, 0, .12);
 `)]),le("shadow-end",[X("&::after",`
 box-shadow: inset -10px 0 8px -8px rgba(0, 0, 0, .12);
 `)])])]),le("left, right",[V("tabs-nav-scroll-wrapper",[X("&::before",`
 top: 0;
 left: 0;
 right: 0;
 height: 20px;
 `),X("&::after",`
 bottom: 0;
 left: 0;
 right: 0;
 height: 20px;
 `),le("shadow-start",[X("&::before",`
 box-shadow: inset 0 10px 8px -8px rgba(0, 0, 0, .12);
 `)]),le("shadow-end",[X("&::after",`
 box-shadow: inset 0 -10px 8px -8px rgba(0, 0, 0, .12);
 `)])])]),V("tabs-nav-scroll-wrapper",`
 flex: 1;
 position: relative;
 overflow: hidden;
 `,[V("tabs-nav-y-scroll",`
 height: 100%;
 width: 100%;
 overflow-y: auto; 
 scrollbar-width: none;
 `,[X("&::-webkit-scrollbar",`
 width: 0;
 height: 0;
 `)]),X("&::before, &::after",`
 transition: box-shadow .3s var(--n-bezier);
 pointer-events: none;
 content: "";
 position: absolute;
 z-index: 1;
 `)]),V("tabs-nav-scroll-content",`
 display: flex;
 position: relative;
 min-width: 100%;
 width: fit-content;
 box-sizing: border-box;
 `),V("tabs-wrapper",`
 display: inline-flex;
 flex-wrap: nowrap;
 position: relative;
 `),V("tabs-tab-wrapper",`
 display: flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 flex-grow: 0;
 `),V("tabs-tab",`
 cursor: pointer;
 white-space: nowrap;
 flex-wrap: nowrap;
 display: inline-flex;
 align-items: center;
 color: var(--n-tab-text-color);
 font-size: var(--n-tab-font-size);
 background-clip: padding-box;
 padding: var(--n-tab-padding);
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[le("disabled",{cursor:"not-allowed"}),oe("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),oe("label",`
 display: flex;
 align-items: center;
 `)]),V("tabs-bar",`
 position: absolute;
 bottom: 0;
 height: 2px;
 border-radius: 1px;
 background-color: var(--n-bar-color);
 transition:
 left .2s var(--n-bezier),
 max-width .2s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[X("&.transition-disabled",`
 transition: none;
 `),le("disabled",`
 background-color: var(--n-tab-text-color-disabled)
 `)]),V("tabs-pane-wrapper",`
 position: relative;
 overflow: hidden;
 transition: max-height .2s var(--n-bezier);
 `),V("tab-pane",`
 color: var(--n-pane-text-color);
 width: 100%;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .2s var(--n-bezier);
 left: 0;
 right: 0;
 top: 0;
 `,[X("&.next-transition-leave-active, &.prev-transition-leave-active, &.next-transition-enter-active, &.prev-transition-enter-active",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .2s var(--n-bezier),
 opacity .2s var(--n-bezier);
 `),X("&.next-transition-leave-active, &.prev-transition-leave-active",`
 position: absolute;
 `),X("&.next-transition-enter-from, &.prev-transition-leave-to",`
 transform: translateX(32px);
 opacity: 0;
 `),X("&.next-transition-leave-to, &.prev-transition-enter-from",`
 transform: translateX(-32px);
 opacity: 0;
 `),X("&.next-transition-leave-from, &.next-transition-enter-to, &.prev-transition-leave-from, &.prev-transition-enter-to",`
 transform: translateX(0);
 opacity: 1;
 `)]),V("tabs-tab-pad",`
 box-sizing: border-box;
 width: var(--n-tab-gap);
 flex-grow: 0;
 flex-shrink: 0;
 `),le("line-type, bar-type",[V("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 box-sizing: border-box;
 vertical-align: bottom;
 `,[X("&:hover",{color:"var(--n-tab-text-color-hover)"}),le("active",`
 color: var(--n-tab-text-color-active);
 font-weight: var(--n-tab-font-weight-active);
 `),le("disabled",{color:"var(--n-tab-text-color-disabled)"})])]),V("tabs-nav",[le("line-type",[le("top",[oe("prefix, suffix",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),V("tabs-nav-scroll-content",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),V("tabs-bar",`
 bottom: -1px;
 `)]),le("left",[oe("prefix, suffix",`
 border-right: 1px solid var(--n-tab-border-color);
 `),V("tabs-nav-scroll-content",`
 border-right: 1px solid var(--n-tab-border-color);
 `),V("tabs-bar",`
 right: -1px;
 `)]),le("right",[oe("prefix, suffix",`
 border-left: 1px solid var(--n-tab-border-color);
 `),V("tabs-nav-scroll-content",`
 border-left: 1px solid var(--n-tab-border-color);
 `),V("tabs-bar",`
 left: -1px;
 `)]),le("bottom",[oe("prefix, suffix",`
 border-top: 1px solid var(--n-tab-border-color);
 `),V("tabs-nav-scroll-content",`
 border-top: 1px solid var(--n-tab-border-color);
 `),V("tabs-bar",`
 top: -1px;
 `)]),oe("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 `),V("tabs-nav-scroll-content",`
 transition: border-color .3s var(--n-bezier);
 `),V("tabs-bar",`
 border-radius: 0;
 `)]),le("card-type",[oe("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),V("tabs-pad",`
 flex-grow: 1;
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),V("tabs-tab-pad",`
 transition: border-color .3s var(--n-bezier);
 `),V("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 border: 1px solid var(--n-tab-border-color);
 background-color: var(--n-tab-color);
 box-sizing: border-box;
 position: relative;
 vertical-align: bottom;
 display: flex;
 justify-content: space-between;
 font-size: var(--n-tab-font-size);
 color: var(--n-tab-text-color);
 `,[le("addable",`
 padding-left: 8px;
 padding-right: 8px;
 font-size: 16px;
 `,[oe("height-placeholder",`
 width: 0;
 font-size: var(--n-tab-font-size);
 `),Gt("disabled",[X("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])]),le("closable","padding-right: 8px;"),le("active",`
 background-color: #0000;
 font-weight: var(--n-tab-font-weight-active);
 color: var(--n-tab-text-color-active);
 `),le("disabled","color: var(--n-tab-text-color-disabled);")]),V("tabs-scroll-padding","border-bottom: 1px solid var(--n-tab-border-color);")]),le("left, right",[V("tabs-wrapper",`
 flex-direction: column;
 `,[V("tabs-tab-wrapper",`
 flex-direction: column;
 `,[V("tabs-tab-pad",`
 height: var(--n-tab-gap-vertical);
 width: 100%;
 `)])])]),le("top",[le("card-type",[V("tabs-tab",`
 border-top-left-radius: var(--n-tab-border-radius);
 border-top-right-radius: var(--n-tab-border-radius);
 `,[le("active",`
 border-bottom: 1px solid #0000;
 `)]),V("tabs-tab-pad",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `)])]),le("left",[le("card-type",[V("tabs-tab",`
 border-top-left-radius: var(--n-tab-border-radius);
 border-bottom-left-radius: var(--n-tab-border-radius);
 `,[le("active",`
 border-right: 1px solid #0000;
 `)]),V("tabs-tab-pad",`
 border-right: 1px solid var(--n-tab-border-color);
 `)])]),le("right",[le("card-type",[V("tabs-tab",`
 border-top-right-radius: var(--n-tab-border-radius);
 border-bottom-right-radius: var(--n-tab-border-radius);
 `,[le("active",`
 border-left: 1px solid #0000;
 `)]),V("tabs-tab-pad",`
 border-left: 1px solid var(--n-tab-border-color);
 `)])]),le("bottom",[le("card-type",[V("tabs-tab",`
 border-bottom-left-radius: var(--n-tab-border-radius);
 border-bottom-right-radius: var(--n-tab-border-radius);
 `,[le("active",`
 border-top: 1px solid #0000;
 `)]),V("tabs-tab-pad",`
 border-top: 1px solid var(--n-tab-border-color);
 `)])])])]),d3=Object.assign(Object.assign({},Ge.props),{value:[String,Number],defaultValue:[String,Number],trigger:{type:String,default:"click"},type:{type:String,default:"bar"},closable:Boolean,justifyContent:String,size:{type:String,default:"medium"},placement:{type:String,default:"top"},tabStyle:[String,Object],barWidth:Number,paneClass:String,paneStyle:[String,Object],paneWrapperClass:String,paneWrapperStyle:[String,Object],addable:[Boolean,Object],tabsPadding:{type:Number,default:0},animated:Boolean,onBeforeLeave:Function,onAdd:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClose:[Function,Array],labelSize:String,activeName:[String,Number],onActiveNameChange:[Function,Array]}),f3=ye({name:"Tabs",props:d3,setup(e,{slots:t}){var r,n,o,i;const{mergedClsPrefixRef:a,inlineThemeDisabled:d}=ft(e),l=Ge("Tabs","-tabs",c3,J5,e,a),s=Q(null),c=Q(null),u=Q(null),f=Q(null),_=Q(null),v=Q(!0),b=Q(!0),g=ea(e,["labelSize","size"]),m=ea(e,["activeName","value"]),h=Q((n=(r=m.value)!==null&&r!==void 0?r:e.defaultValue)!==null&&n!==void 0?n:t.default?(i=(o=$n(t.default())[0])===null||o===void 0?void 0:o.props)===null||i===void 0?void 0:i.name:null),x=Xi(m,h),y={id:0},p=ne(()=>{if(!(!e.justifyContent||e.type==="card"))return{display:"flex",justifyContent:e.justifyContent}});tt(x,()=>{y.id=0,A(),E()});function C(){var j;const{value:K}=x;return K===null?null:(j=s.value)===null||j===void 0?void 0:j.querySelector(`[data-name="${K}"]`)}function S(j){if(e.type==="card")return;const{value:K}=c;if(K&&j){const te=`${a.value}-tabs-bar--disabled`,{barWidth:re,placement:ue}=e;if(j.dataset.disabled==="true"?K.classList.add(te):K.classList.remove(te),["top","bottom"].includes(ue)){if(w(["top","maxHeight","height"]),typeof re=="number"&&j.offsetWidth>=re){const ie=Math.floor((j.offsetWidth-re)/2)+j.offsetLeft;K.style.left=`${ie}px`,K.style.maxWidth=`${re}px`}else K.style.left=`${j.offsetLeft}px`,K.style.maxWidth=`${j.offsetWidth}px`;K.style.width="8192px",K.offsetWidth}else{if(w(["left","maxWidth","width"]),typeof re=="number"&&j.offsetHeight>=re){const ie=Math.floor((j.offsetHeight-re)/2)+j.offsetTop;K.style.top=`${ie}px`,K.style.maxHeight=`${re}px`}else K.style.top=`${j.offsetTop}px`,K.style.maxHeight=`${j.offsetHeight}px`;K.style.height="8192px",K.offsetHeight}}}function w(j){const{value:K}=c;if(K)for(const te of j)K.style[te]=""}function A(){if(e.type==="card")return;const j=C();j&&S(j)}function E(j){var K;const te=(K=_.value)===null||K===void 0?void 0:K.$el;if(!te)return;const re=C();if(!re)return;const{scrollLeft:ue,offsetWidth:ie}=te,{offsetLeft:_e,offsetWidth:Se}=re;ue>_e?te.scrollTo({top:0,left:_e,behavior:"smooth"}):_e+Se>ue+ie&&te.scrollTo({top:0,left:_e+Se-ie,behavior:"smooth"})}const R=Q(null);let T=0,L=null;function P(j){const K=R.value;if(K){T=j.getBoundingClientRect().height;const te=`${T}px`,re=()=>{K.style.height=te,K.style.maxHeight=te};L?(re(),L(),L=null):L=re}}function k(j){const K=R.value;if(K){const te=j.getBoundingClientRect().height,re=()=>{document.body.offsetHeight,K.style.maxHeight=`${te}px`,K.style.height=`${Math.max(T,te)}px`};L?(L(),L=null,re()):L=re}}function D(){const j=R.value;j&&(j.style.maxHeight="",j.style.height="")}const O={value:[]},M=Q("next");function F(j){const K=x.value;let te="next";for(const re of O.value){if(re===K)break;if(re===j){te="prev";break}}M.value=te,N(j)}function N(j){const{onActiveNameChange:K,onUpdateValue:te,"onUpdate:value":re}=e;K&&et(K,j),te&&et(te,j),re&&et(re,j),h.value=j}function U(j){const{onClose:K}=e;K&&et(K,j)}function G(){const{value:j}=c;if(!j)return;const K="transition-disabled";j.classList.add(K),A(),j.classList.remove(K)}let H=0;function Z(j){var K;if(j.contentRect.width===0&&j.contentRect.height===0||H===j.contentRect.width)return;H=j.contentRect.width;const{type:te}=e;(te==="line"||te==="bar")&&G(),te!=="segment"&&pe((K=_.value)===null||K===void 0?void 0:K.$el)}const de=bl(Z,64);tt([()=>e.justifyContent,()=>e.size],()=>{$t(()=>{const{type:j}=e;(j==="line"||j==="bar")&&G()})});const ee=Q(!1);function W(j){var K;const{target:te,contentRect:{width:re}}=j,ue=te.parentElement.offsetWidth;if(!ee.value)ue<re&&(ee.value=!0);else{const{value:ie}=f;if(!ie)return;ue-re>ie.$el.offsetWidth&&(ee.value=!1)}pe((K=_.value)===null||K===void 0?void 0:K.$el)}const ae=bl(W,64);function q(){const{onAdd:j}=e;j&&j(),$t(()=>{const K=C(),{value:te}=_;!K||!te||te.scrollTo({left:K.offsetLeft,top:0,behavior:"smooth"})})}function pe(j){if(!j)return;const{placement:K}=e;if(K==="top"||K==="bottom"){const{scrollLeft:te,scrollWidth:re,offsetWidth:ue}=j;v.value=te<=0,b.value=te+ue>=re}else{const{scrollTop:te,scrollHeight:re,offsetHeight:ue}=j;v.value=te<=0,b.value=te+ue>=re}}const we=bl(j=>{pe(j.target)},64);ut(Oc,{triggerRef:Be(e,"trigger"),tabStyleRef:Be(e,"tabStyle"),paneClassRef:Be(e,"paneClass"),paneStyleRef:Be(e,"paneStyle"),mergedClsPrefixRef:a,typeRef:Be(e,"type"),closableRef:Be(e,"closable"),valueRef:x,tabChangeIdRef:y,onBeforeLeaveRef:Be(e,"onBeforeLeave"),activateTab:F,handleClose:U,handleAdd:q}),yg(()=>{A(),E()}),Qt(()=>{const{value:j}=u;if(!j)return;const{value:K}=a,te=`${K}-tabs-nav-scroll-wrapper--shadow-start`,re=`${K}-tabs-nav-scroll-wrapper--shadow-end`;v.value?j.classList.remove(te):j.classList.add(te),b.value?j.classList.remove(re):j.classList.add(re)});const B=Q(null);tt(x,()=>{if(e.type==="segment"){const j=B.value;j&&$t(()=>{j.classList.add("transition-disabled"),j.offsetWidth,j.classList.remove("transition-disabled")})}});const $={syncBarPosition:()=>{A()}},z=ne(()=>{const{value:j}=g,{type:K}=e,te={card:"Card",bar:"Bar",line:"Line",segment:"Segment"}[K],re=`${j}${te}`,{self:{barColor:ue,closeIconColor:ie,closeIconColorHover:_e,closeIconColorPressed:Se,tabColor:Ee,tabBorderColor:Me,paneTextColor:Ue,tabFontWeight:Ve,tabBorderRadius:Ne,tabFontWeightActive:Ze,colorSegment:se,fontWeightStrong:me,tabColorSegment:xe,closeSize:Le,closeIconSize:Fe,closeColorHover:Oe,closeColorPressed:ce,closeBorderRadius:Re,[Ce("panePadding",j)]:De,[Ce("tabPadding",re)]:Ke,[Ce("tabPaddingVertical",re)]:Je,[Ce("tabGap",re)]:At,[Ce("tabGap",`${re}Vertical`)]:Bt,[Ce("tabTextColor",K)]:ht,[Ce("tabTextColorActive",K)]:Yt,[Ce("tabTextColorHover",K)]:Ur,[Ce("tabTextColorDisabled",K)]:no,[Ce("tabFontSize",j)]:oo},common:{cubicBezierEaseInOut:Va}}=l.value;return{"--n-bezier":Va,"--n-color-segment":se,"--n-bar-color":ue,"--n-tab-font-size":oo,"--n-tab-text-color":ht,"--n-tab-text-color-active":Yt,"--n-tab-text-color-disabled":no,"--n-tab-text-color-hover":Ur,"--n-pane-text-color":Ue,"--n-tab-border-color":Me,"--n-tab-border-radius":Ne,"--n-close-size":Le,"--n-close-icon-size":Fe,"--n-close-color-hover":Oe,"--n-close-color-pressed":ce,"--n-close-border-radius":Re,"--n-close-icon-color":ie,"--n-close-icon-color-hover":_e,"--n-close-icon-color-pressed":Se,"--n-tab-color":Ee,"--n-tab-font-weight":Ve,"--n-tab-font-weight-active":Ze,"--n-tab-padding":Ke,"--n-tab-padding-vertical":Je,"--n-tab-gap":At,"--n-tab-gap-vertical":Bt,"--n-pane-padding-left":kn(De,"left"),"--n-pane-padding-right":kn(De,"right"),"--n-pane-padding-top":kn(De,"top"),"--n-pane-padding-bottom":kn(De,"bottom"),"--n-font-weight-strong":me,"--n-tab-color-segment":xe}}),Y=d?Pt("tabs",ne(()=>`${g.value[0]}${e.type[0]}`),z,e):void 0;return Object.assign({mergedClsPrefix:a,mergedValue:x,renderedNames:new Set,tabsRailElRef:B,tabsPaneWrapperRef:R,tabsElRef:s,barElRef:c,addTabInstRef:f,xScrollInstRef:_,scrollWrapperElRef:u,addTabFixed:ee,tabWrapperStyle:p,handleNavResize:de,mergedSize:g,handleScroll:we,handleTabsResize:ae,cssVars:d?void 0:z,themeClass:Y==null?void 0:Y.themeClass,animationDirection:M,renderNameListRef:O,onAnimationBeforeLeave:P,onAnimationEnter:k,onAnimationAfterEnter:D,onRender:Y==null?void 0:Y.onRender},$)},render(){const{mergedClsPrefix:e,type:t,placement:r,addTabFixed:n,addable:o,mergedSize:i,renderNameListRef:a,onRender:d,paneWrapperClass:l,paneWrapperStyle:s,$slots:{default:c,prefix:u,suffix:f}}=this;d==null||d();const _=c?$n(c()).filter(p=>p.type.__TAB_PANE__===!0):[],v=c?$n(c()).filter(p=>p.type.__TAB__===!0):[],b=!v.length,g=t==="card",m=t==="segment",h=!g&&!m&&this.justifyContent;a.value=[];const x=()=>{const p=I("div",{style:this.tabWrapperStyle,class:[`${e}-tabs-wrapper`]},h?null:I("div",{class:`${e}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}),b?_.map((C,S)=>(a.value.push(C.props.name),Al(I(yu,Object.assign({},C.props,{internalCreatedByPane:!0,internalLeftPadded:S!==0&&(!h||h==="center"||h==="start"||h==="end")}),C.children?{default:C.children.tab}:void 0)))):v.map((C,S)=>(a.value.push(C.props.name),Al(S!==0&&!h?yh(C):C))),!n&&o&&g?bh(o,(b?_.length:v.length)!==0):null,h?null:I("div",{class:`${e}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}));return I("div",{ref:"tabsElRef",class:`${e}-tabs-nav-scroll-content`},g&&o?I(Gn,{onResize:this.handleTabsResize},{default:()=>p}):p,g?I("div",{class:`${e}-tabs-pad`}):null,g?null:I("div",{ref:"barElRef",class:`${e}-tabs-bar`}))},y=m?"top":r;return I("div",{class:[`${e}-tabs`,this.themeClass,`${e}-tabs--${t}-type`,`${e}-tabs--${i}-size`,h&&`${e}-tabs--flex`,`${e}-tabs--${y}`],style:this.cssVars},I("div",{class:[`${e}-tabs-nav--${t}-type`,`${e}-tabs-nav--${y}`,`${e}-tabs-nav`]},Et(u,p=>p&&I("div",{class:`${e}-tabs-nav__prefix`},p)),m?I("div",{class:`${e}-tabs-rail`,ref:"tabsRailElRef"},b?_.map((p,C)=>(a.value.push(p.props.name),I(yu,Object.assign({},p.props,{internalCreatedByPane:!0,internalLeftPadded:C!==0}),p.children?{default:p.children.tab}:void 0))):v.map((p,C)=>(a.value.push(p.props.name),C===0?p:yh(p)))):I(Gn,{onResize:this.handleNavResize},{default:()=>I("div",{class:`${e}-tabs-nav-scroll-wrapper`,ref:"scrollWrapperElRef"},["top","bottom"].includes(y)?I(HS,{ref:"xScrollInstRef",onScroll:this.handleScroll},{default:x}):I("div",{class:`${e}-tabs-nav-y-scroll`,onScroll:this.handleScroll},x()))}),n&&o&&g?bh(o,!0):null,Et(f,p=>p&&I("div",{class:`${e}-tabs-nav__suffix`},p))),b&&(this.animated&&(y==="top"||y==="bottom")?I("div",{ref:"tabsPaneWrapperRef",style:s,class:[`${e}-tabs-pane-wrapper`,l]},mh(_,this.mergedValue,this.renderedNames,this.onAnimationBeforeLeave,this.onAnimationEnter,this.onAnimationAfterEnter,this.animationDirection)):mh(_,this.mergedValue,this.renderedNames)))}});function mh(e,t,r,n,o,i,a){const d=[];return e.forEach(l=>{const{name:s,displayDirective:c,"display-directive":u}=l.props,f=v=>c===v||u===v,_=t===s;if(l.key!==void 0&&(l.key=s),_||f("show")||f("show:lazy")&&r.has(s)){r.has(s)||r.add(s);const v=!f("if");d.push(v?yt(l,[[Lt,_]]):l)}}),a?I(qu,{name:`${a}-transition`,onBeforeLeave:n,onEnter:o,onAfterEnter:i},{default:()=>d}):d}function bh(e,t){return I(yu,{ref:"addTabInstRef",key:"__addable",name:"__addable",internalCreatedByPane:!0,internalAddable:!0,internalLeftPadded:t,disabled:typeof e=="object"&&e.disabled})}function yh(e){const t=ir(e);return t.props?t.props.internalLeftPadded=!0:t.props={internalLeftPadded:!0},t}function Al(e){return Array.isArray(e.dynamicProps)?e.dynamicProps.includes("internalLeftPadded")||e.dynamicProps.push("internalLeftPadded"):e.dynamicProps=["internalLeftPadded"],e}const h3=V("h",`
 font-size: var(--n-font-size);
 font-weight: var(--n-font-weight);
 margin: var(--n-margin);
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[X("&:first-child",{marginTop:0}),le("prefix-bar",{position:"relative",paddingLeft:"var(--n-prefix-width)"},[le("align-text",{paddingLeft:0},[X("&::before",{left:"calc(-1 * var(--n-prefix-width))"})]),X("&::before",`
 content: "";
 width: var(--n-bar-width);
 border-radius: calc(var(--n-bar-width) / 2);
 transition: background-color .3s var(--n-bezier);
 left: 0;
 top: 0;
 bottom: 0;
 position: absolute;
 `),X("&::before",{backgroundColor:"var(--n-bar-color)"})])]),p3=Object.assign(Object.assign({},Ge.props),{type:{type:String,default:"default"},prefix:String,alignText:Boolean}),Ho=e=>ye({name:`H${e}`,props:p3,setup(t){const{mergedClsPrefixRef:r,inlineThemeDisabled:n}=ft(t),o=Ge("Typography","-h",h3,Hm,t,r),i=ne(()=>{const{type:d}=t,{common:{cubicBezierEaseInOut:l},self:{headerFontWeight:s,headerTextColor:c,[Ce("headerPrefixWidth",e)]:u,[Ce("headerFontSize",e)]:f,[Ce("headerMargin",e)]:_,[Ce("headerBarWidth",e)]:v,[Ce("headerBarColor",d)]:b}}=o.value;return{"--n-bezier":l,"--n-font-size":f,"--n-margin":_,"--n-bar-color":b,"--n-bar-width":v,"--n-font-weight":s,"--n-text-color":c,"--n-prefix-width":u}}),a=n?Pt(`h${e}`,ne(()=>t.type[0]),i,t):void 0;return{mergedClsPrefix:r,cssVars:n?void 0:i,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){var t;const{prefix:r,alignText:n,mergedClsPrefix:o,cssVars:i,$slots:a}=this;return(t=this.onRender)===null||t===void 0||t.call(this),I(`h${e}`,{class:[`${o}-h`,`${o}-h${e}`,this.themeClass,{[`${o}-h--prefix-bar`]:r,[`${o}-h--align-text`]:n}],style:i},a)}});Ho("1");Ho("2");const g3=Ho("3");Ho("4");Ho("5");Ho("6");const v3=V("text",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[le("strong",`
 font-weight: var(--n-font-weight-strong);
 `),le("italic",{fontStyle:"italic"}),le("underline",{textDecoration:"underline"}),le("code",`
 line-height: 1.4;
 display: inline-block;
 font-family: var(--n-font-famliy-mono);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 box-sizing: border-box;
 padding: .05em .35em 0 .35em;
 border-radius: var(--n-code-border-radius);
 font-size: .9em;
 color: var(--n-code-text-color);
 background-color: var(--n-code-color);
 border: var(--n-code-border);
 `)]),m3=Object.assign(Object.assign({},Ge.props),{code:Boolean,type:{type:String,default:"default"},delete:Boolean,strong:Boolean,italic:Boolean,underline:Boolean,depth:[String,Number],tag:String,as:{type:String,validator:()=>!0,default:void 0}}),Zm=ye({name:"Text",props:m3,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:r}=ft(e),n=Ge("Typography","-text",v3,Hm,e,t),o=ne(()=>{const{depth:a,type:d}=e,l=d==="default"?a===void 0?"textColor":`textColor${a}Depth`:Ce("textColor",d),{common:{fontWeightStrong:s,fontFamilyMono:c,cubicBezierEaseInOut:u},self:{codeTextColor:f,codeBorderRadius:_,codeColor:v,codeBorder:b,[l]:g}}=n.value;return{"--n-bezier":u,"--n-text-color":g,"--n-font-weight-strong":s,"--n-font-famliy-mono":c,"--n-code-border-radius":_,"--n-code-text-color":f,"--n-code-color":v,"--n-code-border":b}}),i=r?Pt("text",ne(()=>`${e.type[0]}${e.depth||""}`),o,e):void 0;return{mergedClsPrefix:t,compitableTag:ea(e,["as","tag"]),cssVars:r?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e,t,r;const{mergedClsPrefix:n}=this;(e=this.onRender)===null||e===void 0||e.call(this);const o=[`${n}-text`,this.themeClass,{[`${n}-text--code`]:this.code,[`${n}-text--delete`]:this.delete,[`${n}-text--strong`]:this.strong,[`${n}-text--italic`]:this.italic,[`${n}-text--underline`]:this.underline}],i=(r=(t=this.$slots).default)===null||r===void 0?void 0:r.call(t);return this.code?I("code",{class:o,style:this.cssVars},this.delete?I("del",null,i):i):this.delete?I("del",{class:o,style:this.cssVars},i):I(this.compitableTag||"span",{class:o,style:this.cssVars},i)}}),Wo="n-upload",Jm="__UPLOAD_DRAGGER__",b3=ye({name:"UploadDragger",[Jm]:!0,setup(e,{slots:t}){const r=$e(Wo,null);return r||qn("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:n},mergedDisabledRef:{value:o},maxReachedRef:{value:i}}=r;return I("div",{class:[`${n}-upload-dragger`,(o||i)&&`${n}-upload-dragger--disabled`]},t)}}});var Qm=globalThis&&globalThis.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function d(c){try{s(n.next(c))}catch(u){a(u)}}function l(c){try{s(n.throw(c))}catch(u){a(u)}}function s(c){c.done?i(c.value):o(c.value).then(d,l)}s((n=n.apply(e,t||[])).next())})};const e0=e=>e.includes("image/"),xh=(e="")=>{const t=e.split("/"),n=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]},_h=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,t0=e=>{if(e.type)return e0(e.type);const t=xh(e.name||"");if(_h.test(t))return!0;const r=e.thumbnailUrl||e.url||"",n=xh(r);return!!(/^data:image\//.test(r)||_h.test(n))};function y3(e){return Qm(this,void 0,void 0,function*(){return yield new Promise(t=>{if(!e.type||!e0(e.type)){t("");return}t(window.URL.createObjectURL(e))})})}const x3=mn&&window.FileReader&&window.File;function _3(e){return e.isDirectory}function C3(e){return e.isFile}function S3(e,t){return Qm(this,void 0,void 0,function*(){const r=[];let n,o=0;function i(){o++}function a(){o--,o||n(r)}function d(l){l.forEach(s=>{if(s){if(i(),t&&_3(s)){const c=s.createReader();i(),c.readEntries(u=>{d(u),a()},()=>{a()})}else C3(s)&&(i(),s.file(c=>{r.push({file:c,entry:s,source:"dnd"}),a()},()=>{a()}));a()}})}return yield new Promise(l=>{n=l,d(e)}),r})}function Hi(e){const{id:t,name:r,percentage:n,status:o,url:i,file:a,thumbnailUrl:d,type:l,fullPath:s,batchId:c}=e;return{id:t,name:r,percentage:n??null,status:o,url:i??null,file:a??null,thumbnailUrl:d??null,type:l??null,fullPath:s??null,batchId:c??null}}function E3(e,t,r){return e=e.toLowerCase(),t=t.toLocaleLowerCase(),r=r.toLocaleLowerCase(),r.split(",").map(o=>o.trim()).filter(Boolean).some(o=>{if(o.startsWith(".")){if(e.endsWith(o))return!0}else if(o.includes("/")){const[i,a]=t.split("/"),[d,l]=o.split("/");if((d==="*"||i&&d&&d===i)&&(l==="*"||a&&l&&l===a))return!0}else return!0;return!1})}const w3=(e,t)=>{if(!e)return;const r=document.createElement("a");r.href=e,t!==void 0&&(r.download=t),document.body.appendChild(r),r.click(),document.body.removeChild(r)},r0=ye({name:"UploadTrigger",props:{abstract:Boolean},setup(e,{slots:t}){const r=$e(Wo,null);r||qn("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:n,mergedDisabledRef:o,maxReachedRef:i,listTypeRef:a,dragOverRef:d,openOpenFileDialog:l,draggerInsideRef:s,handleFileAddition:c,mergedDirectoryDndRef:u,triggerStyleRef:f}=r,_=ne(()=>a.value==="image-card");function v(){o.value||i.value||l()}function b(x){x.preventDefault(),d.value=!0}function g(x){x.preventDefault(),d.value=!0}function m(x){x.preventDefault(),d.value=!1}function h(x){var y;if(x.preventDefault(),!s.value||o.value||i.value){d.value=!1;return}const p=(y=x.dataTransfer)===null||y===void 0?void 0:y.items;p!=null&&p.length?S3(Array.from(p).map(C=>C.webkitGetAsEntry()),u.value).then(C=>{c(C)}).finally(()=>{d.value=!1}):d.value=!1}return()=>{var x;const{value:y}=n;return e.abstract?(x=t.default)===null||x===void 0?void 0:x.call(t,{handleClick:v,handleDrop:h,handleDragOver:b,handleDragEnter:g,handleDragLeave:m}):I("div",{class:[`${y}-upload-trigger`,(o.value||i.value)&&`${y}-upload-trigger--disabled`,_.value&&`${y}-upload-trigger--image-card`],style:f.value,onClick:v,onDrop:h,onDragover:b,onDragenter:g,onDragleave:m},_.value?I(b3,null,{default:()=>wr(t.default,()=>[I(lt,{clsPrefix:y},{default:()=>I(Pv,null)})])}):t)}}}),T3=ye({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:$e(Wo).mergedThemeRef}},render(){return I(zo,null,{default:()=>this.show?I(J4,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}}),R3=I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},I("g",{fill:"none"},I("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),A3=I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},I("g",{fill:"none"},I("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"})));var L3=globalThis&&globalThis.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function d(c){try{s(n.next(c))}catch(u){a(u)}}function l(c){try{s(n.throw(c))}catch(u){a(u)}}function s(c){c.done?i(c.value):o(c.value).then(d,l)}s((n=n.apply(e,t||[])).next())})};const Ts={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},P3=ye({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const t=$e(Wo),r=Q(null),n=Q(""),o=ne(()=>{const{file:p}=e;return p.status==="finished"?"success":p.status==="error"?"error":"info"}),i=ne(()=>{const{file:p}=e;if(p.status==="error")return"error"}),a=ne(()=>{const{file:p}=e;return p.status==="uploading"}),d=ne(()=>{if(!t.showCancelButtonRef.value)return!1;const{file:p}=e;return["uploading","pending","error"].includes(p.status)}),l=ne(()=>{if(!t.showRemoveButtonRef.value)return!1;const{file:p}=e;return["finished"].includes(p.status)}),s=ne(()=>{if(!t.showDownloadButtonRef.value)return!1;const{file:p}=e;return["finished"].includes(p.status)}),c=ne(()=>{if(!t.showRetryButtonRef.value)return!1;const{file:p}=e;return["error"].includes(p.status)}),u=Dt(()=>n.value||e.file.thumbnailUrl||e.file.url),f=ne(()=>{if(!t.showPreviewButtonRef.value)return!1;const{file:{status:p},listType:C}=e;return["finished"].includes(p)&&u.value&&C==="image-card"});function _(){t.submit(e.file.id)}function v(p){p.preventDefault();const{file:C}=e;["finished","pending","error"].includes(C.status)?g(C):["uploading"].includes(C.status)?h(C):Wn("upload","The button clicked type is unknown.")}function b(p){p.preventDefault(),m(e.file)}function g(p){const{xhrMap:C,doChange:S,onRemoveRef:{value:w},mergedFileListRef:{value:A}}=t;Promise.resolve(w?w({file:Object.assign({},p),fileList:A}):!0).then(E=>{if(E===!1)return;const R=Object.assign({},p,{status:"removed"});C.delete(p.id),S(R,void 0,{remove:!0})})}function m(p){const{onDownloadRef:{value:C}}=t;Promise.resolve(C?C(Object.assign({},p)):!0).then(S=>{S!==!1&&w3(p.url,p.name)})}function h(p){const{xhrMap:C}=t,S=C.get(p.id);S==null||S.abort(),g(Object.assign({},p))}function x(){const{onPreviewRef:{value:p}}=t;if(p)p(e.file);else if(e.listType==="image-card"){const{value:C}=r;if(!C)return;C.click()}}const y=()=>L3(this,void 0,void 0,function*(){const{listType:p}=e;p!=="image"&&p!=="image-card"||t.shouldUseThumbnailUrlRef.value(e.file)&&(n.value=yield t.getFileThumbnailUrlResolver(e.file))});return Qt(()=>{y()}),{mergedTheme:t.mergedThemeRef,progressStatus:o,buttonType:i,showProgress:a,disabled:t.mergedDisabledRef,showCancelButton:d,showRemoveButton:l,showDownloadButton:s,showRetryButton:c,showPreviewButton:f,mergedThumbnailUrl:u,shouldUseThumbnailUrl:t.shouldUseThumbnailUrlRef,renderIcon:t.renderIconRef,imageRef:r,handleRemoveOrCancelClick:v,handleDownloadClick:b,handleRetryClick:_,handlePreviewClick:x}},render(){const{clsPrefix:e,mergedTheme:t,listType:r,file:n,renderIcon:o}=this;let i;const a=r==="image";a||r==="image-card"?i=!this.shouldUseThumbnailUrl(n)||!this.mergedThumbnailUrl?I("span",{class:`${e}-upload-file-info__thumbnail`},o?o(n):t0(n)?I(lt,{clsPrefix:e},{default:()=>R3}):I(lt,{clsPrefix:e},{default:()=>A3})):I("a",{rel:"noopener noreferer",target:"_blank",href:n.url||void 0,class:`${e}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},r==="image-card"?I(I4,{src:this.mergedThumbnailUrl||void 0,previewSrc:n.url||void 0,alt:n.name,ref:"imageRef"}):I("img",{src:this.mergedThumbnailUrl||void 0,alt:n.name})):i=I("span",{class:`${e}-upload-file-info__thumbnail`},o?o(n):I(lt,{clsPrefix:e},{default:()=>I(jL,null)}));const l=I(T3,{show:this.showProgress,percentage:n.percentage||0,status:this.progressStatus}),s=r==="text"||r==="image";return I("div",{class:[`${e}-upload-file`,`${e}-upload-file--${this.progressStatus}-status`,n.url&&n.status!=="error"&&r!=="image-card"&&`${e}-upload-file--with-url`,`${e}-upload-file--${r}-type`]},I("div",{class:`${e}-upload-file-info`},i,I("div",{class:`${e}-upload-file-info__name`},s&&(n.url&&n.status!=="error"?I("a",{rel:"noopener noreferer",target:"_blank",href:n.url||void 0,onClick:this.handlePreviewClick},n.name):I("span",{onClick:this.handlePreviewClick},n.name)),a&&l),I("div",{class:[`${e}-upload-file-info__action`,`${e}-upload-file-info__action--${r}-type`]},this.showPreviewButton?I(un,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:Ts},{icon:()=>I(lt,{clsPrefix:e},{default:()=>I(kv,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&I(un,{key:"cancelOrTrash",theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:Ts,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>I(Qi,null,{default:()=>this.showRemoveButton?I(lt,{clsPrefix:e,key:"trash"},{default:()=>I(VL,null)}):I(lt,{clsPrefix:e,key:"cancel"},{default:()=>I(YL,null)})})}),this.showRetryButton&&!this.disabled&&I(un,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:Ts},{icon:()=>I(lt,{clsPrefix:e},{default:()=>I(ZL,null)})}),this.showDownloadButton?I(un,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:Ts},{icon:()=>I(lt,{clsPrefix:e},{default:()=>I(KL,null)})}):null)),!a&&l)}}),k3=ye({name:"UploadFileList",setup(e,{slots:t}){const r=$e(Wo,null);r||qn("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:n,mergedClsPrefixRef:o,listTypeRef:i,mergedFileListRef:a,fileListStyleRef:d,cssVarsRef:l,themeClassRef:s,maxReachedRef:c,showTriggerRef:u,imageGroupPropsRef:f}=r,_=ne(()=>i.value==="image-card"),v=()=>a.value.map(g=>I(P3,{clsPrefix:o.value,key:g.id,file:g,listType:i.value})),b=()=>_.value?I(O4,Object.assign({},f.value),{default:v}):I(zo,{group:!0},{default:v});return()=>{const{value:g}=o,{value:m}=n;return I("div",{class:[`${g}-upload-file-list`,_.value&&`${g}-upload-file-list--grid`,m?s==null?void 0:s.value:void 0],style:[m&&l?l.value:"",d.value]},b(),u.value&&!c.value&&_.value&&I(r0,null,t))}}}),O3=X([V("upload","width: 100%;",[le("dragger-inside",[V("upload-trigger",`
 display: block;
 `)]),le("drag-over",[V("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),V("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[X("&:hover",`
 border: var(--n-dragger-border-hover);
 `),le("disabled",`
 cursor: not-allowed;
 `)]),V("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[X("+",[V("upload-file-list","margin-top: 8px;")]),le("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),le("image-card",`
 width: 96px;
 height: 96px;
 `,[V("base-icon",`
 font-size: 24px;
 `),V("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),V("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[X("a, img","outline: none;"),le("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[V("upload-file","cursor: not-allowed;")]),le("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),V("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[la(),V("progress",[la({foldPadding:!0})]),X("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[V("upload-file-info",[oe("action",`
 opacity: 1;
 `)])]),le("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[V("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[V("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),oe("name",`
 padding: 0 8px;
 `),oe("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[X("img",`
 width: 100%;
 `)])])]),le("text-type",[V("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),le("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[V("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),V("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[oe("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[X("img",`
 width: 100%;
 `)])]),X("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),X("&:hover",[X("&::before","opacity: 1;"),V("upload-file-info",[oe("thumbnail","opacity: .12;")])])]),le("error-status",[X("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),V("upload-file-info",[oe("name","color: var(--n-item-text-color-error);"),oe("thumbnail","color: var(--n-item-text-color-error);")]),le("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),le("with-url",`
 cursor: pointer;
 `,[V("upload-file-info",[oe("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[X("a",`
 text-decoration: underline;
 `)])])]),V("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[oe("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[V("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),oe("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[V("button",[X("&:not(:last-child)",{marginRight:"4px"}),V("base-icon",[X("svg",[Po()])])]),le("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),le("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),oe("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[X("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),V("upload-file-input",`
 display: block;
 width: 0;
 height: 0;
 opacity: 0;
 `)]);var Ch=globalThis&&globalThis.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function d(c){try{s(n.next(c))}catch(u){a(u)}}function l(c){try{s(n.throw(c))}catch(u){a(u)}}function s(c){c.done?i(c.value):o(c.value).then(d,l)}s((n=n.apply(e,t||[])).next())})};function D3(e,t,r){const{doChange:n,xhrMap:o}=e;let i=0;function a(l){var s;let c=Object.assign({},t,{status:"error",percentage:i});o.delete(t.id),c=Hi(((s=e.onError)===null||s===void 0?void 0:s.call(e,{file:c,event:l}))||c),n(c,l)}function d(l){var s;if(e.isErrorState){if(e.isErrorState(r)){a(l);return}}else if(r.status<200||r.status>=300){a(l);return}let c=Object.assign({},t,{status:"finished",percentage:i});o.delete(t.id),c=Hi(((s=e.onFinish)===null||s===void 0?void 0:s.call(e,{file:c,event:l}))||c),n(c,l)}return{handleXHRLoad:d,handleXHRError:a,handleXHRAbort(l){const s=Object.assign({},t,{status:"removed",file:null,percentage:i});o.delete(t.id),n(s,l)},handleXHRProgress(l){const s=Object.assign({},t,{status:"uploading"});if(l.lengthComputable){const c=Math.ceil(l.loaded/l.total*100);s.percentage=c,i=c}n(s,l)}}}function I3(e){const{inst:t,file:r,data:n,headers:o,withCredentials:i,action:a,customRequest:d}=e,{doChange:l}=e.inst;let s=0;d({file:r,data:n,headers:o,withCredentials:i,action:a,onProgress(c){const u=Object.assign({},r,{status:"uploading"}),f=c.percent;u.percentage=f,s=f,l(u)},onFinish(){var c;let u=Object.assign({},r,{status:"finished",percentage:s});u=Hi(((c=t.onFinish)===null||c===void 0?void 0:c.call(t,{file:u}))||u),l(u)},onError(){var c;let u=Object.assign({},r,{status:"error",percentage:s});u=Hi(((c=t.onError)===null||c===void 0?void 0:c.call(t,{file:u}))||u),l(u)}})}function M3(e,t,r){const n=D3(e,t,r);r.onabort=n.handleXHRAbort,r.onerror=n.handleXHRError,r.onload=n.handleXHRLoad,r.upload&&(r.upload.onprogress=n.handleXHRProgress)}function n0(e,t){return typeof e=="function"?e({file:t}):e||{}}function F3(e,t,r){const n=n0(t,r);n&&Object.keys(n).forEach(o=>{e.setRequestHeader(o,n[o])})}function B3(e,t,r){const n=n0(t,r);n&&Object.keys(n).forEach(o=>{e.append(o,n[o])})}function N3(e,t,r,{method:n,action:o,withCredentials:i,responseType:a,headers:d,data:l}){const s=new XMLHttpRequest;s.responseType=a,e.xhrMap.set(r.id,s),s.withCredentials=i;const c=new FormData;if(B3(c,l,r),c.append(t,r.file),M3(e,r,s),o!==void 0){s.open(n.toUpperCase(),o),F3(s,d,r),s.send(c);const u=Object.assign({},r,{status:"uploading"});e.doChange(u)}}const $3=Object.assign(Object.assign({},Ge.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:e=>x3?t0(e):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerStyle:[String,Object],renderIcon:Object}),U3=ye({name:"Upload",props:$3,setup(e){e.abstract&&e.listType==="image-card"&&qn("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:t,inlineThemeDisabled:r}=ft(e),n=Ge("Upload","-upload",O3,y4,e,t),o=ac(e),i=ne(()=>{const{max:A}=e;return A!==void 0?_.value.length>=A:!1}),a=Q(e.defaultFileList),d=Be(e,"fileList"),l=Q(null),s={value:!1},c=Q(!1),u=new Map,f=Xi(d,a),_=ne(()=>f.value.map(Hi));function v(){var A;(A=l.value)===null||A===void 0||A.click()}function b(A){const E=A.target;h(E.files?Array.from(E.files).map(R=>({file:R,entry:null,source:"input"})):null,A),E.value=""}function g(A){const{"onUpdate:fileList":E,onUpdateFileList:R}=e;E&&et(E,A),R&&et(R,A),a.value=A}const m=ne(()=>e.multiple||e.directory);function h(A,E){if(!A||A.length===0)return;const{onBeforeUpload:R}=e;A=m.value?A:[A[0]];const{max:T,accept:L}=e;A=A.filter(({file:k,source:D})=>D==="dnd"&&(L!=null&&L.trim())?E3(k.name,k.type,L):!0),T&&(A=A.slice(0,T-_.value.length));const P=Ii();Promise.all(A.map(({file:k,entry:D})=>Ch(this,void 0,void 0,function*(){var O;const M={id:Ii(),batchId:P,name:k.name,status:"pending",percentage:0,file:k,url:null,type:k.type,thumbnailUrl:null,fullPath:(O=D==null?void 0:D.fullPath)!==null&&O!==void 0?O:`/${k.webkitRelativePath||k.name}`};return!R||(yield R({file:M,fileList:_.value}))!==!1?M:null}))).then(k=>Ch(this,void 0,void 0,function*(){let D=Promise.resolve();k.forEach(O=>{D=D.then($t).then(()=>{O&&y(O,E,{append:!0})})}),yield D})).then(()=>{e.defaultUpload&&x()})}function x(A){const{method:E,action:R,withCredentials:T,headers:L,data:P,name:k}=e,D=A!==void 0?_.value.filter(M=>M.id===A):_.value,O=A!==void 0;D.forEach(M=>{const{status:F}=M;(F==="pending"||F==="error"&&O)&&(e.customRequest?I3({inst:{doChange:y,xhrMap:u,onFinish:e.onFinish,onError:e.onError},file:M,action:R,withCredentials:T,headers:L,data:P,customRequest:e.customRequest}):N3({doChange:y,xhrMap:u,onFinish:e.onFinish,onError:e.onError,isErrorState:e.isErrorState},k,M,{method:E,action:R,withCredentials:T,responseType:e.responseType,headers:L,data:P}))})}const y=(A,E,R={append:!1,remove:!1})=>{const{append:T,remove:L}=R,P=Array.from(_.value),k=P.findIndex(D=>D.id===A.id);if(T||L||~k){T?P.push(A):L?P.splice(k,1):P.splice(k,1,A);const{onChange:D}=e;D&&D({file:A,fileList:P,event:E}),g(P)}};function p(A){var E;if(A.thumbnailUrl)return A.thumbnailUrl;const{createThumbnailUrl:R}=e;return R?(E=R(A.file,A))!==null&&E!==void 0?E:A.url||"":A.url?A.url:A.file?y3(A.file):""}const C=ne(()=>{const{common:{cubicBezierEaseInOut:A},self:{draggerColor:E,draggerBorder:R,draggerBorderHover:T,itemColorHover:L,itemColorHoverError:P,itemTextColorError:k,itemTextColorSuccess:D,itemTextColor:O,itemIconColor:M,itemDisabledOpacity:F,lineHeight:N,borderRadius:U,fontSize:G,itemBorderImageCardError:H,itemBorderImageCard:Z}}=n.value;return{"--n-bezier":A,"--n-border-radius":U,"--n-dragger-border":R,"--n-dragger-border-hover":T,"--n-dragger-color":E,"--n-font-size":G,"--n-item-color-hover":L,"--n-item-color-hover-error":P,"--n-item-disabled-opacity":F,"--n-item-icon-color":M,"--n-item-text-color":O,"--n-item-text-color-error":k,"--n-item-text-color-success":D,"--n-line-height":N,"--n-item-border-image-card-error":H,"--n-item-border-image-card":Z}}),S=r?Pt("upload",void 0,C,e):void 0;ut(Wo,{mergedClsPrefixRef:t,mergedThemeRef:n,showCancelButtonRef:Be(e,"showCancelButton"),showDownloadButtonRef:Be(e,"showDownloadButton"),showRemoveButtonRef:Be(e,"showRemoveButton"),showRetryButtonRef:Be(e,"showRetryButton"),onRemoveRef:Be(e,"onRemove"),onDownloadRef:Be(e,"onDownload"),mergedFileListRef:_,triggerStyleRef:Be(e,"triggerStyle"),shouldUseThumbnailUrlRef:Be(e,"shouldUseThumbnailUrl"),renderIconRef:Be(e,"renderIcon"),xhrMap:u,submit:x,doChange:y,showPreviewButtonRef:Be(e,"showPreviewButton"),onPreviewRef:Be(e,"onPreview"),getFileThumbnailUrlResolver:p,listTypeRef:Be(e,"listType"),dragOverRef:c,openOpenFileDialog:v,draggerInsideRef:s,handleFileAddition:h,mergedDisabledRef:o.mergedDisabledRef,maxReachedRef:i,fileListStyleRef:Be(e,"fileListStyle"),abstractRef:Be(e,"abstract"),acceptRef:Be(e,"accept"),cssVarsRef:r?void 0:C,themeClassRef:S==null?void 0:S.themeClass,onRender:S==null?void 0:S.onRender,showTriggerRef:Be(e,"showTrigger"),imageGroupPropsRef:Be(e,"imageGroupProps"),mergedDirectoryDndRef:ne(()=>{var A;return(A=e.directoryDnd)!==null&&A!==void 0?A:e.directory})});const w={clear:()=>{a.value=[]},submit:x,openOpenFileDialog:v};return Object.assign({mergedClsPrefix:t,draggerInsideRef:s,inputElRef:l,mergedTheme:n,dragOver:c,mergedMultiple:m,cssVars:r?void 0:C,themeClass:S==null?void 0:S.themeClass,onRender:S==null?void 0:S.onRender,handleFileInputChange:b},w)},render(){var e,t;const{draggerInsideRef:r,mergedClsPrefix:n,$slots:o,directory:i,onRender:a}=this;if(o.default&&!this.abstract){const l=o.default()[0];!((e=l==null?void 0:l.type)===null||e===void 0)&&e[Jm]&&(r.value=!0)}const d=I("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${n}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:i||void 0,directory:i||void 0}));return this.abstract?I(Qe,null,(t=o.default)===null||t===void 0?void 0:t.call(o),I(Gu,{to:"body"},d)):(a==null||a(),I("div",{class:[`${n}-upload`,r.value&&`${n}-upload--dragger-inside`,this.dragOver&&`${n}-upload--drag-over`,this.themeClass],style:this.cssVars},d,this.showTrigger&&this.listType!=="image-card"&&I(r0,null,o),this.showFileList&&I(k3,null,o)))}}),z3=()=>({}),j3={name:"Equation",common:Te,self:z3},H3=j3,W3={name:"dark",common:Te,Alert:mk,Anchor:Lk,AutoComplete:Wk,Avatar:nm,AvatarGroup:eO,BackTop:nO,Badge:iO,Breadcrumb:pO,Button:tr,ButtonGroup:ZI,Calendar:EO,Card:um,Carousel:FO,Cascader:jO,Checkbox:jo,Code:cm,Collapse:VO,CollapseTransition:XO,ColorPicker:RO,DataTable:mD,DatePicker:jD,Descriptions:KD,Dialog:Rm,Divider:dI,Drawer:pI,Dropdown:Tc,DynamicInput:mI,DynamicTags:_I,Element:SI,Empty:to,Ellipsis:vm,Equation:H3,Form:RI,GradientText:OI,Icon:SD,IconWrapper:NI,Image:T4,Input:br,InputNumber:QI,LegacyTransfer:B4,Layout:t5,List:o5,LoadingBar:s5,Log:l5,Menu:p5,Mention:c5,Message:XI,Modal:oI,Notification:WI,PageHeader:m5,Pagination:hm,Popconfirm:_5,Popover:ro,Popselect:dm,Progress:Nm,Radio:mm,Rate:E5,Result:L5,Row:w4,Scrollbar:er,Select:fm,Skeleton:a3,Slider:O5,Space:Pm,Spin:M5,Statistic:N5,Steps:j5,Switch:G5,Table:X5,Tabs:e4,Tag:Kv,Thing:n4,TimePicker:Em,Timeline:s4,Tooltip:Na,Transfer:u4,Tree:zm,TreeSelect:h4,Typography:m4,Upload:_4,Watermark:S4},G3=ye({__name:"App",setup(e){const t=Q(KC()),r=ne(()=>t.value==="dark"?W3:null);return(n,o)=>{const i=PI,a=Fy("router-view"),d=W4,l=ZO;return je(),Hn(l,{theme:r.value},{default:ke(()=>[fe(i),fe(d,null,{default:ke(()=>[fe(a)]),_:1})]),_:1},8,["theme"])}}}),V3=["btn-type"],K3=ye({__name:"BigButton",props:{onClick:Function,type:String},setup(e){const t=e;return(r,n)=>(je(),Ye("button",{"btn-type":e.type,onClick:n[0]||(n[0]=(...o)=>t.onClick&&t.onClick(...o))},[xp(r.$slots,"default",{},void 0,!0)],8,V3))}}),rs=(e,t)=>{const r=e.__vccOpts||e;for(const[n,o]of t)r[n]=o;return r},Sh=rs(K3,[["__scopeId","data-v-52ab0455"]]);function o0(e,t){return function(){return e.apply(t,arguments)}}const{toString:Y3}=Object.prototype,{getPrototypeOf:Dc}=Object,Ua=(e=>t=>{const r=Y3.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),$r=e=>(e=e.toLowerCase(),t=>Ua(t)===e),za=e=>t=>typeof t===e,{isArray:Go}=Array,Wi=za("undefined");function X3(e){return e!==null&&!Wi(e)&&e.constructor!==null&&!Wi(e.constructor)&&hr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const i0=$r("ArrayBuffer");function q3(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&i0(e.buffer),t}const Z3=za("string"),hr=za("function"),s0=za("number"),ja=e=>e!==null&&typeof e=="object",J3=e=>e===!0||e===!1,Ds=e=>{if(Ua(e)!=="object")return!1;const t=Dc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Q3=$r("Date"),eM=$r("File"),tM=$r("Blob"),rM=$r("FileList"),nM=e=>ja(e)&&hr(e.pipe),oM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||hr(e.append)&&((t=Ua(e))==="formdata"||t==="object"&&hr(e.toString)&&e.toString()==="[object FormData]"))},iM=$r("URLSearchParams"),sM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ns(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),Go(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let d;for(n=0;n<a;n++)d=i[n],t.call(null,e[d],d,e)}}function a0(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,o;for(;n-- >0;)if(o=r[n],t===o.toLowerCase())return o;return null}const l0=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),u0=e=>!Wi(e)&&e!==l0;function xu(){const{caseless:e}=u0(this)&&this||{},t={},r=(n,o)=>{const i=e&&a0(t,o)||o;Ds(t[i])&&Ds(n)?t[i]=xu(t[i],n):Ds(n)?t[i]=xu({},n):Go(n)?t[i]=n.slice():t[i]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&ns(arguments[n],r);return t}const aM=(e,t,r,{allOwnKeys:n}={})=>(ns(t,(o,i)=>{r&&hr(o)?e[i]=o0(o,r):e[i]=o},{allOwnKeys:n}),e),lM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),uM=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},cM=(e,t,r,n)=>{let o,i,a;const d={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],(!n||n(a,e,t))&&!d[a]&&(t[a]=e[a],d[a]=!0);e=r!==!1&&Dc(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},dM=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},fM=e=>{if(!e)return null;if(Go(e))return e;let t=e.length;if(!s0(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},hM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Dc(Uint8Array)),pM=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=n.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},gM=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},vM=$r("HTMLFormElement"),mM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),Eh=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),bM=$r("RegExp"),c0=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ns(r,(o,i)=>{t(o,i,e)!==!1&&(n[i]=o)}),Object.defineProperties(e,n)},yM=e=>{c0(e,(t,r)=>{if(hr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(hr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},xM=(e,t)=>{const r={},n=o=>{o.forEach(i=>{r[i]=!0})};return Go(e)?n(e):n(String(e).split(t)),r},_M=()=>{},CM=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Ll="abcdefghijklmnopqrstuvwxyz",wh="0123456789",d0={DIGIT:wh,ALPHA:Ll,ALPHA_DIGIT:Ll+Ll.toUpperCase()+wh},SM=(e=16,t=d0.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function EM(e){return!!(e&&hr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const wM=e=>{const t=new Array(10),r=(n,o)=>{if(ja(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[o]=n;const i=Go(n)?[]:{};return ns(n,(a,d)=>{const l=r(a,o+1);!Wi(l)&&(i[d]=l)}),t[o]=void 0,i}}return n};return r(e,0)},TM=$r("AsyncFunction"),RM=e=>e&&(ja(e)||hr(e))&&hr(e.then)&&hr(e.catch),he={isArray:Go,isArrayBuffer:i0,isBuffer:X3,isFormData:oM,isArrayBufferView:q3,isString:Z3,isNumber:s0,isBoolean:J3,isObject:ja,isPlainObject:Ds,isUndefined:Wi,isDate:Q3,isFile:eM,isBlob:tM,isRegExp:bM,isFunction:hr,isStream:nM,isURLSearchParams:iM,isTypedArray:hM,isFileList:rM,forEach:ns,merge:xu,extend:aM,trim:sM,stripBOM:lM,inherits:uM,toFlatObject:cM,kindOf:Ua,kindOfTest:$r,endsWith:dM,toArray:fM,forEachEntry:pM,matchAll:gM,isHTMLForm:vM,hasOwnProperty:Eh,hasOwnProp:Eh,reduceDescriptors:c0,freezeMethods:yM,toObjectSet:xM,toCamelCase:mM,noop:_M,toFiniteNumber:CM,findKey:a0,global:l0,isContextDefined:u0,ALPHABET:d0,generateString:SM,isSpecCompliantForm:EM,toJSONObject:wM,isAsyncFn:TM,isThenable:RM};function it(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}he.inherits(it,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:he.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const f0=it.prototype,h0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{h0[e]={value:e}});Object.defineProperties(it,h0);Object.defineProperty(f0,"isAxiosError",{value:!0});it.from=(e,t,r,n,o,i)=>{const a=Object.create(f0);return he.toFlatObject(e,a,function(l){return l!==Error.prototype},d=>d!=="isAxiosError"),it.call(a,e.message,t,r,n,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const AM=null;function _u(e){return he.isPlainObject(e)||he.isArray(e)}function p0(e){return he.endsWith(e,"[]")?e.slice(0,-2):e}function Th(e,t,r){return e?e.concat(t).map(function(o,i){return o=p0(o),!r&&i?"["+o+"]":o}).join(r?".":""):t}function LM(e){return he.isArray(e)&&!e.some(_u)}const PM=he.toFlatObject(he,{},null,function(t){return/^is[A-Z]/.test(t)});function Ha(e,t,r){if(!he.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=he.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,g){return!he.isUndefined(g[b])});const n=r.metaTokens,o=r.visitor||c,i=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&he.isSpecCompliantForm(t);if(!he.isFunction(o))throw new TypeError("visitor must be a function");function s(v){if(v===null)return"";if(he.isDate(v))return v.toISOString();if(!l&&he.isBlob(v))throw new it("Blob is not supported. Use a Buffer instead.");return he.isArrayBuffer(v)||he.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,b,g){let m=v;if(v&&!g&&typeof v=="object"){if(he.endsWith(b,"{}"))b=n?b:b.slice(0,-2),v=JSON.stringify(v);else if(he.isArray(v)&&LM(v)||(he.isFileList(v)||he.endsWith(b,"[]"))&&(m=he.toArray(v)))return b=p0(b),m.forEach(function(x,y){!(he.isUndefined(x)||x===null)&&t.append(a===!0?Th([b],y,i):a===null?b:b+"[]",s(x))}),!1}return _u(v)?!0:(t.append(Th(g,b,i),s(v)),!1)}const u=[],f=Object.assign(PM,{defaultVisitor:c,convertValue:s,isVisitable:_u});function _(v,b){if(!he.isUndefined(v)){if(u.indexOf(v)!==-1)throw Error("Circular reference detected in "+b.join("."));u.push(v),he.forEach(v,function(m,h){(!(he.isUndefined(m)||m===null)&&o.call(t,m,he.isString(h)?h.trim():h,b,f))===!0&&_(m,b?b.concat(h):[h])}),u.pop()}}if(!he.isObject(e))throw new TypeError("data must be an object");return _(e),t}function Rh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Ic(e,t){this._pairs=[],e&&Ha(e,this,t)}const g0=Ic.prototype;g0.append=function(t,r){this._pairs.push([t,r])};g0.toString=function(t){const r=t?function(n){return t.call(this,n,Rh)}:Rh;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function kM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function v0(e,t,r){if(!t)return e;const n=r&&r.encode||kM,o=r&&r.serialize;let i;if(o?i=o(t,r):i=he.isURLSearchParams(t)?t.toString():new Ic(t,r).toString(n),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class OM{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){he.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Ah=OM,m0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},DM=typeof URLSearchParams<"u"?URLSearchParams:Ic,IM=typeof FormData<"u"?FormData:null,MM=typeof Blob<"u"?Blob:null,FM=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),BM=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Fr={isBrowser:!0,classes:{URLSearchParams:DM,FormData:IM,Blob:MM},isStandardBrowserEnv:FM,isStandardBrowserWebWorkerEnv:BM,protocols:["http","https","file","blob","url","data"]};function NM(e,t){return Ha(e,new Fr.classes.URLSearchParams,Object.assign({visitor:function(r,n,o,i){return Fr.isNode&&he.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function $M(e){return he.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function UM(e){const t={},r=Object.keys(e);let n;const o=r.length;let i;for(n=0;n<o;n++)i=r[n],t[i]=e[i];return t}function b0(e){function t(r,n,o,i){let a=r[i++];const d=Number.isFinite(+a),l=i>=r.length;return a=!a&&he.isArray(o)?o.length:a,l?(he.hasOwnProp(o,a)?o[a]=[o[a],n]:o[a]=n,!d):((!o[a]||!he.isObject(o[a]))&&(o[a]=[]),t(r,n,o[a],i)&&he.isArray(o[a])&&(o[a]=UM(o[a])),!d)}if(he.isFormData(e)&&he.isFunction(e.entries)){const r={};return he.forEachEntry(e,(n,o)=>{t($M(n),o,r,0)}),r}return null}const zM={"Content-Type":void 0};function jM(e,t,r){if(he.isString(e))try{return(t||JSON.parse)(e),he.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Wa={transitional:m0,adapter:["xhr","http"],transformRequest:[function(t,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,i=he.isObject(t);if(i&&he.isHTMLForm(t)&&(t=new FormData(t)),he.isFormData(t))return o&&o?JSON.stringify(b0(t)):t;if(he.isArrayBuffer(t)||he.isBuffer(t)||he.isStream(t)||he.isFile(t)||he.isBlob(t))return t;if(he.isArrayBufferView(t))return t.buffer;if(he.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return NM(t,this.formSerializer).toString();if((d=he.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ha(d?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||o?(r.setContentType("application/json",!1),jM(t)):t}],transformResponse:[function(t){const r=this.transitional||Wa.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(t&&he.isString(t)&&(n&&!this.responseType||o)){const a=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(d){if(a)throw d.name==="SyntaxError"?it.from(d,it.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fr.classes.FormData,Blob:Fr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};he.forEach(["delete","get","head"],function(t){Wa.headers[t]={}});he.forEach(["post","put","patch"],function(t){Wa.headers[t]=he.merge(zM)});const Mc=Wa,HM=he.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WM=e=>{const t={};let r,n,o;return e&&e.split(`
`).forEach(function(a){o=a.indexOf(":"),r=a.substring(0,o).trim().toLowerCase(),n=a.substring(o+1).trim(),!(!r||t[r]&&HM[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Lh=Symbol("internals");function ai(e){return e&&String(e).trim().toLowerCase()}function Is(e){return e===!1||e==null?e:he.isArray(e)?e.map(Is):String(e)}function GM(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const VM=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Pl(e,t,r,n,o){if(he.isFunction(n))return n.call(this,t,r);if(o&&(t=r),!!he.isString(t)){if(he.isString(n))return t.indexOf(n)!==-1;if(he.isRegExp(n))return n.test(t)}}function KM(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function YM(e,t){const r=he.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(o,i,a){return this[n].call(this,t,o,i,a)},configurable:!0})})}class Ga{constructor(t){t&&this.set(t)}set(t,r,n){const o=this;function i(d,l,s){const c=ai(l);if(!c)throw new Error("header name must be a non-empty string");const u=he.findKey(o,c);(!u||o[u]===void 0||s===!0||s===void 0&&o[u]!==!1)&&(o[u||l]=Is(d))}const a=(d,l)=>he.forEach(d,(s,c)=>i(s,c,l));return he.isPlainObject(t)||t instanceof this.constructor?a(t,r):he.isString(t)&&(t=t.trim())&&!VM(t)?a(WM(t),r):t!=null&&i(r,t,n),this}get(t,r){if(t=ai(t),t){const n=he.findKey(this,t);if(n){const o=this[n];if(!r)return o;if(r===!0)return GM(o);if(he.isFunction(r))return r.call(this,o,n);if(he.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ai(t),t){const n=he.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Pl(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let o=!1;function i(a){if(a=ai(a),a){const d=he.findKey(n,a);d&&(!r||Pl(n,n[d],d,r))&&(delete n[d],o=!0)}}return he.isArray(t)?t.forEach(i):i(t),o}clear(t){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const i=r[n];(!t||Pl(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const r=this,n={};return he.forEach(this,(o,i)=>{const a=he.findKey(n,i);if(a){r[a]=Is(o),delete r[i];return}const d=t?KM(i):String(i).trim();d!==i&&delete r[i],r[d]=Is(o),n[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return he.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=t&&he.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[Lh]=this[Lh]={accessors:{}}).accessors,o=this.prototype;function i(a){const d=ai(a);n[d]||(YM(o,a),n[d]=!0)}return he.isArray(t)?t.forEach(i):i(t),this}}Ga.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);he.freezeMethods(Ga.prototype);he.freezeMethods(Ga);const Gr=Ga;function kl(e,t){const r=this||Mc,n=t||r,o=Gr.from(n.headers);let i=n.data;return he.forEach(e,function(d){i=d.call(r,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function y0(e){return!!(e&&e.__CANCEL__)}function os(e,t,r){it.call(this,e??"canceled",it.ERR_CANCELED,t,r),this.name="CanceledError"}he.inherits(os,it,{__CANCEL__:!0});function XM(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new it("Request failed with status code "+r.status,[it.ERR_BAD_REQUEST,it.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const qM=Fr.isStandardBrowserEnv?function(){return{write:function(r,n,o,i,a,d){const l=[];l.push(r+"="+encodeURIComponent(n)),he.isNumber(o)&&l.push("expires="+new Date(o).toGMTString()),he.isString(i)&&l.push("path="+i),he.isString(a)&&l.push("domain="+a),d===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function ZM(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function JM(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function x0(e,t){return e&&!ZM(t)?JM(e,t):t}const QM=Fr.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function o(i){let a=i;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=o(window.location.href),function(a){const d=he.isString(a)?o(a):a;return d.protocol===n.protocol&&d.host===n.host}}():function(){return function(){return!0}}();function eF(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function tF(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o=0,i=0,a;return t=t!==void 0?t:1e3,function(l){const s=Date.now(),c=n[i];a||(a=s),r[o]=l,n[o]=s;let u=i,f=0;for(;u!==o;)f+=r[u++],u=u%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),s-a<t)return;const _=c&&s-c;return _?Math.round(f*1e3/_):void 0}}function Ph(e,t){let r=0;const n=tF(50,250);return o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,d=i-r,l=n(d),s=i<=a;r=i;const c={loaded:i,total:a,progress:a?i/a:void 0,bytes:d,rate:l||void 0,estimated:l&&a&&s?(a-i)/l:void 0,event:o};c[t?"download":"upload"]=!0,e(c)}}const rF=typeof XMLHttpRequest<"u",nF=rF&&function(e){return new Promise(function(r,n){let o=e.data;const i=Gr.from(e.headers).normalize(),a=e.responseType;let d;function l(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}he.isFormData(o)&&(Fr.isStandardBrowserEnv||Fr.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let s=new XMLHttpRequest;if(e.auth){const _=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(_+":"+v))}const c=x0(e.baseURL,e.url);s.open(e.method.toUpperCase(),v0(c,e.params,e.paramsSerializer),!0),s.timeout=e.timeout;function u(){if(!s)return;const _=Gr.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders()),b={data:!a||a==="text"||a==="json"?s.responseText:s.response,status:s.status,statusText:s.statusText,headers:_,config:e,request:s};XM(function(m){r(m),l()},function(m){n(m),l()},b),s=null}if("onloadend"in s?s.onloadend=u:s.onreadystatechange=function(){!s||s.readyState!==4||s.status===0&&!(s.responseURL&&s.responseURL.indexOf("file:")===0)||setTimeout(u)},s.onabort=function(){s&&(n(new it("Request aborted",it.ECONNABORTED,e,s)),s=null)},s.onerror=function(){n(new it("Network Error",it.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){let v=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const b=e.transitional||m0;e.timeoutErrorMessage&&(v=e.timeoutErrorMessage),n(new it(v,b.clarifyTimeoutError?it.ETIMEDOUT:it.ECONNABORTED,e,s)),s=null},Fr.isStandardBrowserEnv){const _=(e.withCredentials||QM(c))&&e.xsrfCookieName&&qM.read(e.xsrfCookieName);_&&i.set(e.xsrfHeaderName,_)}o===void 0&&i.setContentType(null),"setRequestHeader"in s&&he.forEach(i.toJSON(),function(v,b){s.setRequestHeader(b,v)}),he.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),a&&a!=="json"&&(s.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&s.addEventListener("progress",Ph(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&s.upload&&s.upload.addEventListener("progress",Ph(e.onUploadProgress)),(e.cancelToken||e.signal)&&(d=_=>{s&&(n(!_||_.type?new os(null,e,s):_),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d)));const f=eF(c);if(f&&Fr.protocols.indexOf(f)===-1){n(new it("Unsupported protocol "+f+":",it.ERR_BAD_REQUEST,e));return}s.send(o||null)})},Ms={http:AM,xhr:nF};he.forEach(Ms,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const oF={getAdapter:e=>{e=he.isArray(e)?e:[e];const{length:t}=e;let r,n;for(let o=0;o<t&&(r=e[o],!(n=he.isString(r)?Ms[r.toLowerCase()]:r));o++);if(!n)throw n===!1?new it(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(he.hasOwnProp(Ms,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!he.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:Ms};function Ol(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new os(null,e)}function kh(e){return Ol(e),e.headers=Gr.from(e.headers),e.data=kl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),oF.getAdapter(e.adapter||Mc.adapter)(e).then(function(n){return Ol(e),n.data=kl.call(e,e.transformResponse,n),n.headers=Gr.from(n.headers),n},function(n){return y0(n)||(Ol(e),n&&n.response&&(n.response.data=kl.call(e,e.transformResponse,n.response),n.response.headers=Gr.from(n.response.headers))),Promise.reject(n)})}const Oh=e=>e instanceof Gr?e.toJSON():e;function ko(e,t){t=t||{};const r={};function n(s,c,u){return he.isPlainObject(s)&&he.isPlainObject(c)?he.merge.call({caseless:u},s,c):he.isPlainObject(c)?he.merge({},c):he.isArray(c)?c.slice():c}function o(s,c,u){if(he.isUndefined(c)){if(!he.isUndefined(s))return n(void 0,s,u)}else return n(s,c,u)}function i(s,c){if(!he.isUndefined(c))return n(void 0,c)}function a(s,c){if(he.isUndefined(c)){if(!he.isUndefined(s))return n(void 0,s)}else return n(void 0,c)}function d(s,c,u){if(u in t)return n(s,c);if(u in e)return n(void 0,s)}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:d,headers:(s,c)=>o(Oh(s),Oh(c),!0)};return he.forEach(Object.keys(Object.assign({},e,t)),function(c){const u=l[c]||o,f=u(e[c],t[c],c);he.isUndefined(f)&&u!==d||(r[c]=f)}),r}const _0="1.4.0",Fc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Fc[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Dh={};Fc.transitional=function(t,r,n){function o(i,a){return"[Axios v"+_0+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,d)=>{if(t===!1)throw new it(o(a," has been removed"+(r?" in "+r:"")),it.ERR_DEPRECATED);return r&&!Dh[a]&&(Dh[a]=!0,console.warn(o(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,a,d):!0}};function iF(e,t,r){if(typeof e!="object")throw new it("options must be an object",it.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const i=n[o],a=t[i];if(a){const d=e[i],l=d===void 0||a(d,i,e);if(l!==!0)throw new it("option "+i+" must be "+l,it.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new it("Unknown option "+i,it.ERR_BAD_OPTION)}}const Cu={assertOptions:iF,validators:Fc},on=Cu.validators;class ua{constructor(t){this.defaults=t,this.interceptors={request:new Ah,response:new Ah}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ko(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:i}=r;n!==void 0&&Cu.assertOptions(n,{silentJSONParsing:on.transitional(on.boolean),forcedJSONParsing:on.transitional(on.boolean),clarifyTimeoutError:on.transitional(on.boolean)},!1),o!=null&&(he.isFunction(o)?r.paramsSerializer={serialize:o}:Cu.assertOptions(o,{encode:on.function,serialize:on.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a;a=i&&he.merge(i.common,i[r.method]),a&&he.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),r.headers=Gr.concat(a,i);const d=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(l=l&&b.synchronous,d.unshift(b.fulfilled,b.rejected))});const s=[];this.interceptors.response.forEach(function(b){s.push(b.fulfilled,b.rejected)});let c,u=0,f;if(!l){const v=[kh.bind(this),void 0];for(v.unshift.apply(v,d),v.push.apply(v,s),f=v.length,c=Promise.resolve(r);u<f;)c=c.then(v[u++],v[u++]);return c}f=d.length;let _=r;for(u=0;u<f;){const v=d[u++],b=d[u++];try{_=v(_)}catch(g){b.call(this,g);break}}try{c=kh.call(this,_)}catch(v){return Promise.reject(v)}for(u=0,f=s.length;u<f;)c=c.then(s[u++],s[u++]);return c}getUri(t){t=ko(this.defaults,t);const r=x0(t.baseURL,t.url);return v0(r,t.params,t.paramsSerializer)}}he.forEach(["delete","get","head","options"],function(t){ua.prototype[t]=function(r,n){return this.request(ko(n||{},{method:t,url:r,data:(n||{}).data}))}});he.forEach(["post","put","patch"],function(t){function r(n){return function(i,a,d){return this.request(ko(d||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}ua.prototype[t]=r(),ua.prototype[t+"Form"]=r(!0)});const Fs=ua;class Bc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(o=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](o);n._listeners=null}),this.promise.then=o=>{let i;const a=new Promise(d=>{n.subscribe(d),i=d}).then(o);return a.cancel=function(){n.unsubscribe(i)},a},t(function(i,a,d){n.reason||(n.reason=new os(i,a,d),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new Bc(function(o){t=o}),cancel:t}}}const sF=Bc;function aF(e){return function(r){return e.apply(null,r)}}function lF(e){return he.isObject(e)&&e.isAxiosError===!0}const Su={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Su).forEach(([e,t])=>{Su[t]=e});const uF=Su;function C0(e){const t=new Fs(e),r=o0(Fs.prototype.request,t);return he.extend(r,Fs.prototype,t,{allOwnKeys:!0}),he.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return C0(ko(e,o))},r}const It=C0(Mc);It.Axios=Fs;It.CanceledError=os;It.CancelToken=sF;It.isCancel=y0;It.VERSION=_0;It.toFormData=Ha;It.AxiosError=it;It.Cancel=It.CanceledError;It.all=function(t){return Promise.all(t)};It.spread=aF;It.isAxiosError=lF;It.mergeConfig=ko;It.AxiosHeaders=Gr;It.formToJSON=e=>b0(he.isHTMLForm(e)?new FormData(e):e);It.HttpStatusCode=uF;It.default=It;const Ir=It,cF={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},dF=ge("path",{d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8c-69 0-113.44 45.79-128 91.2c-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),fF=ge("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 255.79l-64-64l-64 64"},null,-1),hF=ge("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 448.21V207.79"},null,-1),pF=[dF,fF,hF],gF=ye({name:"CloudUploadOutline",render:function(t,r){return je(),Ye("svg",cF,pF)}}),vF={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},mF=ge("circle",{cx:"256",cy:"256",r:"48",fill:"currentColor"},null,-1),bF=ge("circle",{cx:"416",cy:"256",r:"48",fill:"currentColor"},null,-1),yF=ge("circle",{cx:"96",cy:"256",r:"48",fill:"currentColor"},null,-1),xF=[mF,bF,yF],_F=ye({name:"EllipsisHorizontal",render:function(t,r){return je(),Ye("svg",vF,xF)}}),CF={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},SF=ge("path",{d:"M368 192h-16v-80a96 96 0 1 0-192 0v80h-16a64.07 64.07 0 0 0-64 64v176a64.07 64.07 0 0 0 64 64h224a64.07 64.07 0 0 0 64-64V256a64.07 64.07 0 0 0-64-64zm-48 0H192v-80a64 64 0 1 1 128 0z",fill:"currentColor"},null,-1),EF=[SF],Eu=ye({name:"LockClosed",render:function(t,r){return je(),Ye("svg",CF,EF)}}),wF={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},TF=ge("path",{d:"M336 208v-95a80 80 0 0 0-160 0v95",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),RF=ge("rect",{x:"96",y:"208",width:"320",height:"272",rx:"48",ry:"48",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),AF=[TF,RF],S0=ye({name:"LockClosedOutline",render:function(t,r){return je(),Ye("svg",wF,AF)}}),LF={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},PF=ge("path",{d:"M336 112a80 80 0 0 0-160 0v96",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),kF=ge("rect",{x:"96",y:"208",width:"320",height:"272",rx:"48",ry:"48",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),OF=[PF,kF],DF=ye({name:"LockOpenOutline",render:function(t,r){return je(),Ye("svg",LF,OF)}}),IF={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},MF=ge("path",{d:"M304 336v40a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V136a40 40 0 0 1 40-40h152c22.09 0 48 17.91 48 40v40",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),FF=ge("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M368 336l80-80l-80-80"},null,-1),BF=ge("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M176 256h256"},null,-1),NF=[MF,FF,BF],$F=ye({name:"LogOutOutline",render:function(t,r){return je(),Ye("svg",IF,NF)}}),UF={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},zF=ge("path",{d:"M424 80H88a56.06 56.06 0 0 0-56 56v240a56.06 56.06 0 0 0 56 56h336a56.06 56.06 0 0 0 56-56V136a56.06 56.06 0 0 0-56-56zm-14.18 92.63l-144 112a16 16 0 0 1-19.64 0l-144-112a16 16 0 1 1 19.64-25.26L256 251.73l134.18-104.36a16 16 0 0 1 19.64 25.26z",fill:"currentColor"},null,-1),jF=[zF],HF=ye({name:"Mail",render:function(t,r){return je(),Ye("svg",UF,jF)}}),WF={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},GF=ge("path",{d:"M332.64 64.58C313.18 43.57 286 32 256 32c-30.16 0-57.43 11.5-76.8 32.38c-19.58 21.11-29.12 49.8-26.88 80.78C156.76 206.28 203.27 256 256 256s99.16-49.71 103.67-110.82c2.27-30.7-7.33-59.33-27.03-80.6z",fill:"currentColor"},null,-1),VF=ge("path",{d:"M432 480H80a31 31 0 0 1-24.2-11.13c-6.5-7.77-9.12-18.38-7.18-29.11C57.06 392.94 83.4 353.61 124.8 326c36.78-24.51 83.37-38 131.2-38s94.42 13.5 131.2 38c41.4 27.6 67.74 66.93 76.18 113.75c1.94 10.73-.68 21.34-7.18 29.11A31 31 0 0 1 432 480z",fill:"currentColor"},null,-1),KF=[GF,VF],Ih=ye({name:"Person",render:function(t,r){return je(),Ye("svg",WF,KF)}}),YF={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},XF=ge("path",{d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),qF=ge("path",{d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),ZF=[XF,qF],JF=ye({name:"PersonOutline",render:function(t,r){return je(),Ye("svg",YF,ZF)}}),Nc=e=>(gn("data-v-f9f9eff3"),e=e(),vn(),e),QF={class:"homepage"},e6=Nc(()=>ge("p",{class:"title"},"Go Live",-1)),t6={class:"btn-group"},r6=Nc(()=>ge("span",{class:"modal-title"},"  ",-1)),n6={class:"modal-content"},o6=Nc(()=>ge("span",{class:"modal-title"},"  ",-1)),i6={class:"modal-content"},s6=ye({__name:"Homepage",emits:["login"],setup(e,{emit:t}){const r=Q(!1),n=Q(!1),o=Q("success"),i=Q("success"),a=Q("success"),d=Q("success"),l=Q(""),s=Q(""),c=Q(""),u=Q(""),f=Q(""),_=Q(""),v=Q(""),b=Q(""),g=Q(!1),m=Q(0),h=Q(!1),x=Q(!1),y=kc();Ki({title:"GoLive"});function p(){r.value=!0}function C(){n.value=!0}function S(M){return/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/.test(M)}function w(M){return!/\s/.test(M)}function A(M){return/^[a-zA-Z][a-zA-Z0-9_-]{2,16}$/.test(M)}function E(M){o.value=A(M)?"success":"error"}function R(M){i.value=w(M)?"success":"error"}function T(M){a.value=S(M)?"success":"error"}function L(M){d.value=M===v.value?"success":"error"}async function P(){const M=l.value,F=s.value;if(!M||!F){y.error("");return}h.value=!0;const N=await Ir.post("/api/auth/login",{username:M,password:F}).then(U=>U.data);if(h.value=!1,N.code!=0){y.error(N.msg);return}y.success(N.msg),t("login")}async function k(){const M=f.value;if(!M||!S(M)){y.error("");return}g.value=!0;const F=await Ir.post("/api/auth/send_otp",{email:M}).then(N=>N.data);if(g.value=!1,F.code!=0){y.error(F.msg);return}y.success(F.msg),m.value=60,D()}function D(){m.value>0&&setTimeout(()=>{m.value--,D()},1e3)}async function O(){const M=c.value,F=u.value,N=f.value,U=_.value,G=v.value,H=b.value;if(!M||!F||!N||!U||!G||!H){y.error("");return}if(!A(M)){o.value="error",y.error(" 3  16 ");return}if(!w(F)){i.value="error",y.error("");return}if(!S(N)){a.value="error",y.error("");return}if(G!=H){d.value="error",y.error("");return}o.value="success",i.value="success",a.value="success",d.value="success",x.value=!0;const Z=await Ir.post("/api/auth/register",{username:M,nickname:F,email:N,otp:U,password:G}).then(de=>de.data);if(x.value=!1,Z.code!=0){y.error(Z.msg);return}y.success(Z.msg),t("login")}return(M,F)=>{const N=Ci,U=Qv,G=un,H=wc,Z=Lm,de=em;return je(),Ye(Qe,null,[ge("div",QF,[e6,ge("div",t6,[fe(Sh,{id:"login",type:"primary",onClick:p},{default:ke(()=>[Xe("")]),_:1}),fe(Sh,{id:"register",type:"secondary",onClick:C},{default:ke(()=>[Xe("")]),_:1})])]),fe(Z,{show:r.value,"onUpdate:show":F[2]||(F[2]=ee=>r.value=ee)},{default:ke(()=>[fe(H,{style:{"max-width":"330px"},bordered:!0,role:"dialog","aria-modal":"true",class:"modal"},{header:ke(()=>[r6]),footer:ke(()=>[fe(G,{type:"primary",class:"modal-footer-btn",onClick:P,loading:h.value},{default:ke(()=>[Xe("  ")]),_:1},8,["loading"])]),default:ke(()=>[ge("div",n6,[fe(U,{value:l.value,"onUpdate:value":F[0]||(F[0]=ee=>l.value=ee),placeholder:" / ","input-props":{type:"username"}},{prefix:ke(()=>[fe(N,{component:be(Ih)},null,8,["component"])]),_:1},8,["value"]),fe(U,{value:s.value,"onUpdate:value":F[1]||(F[1]=ee=>s.value=ee),placeholder:"",type:"password"},{prefix:ke(()=>[fe(N,{component:be(Eu)},null,8,["component"])]),_:1},8,["value"])])]),_:1})]),_:1},8,["show"]),fe(Z,{show:n.value,"onUpdate:show":F[9]||(F[9]=ee=>n.value=ee)},{default:ke(()=>[fe(H,{style:{"max-width":"330px"},bordered:!0,role:"dialog","aria-modal":"true",class:"modal"},{header:ke(()=>[o6]),footer:ke(()=>[fe(G,{type:"primary",class:"modal-footer-btn",onClick:O,loading:x.value},{default:ke(()=>[Xe("  ")]),_:1},8,["loading"])]),default:ke(()=>[ge("div",i6,[fe(U,{value:c.value,"onUpdate:value":F[3]||(F[3]=ee=>c.value=ee),placeholder:"","input-props":{type:"username"},status:o.value,"on-change":E},{prefix:ke(()=>[fe(N,{component:be(Ih)},null,8,["component"])]),_:1},8,["value","status"]),fe(U,{value:u.value,"onUpdate:value":F[4]||(F[4]=ee=>u.value=ee),placeholder:"","input-props":{type:"nickname"},status:i.value,"on-change":R},{prefix:ke(()=>[fe(N,{component:be(JF)},null,8,["component"])]),_:1},8,["value","status"]),fe(U,{value:f.value,"onUpdate:value":F[5]||(F[5]=ee=>f.value=ee),placeholder:"",type:"email",status:a.value,"on-change":T},{prefix:ke(()=>[fe(N,{component:be(HF)},null,8,["component"])]),_:1},8,["value","status"]),fe(de,null,{default:ke(()=>[fe(U,{value:_.value,"onUpdate:value":F[6]||(F[6]=ee=>_.value=ee),placeholder:""},{prefix:ke(()=>[fe(N,{component:be(_F)},null,8,["component"])]),_:1},8,["value"]),fe(G,{type:"primary",ghost:"",onClick:k,disabled:new Boolean(m.value),loading:g.value,style:dr({width:m.value?"60px":"140px"})},{default:ke(()=>[Xe(bt(m.value||""),1)]),_:1},8,["disabled","loading","style"])]),_:1}),fe(U,{value:v.value,"onUpdate:value":F[7]||(F[7]=ee=>v.value=ee),placeholder:"",type:"password"},{prefix:ke(()=>[fe(N,{component:be(Eu)},null,8,["component"])]),_:1},8,["value"]),fe(U,{value:b.value,"onUpdate:value":F[8]||(F[8]=ee=>b.value=ee),placeholder:"",type:"password",status:d.value,"on-change":L},{prefix:ke(()=>[fe(N,{component:be(S0)},null,8,["component"])]),_:1},8,["value","status"])])]),_:1})]),_:1},8,["show"])],64)}}}),a6=rs(s6,[["__scopeId","data-v-f9f9eff3"]]),l6={class:"container"},u6={class:"header"},c6={class:"profile-name"},d6={class:"nickname"},f6={class:"username"},h6={class:"content"},p6={href:"https://obsproject.com/"},g6={class:"modal-content"},v6=ye({__name:"Profile",emits:["logout"],setup(e,{emit:t}){const r=kc(),n=Jt({nickname:"",username:"",verified:1,avatarUrl:""}),o=Jt({streamServer:"",streamKey:"",liveroom:""}),i=Q(!1),a=Q(!1),d=Q(""),l=Q(""),s=Q("success"),c=Q(!1);tt(()=>n.nickname,p=>{Ki({title:`${p} - GoLive`})});function u(p){return()=>I(Ci,null,{default:()=>I(p)})}const f=[{label:"",key:"uploadAvatar",icon:u(gF)},{label:"",key:"changePassword",icon:u(DF)},{label:"",key:"logout",icon:u($F)}];function _(p){switch(p){case"uploadAvatar":i.value=!0;break;case"changePassword":a.value=!0;break;case"logout":h();break;default:return}}function v(p){var S,w;const C=["image/jpeg","image/png","image/webp"];return(S=p.file.file)!=null&&S.type&&!C.includes((w=p.file.file)==null?void 0:w.type)?(r.error(" png | jpg | webp "),!1):!0}function b({event:p}){const C=JSON.parse((p==null?void 0:p.target).response);if(C.code!=0)r.error(C.msg);else{r.success(C.msg);const S=new URL(location.origin+n.avatarUrl);n.avatarUrl=S.pathname+"?_="+new Date().getTime().toString()}i.value=!1}function g(p){d.value=p===l.value?"success":"error"}mr(async()=>{const p=await Ir.get("/api/user").then(L=>L.data);if(p.code!=0){r.error(p.msg),Ir.get("/api/auth/logout"),setTimeout(()=>{location.reload()},3e3);return}const{username:C,nickname:S,avatarUrl:w,verified:A,streamServer:E,streamKey:R,liveroom:T}=p.data;n.nickname=S,n.username=C,n.verified=A,n.avatarUrl=w,o.streamServer=E,o.streamKey=R,o.liveroom=T});async function m(){c.value=!0;const p=await Ir.get("/api/liveroom/get_key").then(S=>S.data);if(c.value=!1,p.code!=0){r.error(p.msg);return}else r.success(p.msg);const{key:C}=p.data;o.streamKey=C}async function h(){const p=await Ir.get("/api/auth/logout").then(C=>C.data);if(p.code!=0){r.error(p.msg);return}else r.success(p.msg);t("logout")}async function x(){if(s.value!=l.value){r.error("");return}const p=l.value;if(!p){r.error("");return}const C=await Ir.post("/api/user/update",{password:p}).then(S=>S.data);C.code!=0?r.error(C.msg):(r.success(C.msg),l.value="",s.value="",a.value=!1)}function y(p){let C="";switch(p){case"streamServer":C=o.streamServer;break;case"streamKey":C=o.streamKey;break;case"liveroom":C=o.liveroom;break;default:return}navigator.clipboard.writeText(C)}return(p,C)=>{const S=om,w=im,A=MD,E=LI,R=Qv,T=un,L=em,P=MI,k=wk,D=g3,O=Zm,M=l3,F=f3,N=wc,U=U3,G=Lm;return je(),Ye(Qe,null,[ge("div",l6,[ge("div",u6,[fe(P,{"x-gap":"12","y-gap":"12",cols:4,"item-responsive":"",responsive:"screen"},{default:ke(()=>[fe(E,{span:"4 m:2 l:1",class:"profile-info"},{default:ke(()=>[fe(A,{options:f,onSelect:_},{default:ke(()=>[fe(w,{value:"",show:n.verified===0},{default:ke(()=>[fe(S,{size:48,src:n.avatarUrl,"fallback-src":"/avatar.png"},null,8,["src"])]),_:1},8,["show"])]),_:1}),ge("div",c6,[ge("span",d6,bt(n.nickname),1),ge("span",f6,bt(n.username),1)])]),_:1}),fe(E,{span:"4 m:2 l:1",class:"stream-server-info"},{default:ke(()=>[fe(L,null,{default:ke(()=>[fe(R,{value:o.streamServer,"onUpdate:value":C[0]||(C[0]=H=>o.streamServer=H),id:"stream-server",type:"text",placeholder:"",readonly:!0},null,8,["value"]),fe(T,{type:"primary",ghost:"",onClick:C[1]||(C[1]=H=>y("streamServer"))},{default:ke(()=>[Xe("  ")]),_:1})]),_:1})]),_:1}),fe(E,{span:"4 m:2 l:1",class:"stream-key-info"},{default:ke(()=>[fe(L,null,{default:ke(()=>[fe(R,{value:o.streamKey,"onUpdate:value":C[2]||(C[2]=H=>o.streamKey=H),id:"stream-key",type:"text",placeholder:"",readonly:!0},null,8,["value"]),fe(T,{type:"primary",ghost:"",onClick:C[3]||(C[3]=H=>y("streamKey"))},{default:ke(()=>[Xe("  ")]),_:1}),fe(T,{type:"primary",onClick:m,loading:c.value},{default:ke(()=>[Xe("  ")]),_:1},8,["loading"])]),_:1})]),_:1}),fe(E,{span:"4 m:2 l:1",class:"stream-key-info"},{default:ke(()=>[fe(L,null,{default:ke(()=>[fe(R,{value:o.liveroom,"onUpdate:value":C[4]||(C[4]=H=>o.liveroom=H),id:"liveroom",type:"text",placeholder:"",readonly:!0},null,8,["value"]),fe(T,{type:"primary",ghost:"",onClick:C[5]||(C[5]=H=>y("liveroom"))},{default:ke(()=>[Xe("  ")]),_:1})]),_:1})]),_:1})]),_:1})]),ge("div",h6,[fe(k,{title:"",type:"info"},{default:ke(()=>[Xe("  ")]),_:1}),fe(N,{title:""},{default:ke(()=>[fe(F,{type:"line",animated:""},{default:ke(()=>[fe(M,{name:"pc",tab:"Windows / macOS / Linux"},{default:ke(()=>[ge("a",p6,[fe(D,{prefix:"bar"},{default:ke(()=>[Xe("OBS")]),_:1})]),fe(O,null,{default:ke(()=>[Xe(" "),fe(O,{code:""},{default:ke(()=>[Xe(" -> ")]),_:1}),Xe(" "),fe(O,{code:""},{default:ke(()=>[Xe(" -> ...")]),_:1}),Xe(""),fe(O,{code:""},{default:ke(()=>[Xe(" -> "),fe(O,{type:"primary"},{default:ke(()=>[Xe("")]),_:1})]),_:1}),Xe(""),fe(O,{code:""},{default:ke(()=>[Xe(" -> "),fe(O,{type:"primary"},{default:ke(()=>[Xe("")]),_:1})]),_:1})]),_:1})]),_:1}),fe(M,{name:"android",tab:"Android"},{default:ke(()=>[Xe("  ")]),_:1}),fe(M,{name:"ios",tab:"iOS / iPadOS"},{default:ke(()=>[Xe("  ")]),_:1})]),_:1})]),_:1})])]),fe(G,{show:i.value,"onUpdate:show":C[6]||(C[6]=H=>i.value=H)},{default:ke(()=>[fe(N,{style:{"max-width":"330px"},bordered:!0,role:"dialog","aria-modal":"true"},{footer:ke(()=>[fe(U,{class:"modal-footer-btn",action:"/api/user/upload_avatar",onBeforeUpload:v,accept:".png,.jpeg,.jpg,.webp",max:1,name:"avatar","show-file-list":!1,onFinish:b},{default:ke(()=>[fe(T,{class:"modal-footer-btn"},{default:ke(()=>[Xe("")]),_:1})]),_:1})]),default:ke(()=>[Xe("  jpe | png | webp  () ")]),_:1})]),_:1},8,["show"]),fe(G,{show:a.value,"onUpdate:show":C[9]||(C[9]=H=>a.value=H)},{default:ke(()=>[fe(N,{style:{"max-width":"330px"},bordered:!0,role:"dialog","aria-modal":"true"},{footer:ke(()=>[fe(T,{type:"primary",class:"modal-footer-btn",onClick:x},{default:ke(()=>[Xe("  ")]),_:1})]),default:ke(()=>[ge("div",g6,[fe(R,{value:l.value,"onUpdate:value":C[7]||(C[7]=H=>l.value=H),placeholder:"",type:"password"},{prefix:ke(()=>[fe(be(Ci),{component:be(Eu)},null,8,["component"])]),_:1},8,["value"]),fe(R,{value:s.value,"onUpdate:value":C[8]||(C[8]=H=>s.value=H),placeholder:"",type:"password",status:d.value,"on-change":g},{prefix:ke(()=>[fe(be(Ci),{component:be(S0)},null,8,["component"])]),_:1},8,["value","status"])])]),_:1})]),_:1},8,["show"])],64)}}}),m6=rs(v6,[["__scopeId","data-v-1696ba23"]]),b6=ye({__name:"Index",setup(e){const t=Q(0);mr(async()=>{const n=await Ir.get("/api/overview").then(o=>o.data);t.value=n.user?1:-1});function r(n){t.value=n}return(n,o)=>(je(),Ye(Qe,null,[t.value===-1?(je(),Hn(a6,{key:0,onLogin:o[0]||(o[0]=i=>r(1))})):Ot("",!0),t.value===1?(je(),Hn(m6,{key:1,onLogout:o[1]||(o[1]=i=>r(-1))})):Ot("",!0)],64))}});var E0={exports:{}};(function(e,t){(function(n,o){e.exports=o()})(self,function(){return function(){var r={"./node_modules/es6-promise/dist/es6-promise.js":function(a,d,l){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(s,c){a.exports=c()})(this,function(){function s(se){var me=typeof se;return se!==null&&(me==="object"||me==="function")}function c(se){return typeof se=="function"}var u=void 0;Array.isArray?u=Array.isArray:u=function(se){return Object.prototype.toString.call(se)==="[object Array]"};var f=u,_=0,v=void 0,b=void 0,g=function(me,xe){L[_]=me,L[_+1]=xe,_+=2,_===2&&(b?b(P):D())};function m(se){b=se}function h(se){g=se}var x=typeof window<"u"?window:void 0,y=x||{},p=y.MutationObserver||y.WebKitMutationObserver,C=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",S=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function w(){return function(){return process.nextTick(P)}}function A(){return typeof v<"u"?function(){v(P)}:T()}function E(){var se=0,me=new p(P),xe=document.createTextNode("");return me.observe(xe,{characterData:!0}),function(){xe.data=se=++se%2}}function R(){var se=new MessageChannel;return se.port1.onmessage=P,function(){return se.port2.postMessage(0)}}function T(){var se=setTimeout;return function(){return se(P,1)}}var L=new Array(1e3);function P(){for(var se=0;se<_;se+=2){var me=L[se],xe=L[se+1];me(xe),L[se]=void 0,L[se+1]=void 0}_=0}function k(){try{var se=Function("return this")().require("vertx");return v=se.runOnLoop||se.runOnContext,A()}catch{return T()}}var D=void 0;C?D=w():p?D=E():S?D=R():x===void 0?D=k():D=T();function O(se,me){var xe=this,Le=new this.constructor(N);Le[F]===void 0&&ue(Le);var Fe=xe._state;if(Fe){var Oe=arguments[Fe-1];g(function(){return j(Fe,Le,Oe,xe._result)})}else z(xe,Le,se,me);return Le}function M(se){var me=this;if(se&&typeof se=="object"&&se.constructor===me)return se;var xe=new me(N);return pe(xe,se),xe}var F=Math.random().toString(36).substring(2);function N(){}var U=void 0,G=1,H=2;function Z(){return new TypeError("You cannot resolve a promise with itself")}function de(){return new TypeError("A promises callback cannot return that same promise.")}function ee(se,me,xe,Le){try{se.call(me,xe,Le)}catch(Fe){return Fe}}function W(se,me,xe){g(function(Le){var Fe=!1,Oe=ee(xe,me,function(ce){Fe||(Fe=!0,me!==ce?pe(Le,ce):B(Le,ce))},function(ce){Fe||(Fe=!0,$(Le,ce))},"Settle: "+(Le._label||" unknown promise"));!Fe&&Oe&&(Fe=!0,$(Le,Oe))},se)}function ae(se,me){me._state===G?B(se,me._result):me._state===H?$(se,me._result):z(me,void 0,function(xe){return pe(se,xe)},function(xe){return $(se,xe)})}function q(se,me,xe){me.constructor===se.constructor&&xe===O&&me.constructor.resolve===M?ae(se,me):xe===void 0?B(se,me):c(xe)?W(se,me,xe):B(se,me)}function pe(se,me){if(se===me)$(se,Z());else if(s(me)){var xe=void 0;try{xe=me.then}catch(Le){$(se,Le);return}q(se,me,xe)}else B(se,me)}function we(se){se._onerror&&se._onerror(se._result),Y(se)}function B(se,me){se._state===U&&(se._result=me,se._state=G,se._subscribers.length!==0&&g(Y,se))}function $(se,me){se._state===U&&(se._state=H,se._result=me,g(we,se))}function z(se,me,xe,Le){var Fe=se._subscribers,Oe=Fe.length;se._onerror=null,Fe[Oe]=me,Fe[Oe+G]=xe,Fe[Oe+H]=Le,Oe===0&&se._state&&g(Y,se)}function Y(se){var me=se._subscribers,xe=se._state;if(me.length!==0){for(var Le=void 0,Fe=void 0,Oe=se._result,ce=0;ce<me.length;ce+=3)Le=me[ce],Fe=me[ce+xe],Le?j(xe,Le,Fe,Oe):Fe(Oe);se._subscribers.length=0}}function j(se,me,xe,Le){var Fe=c(xe),Oe=void 0,ce=void 0,Re=!0;if(Fe){try{Oe=xe(Le)}catch(De){Re=!1,ce=De}if(me===Oe){$(me,de());return}}else Oe=Le;me._state!==U||(Fe&&Re?pe(me,Oe):Re===!1?$(me,ce):se===G?B(me,Oe):se===H&&$(me,Oe))}function K(se,me){try{me(function(Le){pe(se,Le)},function(Le){$(se,Le)})}catch(xe){$(se,xe)}}var te=0;function re(){return te++}function ue(se){se[F]=te++,se._state=void 0,se._result=void 0,se._subscribers=[]}function ie(){return new Error("Array Methods must be provided an Array")}var _e=function(){function se(me,xe){this._instanceConstructor=me,this.promise=new me(N),this.promise[F]||ue(this.promise),f(xe)?(this.length=xe.length,this._remaining=xe.length,this._result=new Array(this.length),this.length===0?B(this.promise,this._result):(this.length=this.length||0,this._enumerate(xe),this._remaining===0&&B(this.promise,this._result))):$(this.promise,ie())}return se.prototype._enumerate=function(xe){for(var Le=0;this._state===U&&Le<xe.length;Le++)this._eachEntry(xe[Le],Le)},se.prototype._eachEntry=function(xe,Le){var Fe=this._instanceConstructor,Oe=Fe.resolve;if(Oe===M){var ce=void 0,Re=void 0,De=!1;try{ce=xe.then}catch(Je){De=!0,Re=Je}if(ce===O&&xe._state!==U)this._settledAt(xe._state,Le,xe._result);else if(typeof ce!="function")this._remaining--,this._result[Le]=xe;else if(Fe===Ne){var Ke=new Fe(N);De?$(Ke,Re):q(Ke,xe,ce),this._willSettleAt(Ke,Le)}else this._willSettleAt(new Fe(function(Je){return Je(xe)}),Le)}else this._willSettleAt(Oe(xe),Le)},se.prototype._settledAt=function(xe,Le,Fe){var Oe=this.promise;Oe._state===U&&(this._remaining--,xe===H?$(Oe,Fe):this._result[Le]=Fe),this._remaining===0&&B(Oe,this._result)},se.prototype._willSettleAt=function(xe,Le){var Fe=this;z(xe,void 0,function(Oe){return Fe._settledAt(G,Le,Oe)},function(Oe){return Fe._settledAt(H,Le,Oe)})},se}();function Se(se){return new _e(this,se).promise}function Ee(se){var me=this;return f(se)?new me(function(xe,Le){for(var Fe=se.length,Oe=0;Oe<Fe;Oe++)me.resolve(se[Oe]).then(xe,Le)}):new me(function(xe,Le){return Le(new TypeError("You must pass an array to race."))})}function Me(se){var me=this,xe=new me(N);return $(xe,se),xe}function Ue(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Ve(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Ne=function(){function se(me){this[F]=re(),this._result=this._state=void 0,this._subscribers=[],N!==me&&(typeof me!="function"&&Ue(),this instanceof se?K(this,me):Ve())}return se.prototype.catch=function(xe){return this.then(null,xe)},se.prototype.finally=function(xe){var Le=this,Fe=Le.constructor;return c(xe)?Le.then(function(Oe){return Fe.resolve(xe()).then(function(){return Oe})},function(Oe){return Fe.resolve(xe()).then(function(){throw Oe})}):Le.then(xe,xe)},se}();Ne.prototype.then=O,Ne.all=Se,Ne.race=Ee,Ne.resolve=M,Ne.reject=Me,Ne._setScheduler=m,Ne._setAsap=h,Ne._asap=g;function Ze(){var se=void 0;if(typeof l.g<"u")se=l.g;else if(typeof self<"u")se=self;else try{se=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var me=se.Promise;if(me){var xe=null;try{xe=Object.prototype.toString.call(me.resolve())}catch{}if(xe==="[object Promise]"&&!me.cast)return}se.Promise=Ne}return Ne.polyfill=Ze,Ne.Promise=Ne,Ne})},"./node_modules/events/events.js":function(a){var d=typeof Reflect=="object"?Reflect:null,l=d&&typeof d.apply=="function"?d.apply:function(T,L,P){return Function.prototype.apply.call(T,L,P)},s;d&&typeof d.ownKeys=="function"?s=d.ownKeys:Object.getOwnPropertySymbols?s=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:s=function(T){return Object.getOwnPropertyNames(T)};function c(R){console&&console.warn&&console.warn(R)}var u=Number.isNaN||function(T){return T!==T};function f(){f.init.call(this)}a.exports=f,a.exports.once=w,f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var _=10;function v(R){if(typeof R!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return _},set:function(R){if(typeof R!="number"||R<0||u(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");_=R}}),f.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||u(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function b(R){return R._maxListeners===void 0?f.defaultMaxListeners:R._maxListeners}f.prototype.getMaxListeners=function(){return b(this)},f.prototype.emit=function(T){for(var L=[],P=1;P<arguments.length;P++)L.push(arguments[P]);var k=T==="error",D=this._events;if(D!==void 0)k=k&&D.error===void 0;else if(!k)return!1;if(k){var O;if(L.length>0&&(O=L[0]),O instanceof Error)throw O;var M=new Error("Unhandled error."+(O?" ("+O.message+")":""));throw M.context=O,M}var F=D[T];if(F===void 0)return!1;if(typeof F=="function")l(F,this,L);else for(var N=F.length,U=p(F,N),P=0;P<N;++P)l(U[P],this,L);return!0};function g(R,T,L,P){var k,D,O;if(v(L),D=R._events,D===void 0?(D=R._events=Object.create(null),R._eventsCount=0):(D.newListener!==void 0&&(R.emit("newListener",T,L.listener?L.listener:L),D=R._events),O=D[T]),O===void 0)O=D[T]=L,++R._eventsCount;else if(typeof O=="function"?O=D[T]=P?[L,O]:[O,L]:P?O.unshift(L):O.push(L),k=b(R),k>0&&O.length>k&&!O.warned){O.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+O.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=R,M.type=T,M.count=O.length,c(M)}return R}f.prototype.addListener=function(T,L){return g(this,T,L,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(T,L){return g(this,T,L,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(R,T,L){var P={fired:!1,wrapFn:void 0,target:R,type:T,listener:L},k=m.bind(P);return k.listener=L,P.wrapFn=k,k}f.prototype.once=function(T,L){return v(L),this.on(T,h(this,T,L)),this},f.prototype.prependOnceListener=function(T,L){return v(L),this.prependListener(T,h(this,T,L)),this},f.prototype.removeListener=function(T,L){var P,k,D,O,M;if(v(L),k=this._events,k===void 0)return this;if(P=k[T],P===void 0)return this;if(P===L||P.listener===L)--this._eventsCount===0?this._events=Object.create(null):(delete k[T],k.removeListener&&this.emit("removeListener",T,P.listener||L));else if(typeof P!="function"){for(D=-1,O=P.length-1;O>=0;O--)if(P[O]===L||P[O].listener===L){M=P[O].listener,D=O;break}if(D<0)return this;D===0?P.shift():C(P,D),P.length===1&&(k[T]=P[0]),k.removeListener!==void 0&&this.emit("removeListener",T,M||L)}return this},f.prototype.off=f.prototype.removeListener,f.prototype.removeAllListeners=function(T){var L,P,k;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete P[T]),this;if(arguments.length===0){var D=Object.keys(P),O;for(k=0;k<D.length;++k)O=D[k],O!=="removeListener"&&this.removeAllListeners(O);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(L=P[T],typeof L=="function")this.removeListener(T,L);else if(L!==void 0)for(k=L.length-1;k>=0;k--)this.removeListener(T,L[k]);return this};function x(R,T,L){var P=R._events;if(P===void 0)return[];var k=P[T];return k===void 0?[]:typeof k=="function"?L?[k.listener||k]:[k]:L?S(k):p(k,k.length)}f.prototype.listeners=function(T){return x(this,T,!0)},f.prototype.rawListeners=function(T){return x(this,T,!1)},f.listenerCount=function(R,T){return typeof R.listenerCount=="function"?R.listenerCount(T):y.call(R,T)},f.prototype.listenerCount=y;function y(R){var T=this._events;if(T!==void 0){var L=T[R];if(typeof L=="function")return 1;if(L!==void 0)return L.length}return 0}f.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]};function p(R,T){for(var L=new Array(T),P=0;P<T;++P)L[P]=R[P];return L}function C(R,T){for(;T+1<R.length;T++)R[T]=R[T+1];R.pop()}function S(R){for(var T=new Array(R.length),L=0;L<T.length;++L)T[L]=R[L].listener||R[L];return T}function w(R,T){return new Promise(function(L,P){function k(O){R.removeListener(T,D),P(O)}function D(){typeof R.removeListener=="function"&&R.removeListener("error",k),L([].slice.call(arguments))}E(R,T,D,{once:!0}),T!=="error"&&A(R,k,{once:!0})})}function A(R,T,L){typeof R.on=="function"&&E(R,"error",T,L)}function E(R,T,L,P){if(typeof R.on=="function")P.once?R.once(T,L):R.on(T,L);else if(typeof R.addEventListener=="function")R.addEventListener(T,function k(D){P.once&&R.removeEventListener(T,k),L(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof R)}},"./node_modules/webworkify-webpack/index.js":function(a,d,l){function s(m){var h={};function x(p){if(h[p])return h[p].exports;var C=h[p]={i:p,l:!1,exports:{}};return m[p].call(C.exports,C,C.exports,x),C.l=!0,C.exports}x.m=m,x.c=h,x.i=function(p){return p},x.d=function(p,C,S){x.o(p,C)||Object.defineProperty(p,C,{configurable:!1,enumerable:!0,get:S})},x.r=function(p){Object.defineProperty(p,"__esModule",{value:!0})},x.n=function(p){var C=p&&p.__esModule?function(){return p.default}:function(){return p};return x.d(C,"a",C),C},x.o=function(p,C){return Object.prototype.hasOwnProperty.call(p,C)},x.p="/",x.oe=function(p){throw console.error(p),p};var y=x(x.s=ENTRY_MODULE);return y.default||y}var c="[\\.|\\-|\\+|\\w|/|@]+",u="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+c+").*?\\)";function f(m){return(m+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function _(m){return!isNaN(1*m)}function v(m,h,x){var y={};y[x]=[];var p=h.toString(),C=p.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!C)return y;for(var S=C[1],w=new RegExp("(\\\\n|\\W)"+f(S)+u,"g"),A;A=w.exec(p);)A[3]!=="dll-reference"&&y[x].push(A[3]);for(w=new RegExp("\\("+f(S)+'\\("(dll-reference\\s('+c+'))"\\)\\)'+u,"g");A=w.exec(p);)m[A[2]]||(y[x].push(A[1]),m[A[2]]=l(A[1]).m),y[A[2]]=y[A[2]]||[],y[A[2]].push(A[4]);for(var E=Object.keys(y),R=0;R<E.length;R++)for(var T=0;T<y[E[R]].length;T++)_(y[E[R]][T])&&(y[E[R]][T]=1*y[E[R]][T]);return y}function b(m){var h=Object.keys(m);return h.reduce(function(x,y){return x||m[y].length>0},!1)}function g(m,h){for(var x={main:[h]},y={main:[]},p={main:{}};b(x);)for(var C=Object.keys(x),S=0;S<C.length;S++){var w=C[S],A=x[w],E=A.pop();if(p[w]=p[w]||{},!(p[w][E]||!m[w][E])){p[w][E]=!0,y[w]=y[w]||[],y[w].push(E);for(var R=v(m,m[w][E],w),T=Object.keys(R),L=0;L<T.length;L++)x[T[L]]=x[T[L]]||[],x[T[L]]=x[T[L]].concat(R[T[L]])}}return y}a.exports=function(m,h){h=h||{};var x={main:l.m},y=h.all?{main:Object.keys(x.main)}:g(x,m),p="";Object.keys(y).filter(function(E){return E!=="main"}).forEach(function(E){for(var R=0;y[E][R];)R++;y[E].push(R),x[E][R]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",p=p+"var "+E+" = ("+s.toString().replace("ENTRY_MODULE",JSON.stringify(R))+")({"+y[E].map(function(T){return""+JSON.stringify(T)+": "+x[E][T].toString()}).join(",")+`});
`}),p=p+"new (("+s.toString().replace("ENTRY_MODULE",JSON.stringify(m))+")({"+y.main.map(function(E){return""+JSON.stringify(E)+": "+x.main[E].toString()}).join(",")+"}))(self);";var C=new window.Blob([p],{type:"text/javascript"});if(h.bare)return C;var S=window.URL||window.webkitURL||window.mozURL||window.msURL,w=S.createObjectURL(C),A=new window.Worker(w);return A.objectURL=w,A}},"./src/config.js":function(a,d,l){l.r(d),l.d(d,{defaultConfig:function(){return s},createDefaultConfig:function(){return c}});var s={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:3*60,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:3*60,autoCleanupMinBackwardDuration:2*60,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function c(){return Object.assign({},s)}},"./src/core/features.js":function(a,d,l){l.r(d);var s=l("./src/io/io-controller.js"),c=l("./src/config.js"),u=function(){function f(){}return f.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},f.supportNetworkStreamIO=function(){var _=new s.default({},(0,c.createDefaultConfig)()),v=_.loaderType;return _.destroy(),v=="fetch-stream-loader"||v=="xhr-moz-chunked-loader"},f.getNetworkLoaderTypeName=function(){var _=new s.default({},(0,c.createDefaultConfig)()),v=_.loaderType;return _.destroy(),v},f.supportNativeMediaPlayback=function(_){f.videoElement==null&&(f.videoElement=window.document.createElement("video"));var v=f.videoElement.canPlayType(_);return v==="probably"||v=="maybe"},f.getFeatureList=function(){var _={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return _.mseFlvPlayback=f.supportMSEH264Playback(),_.networkStreamIO=f.supportNetworkStreamIO(),_.networkLoaderName=f.getNetworkLoaderTypeName(),_.mseLiveFlvPlayback=_.mseFlvPlayback&&_.networkStreamIO,_.nativeMP4H264Playback=f.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),_.nativeWebmVP8Playback=f.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),_.nativeWebmVP9Playback=f.supportNativeMediaPlayback('video/webm; codecs="vp9"'),_},f}();d.default=u},"./src/core/media-info.js":function(a,d,l){l.r(d);var s=function(){function c(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return c.prototype.isComplete=function(){var u=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,f=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&this.duration!=null&&this.metadata!=null&&this.hasKeyframesIndex!=null&&u&&f},c.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},c.prototype.getNearestKeyframe=function(u){if(this.keyframesIndex==null)return null;var f=this.keyframesIndex,_=this._search(f.times,u);return{index:_,milliseconds:f.times[_],fileposition:f.filepositions[_]}},c.prototype._search=function(u,f){var _=0,v=u.length-1,b=0,g=0,m=v;for(f<u[0]&&(_=0,g=m+1);g<=m;)if(b=g+Math.floor((m-g)/2),b===v||f>=u[b]&&f<u[b+1]){_=b;break}else u[b]<f?g=b+1:m=b-1;return _},c}();d.default=s},"./src/core/media-segment-info.js":function(a,d,l){l.r(d),l.d(d,{SampleInfo:function(){return s},MediaSegmentInfo:function(){return c},IDRSampleList:function(){return u},MediaSegmentInfoList:function(){return f}});var s=function(){function _(v,b,g,m,h){this.dts=v,this.pts=b,this.duration=g,this.originalDts=m,this.isSyncPoint=h,this.fileposition=null}return _}(),c=function(){function _(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return _.prototype.appendSyncPoint=function(v){v.isSyncPoint=!0,this.syncPoints.push(v)},_}(),u=function(){function _(){this._list=[]}return _.prototype.clear=function(){this._list=[]},_.prototype.appendArray=function(v){var b=this._list;v.length!==0&&(b.length>0&&v[0].originalDts<b[b.length-1].originalDts&&this.clear(),Array.prototype.push.apply(b,v))},_.prototype.getLastSyncPointBeforeDts=function(v){if(this._list.length==0)return null;var b=this._list,g=0,m=b.length-1,h=0,x=0,y=m;for(v<b[0].dts&&(g=0,x=y+1);x<=y;)if(h=x+Math.floor((y-x)/2),h===m||v>=b[h].dts&&v<b[h+1].dts){g=h;break}else b[h].dts<v?x=h+1:y=h-1;return this._list[g]},_}(),f=function(){function _(v){this._type=v,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(_.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),_.prototype.isEmpty=function(){return this._list.length===0},_.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},_.prototype._searchNearestSegmentBefore=function(v){var b=this._list;if(b.length===0)return-2;var g=b.length-1,m=0,h=0,x=g,y=0;if(v<b[0].originalBeginDts)return y=-1,y;for(;h<=x;)if(m=h+Math.floor((x-h)/2),m===g||v>b[m].lastSample.originalDts&&v<b[m+1].originalBeginDts){y=m;break}else b[m].originalBeginDts<v?h=m+1:x=m-1;return y},_.prototype._searchNearestSegmentAfter=function(v){return this._searchNearestSegmentBefore(v)+1},_.prototype.append=function(v){var b=this._list,g=v,m=this._lastAppendLocation,h=0;m!==-1&&m<b.length&&g.originalBeginDts>=b[m].lastSample.originalDts&&(m===b.length-1||m<b.length-1&&g.originalBeginDts<b[m+1].originalBeginDts)?h=m+1:b.length>0&&(h=this._searchNearestSegmentBefore(g.originalBeginDts)+1),this._lastAppendLocation=h,this._list.splice(h,0,g)},_.prototype.getLastSegmentBefore=function(v){var b=this._searchNearestSegmentBefore(v);return b>=0?this._list[b]:null},_.prototype.getLastSampleBefore=function(v){var b=this.getLastSegmentBefore(v);return b!=null?b.lastSample:null},_.prototype.getLastSyncPointBefore=function(v){for(var b=this._searchNearestSegmentBefore(v),g=this._list[b].syncPoints;g.length===0&&b>0;)b--,g=this._list[b].syncPoints;return g.length>0?g[g.length-1]:null},_}()},"./src/core/mse-controller.js":function(a,d,l){l.r(d);var s=l("./node_modules/events/events.js"),c=l.n(s),u=l("./src/utils/logger.js"),f=l("./src/utils/browser.js"),_=l("./src/core/mse-events.js"),v=l("./src/core/media-segment-info.js"),b=l("./src/utils/exception.js"),g=function(){function m(h){this.TAG="MSEController",this._config=h,this._emitter=new(c()),this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new v.IDRSampleList}return m.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},m.prototype.on=function(h,x){this._emitter.addListener(h,x)},m.prototype.off=function(h,x){this._emitter.removeListener(h,x)},m.prototype.attachMediaElement=function(h){if(this._mediaSource)throw new b.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var x=this._mediaSource=new window.MediaSource;x.addEventListener("sourceopen",this.e.onSourceOpen),x.addEventListener("sourceended",this.e.onSourceEnded),x.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=h,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),h.src=this._mediaSourceObjectURL},m.prototype.detachMediaElement=function(){if(this._mediaSource){var h=this._mediaSource;for(var x in this._sourceBuffers){var y=this._pendingSegments[x];y.splice(0,y.length),this._pendingSegments[x]=null,this._pendingRemoveRanges[x]=null,this._lastInitSegments[x]=null;var p=this._sourceBuffers[x];if(p){if(h.readyState!=="closed"){try{h.removeSourceBuffer(p)}catch(C){u.default.e(this.TAG,C.message)}p.removeEventListener("error",this.e.onSourceBufferError),p.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[x]=null,this._sourceBuffers[x]=null}}if(h.readyState==="open")try{h.endOfStream()}catch(C){u.default.e(this.TAG,C.message)}h.removeEventListener("sourceopen",this.e.onSourceOpen),h.removeEventListener("sourceended",this.e.onSourceEnded),h.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},m.prototype.appendInitSegment=function(h,x){if(!this._mediaSource||this._mediaSource.readyState!=="open"){this._pendingSourceBufferInit.push(h),this._pendingSegments[h.type].push(h);return}var y=h,p=""+y.container;y.codec&&y.codec.length>0&&(p+=";codecs="+y.codec);var C=!1;if(u.default.v(this.TAG,"Received Initialization Segment, mimeType: "+p),this._lastInitSegments[y.type]=y,p!==this._mimeTypes[y.type]){if(this._mimeTypes[y.type])u.default.v(this.TAG,"Notice: "+y.type+" mimeType changed, origin: "+this._mimeTypes[y.type]+", target: "+p);else{C=!0;try{var S=this._sourceBuffers[y.type]=this._mediaSource.addSourceBuffer(p);S.addEventListener("error",this.e.onSourceBufferError),S.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(w){u.default.e(this.TAG,w.message),this._emitter.emit(_.default.ERROR,{code:w.code,msg:w.message});return}}this._mimeTypes[y.type]=p}x||this._pendingSegments[y.type].push(y),C||this._sourceBuffers[y.type]&&!this._sourceBuffers[y.type].updating&&this._doAppendSegments(),f.default.safari&&y.container==="audio/mpeg"&&y.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=y.mediaDuration/1e3,this._updateMediaSourceDuration())},m.prototype.appendMediaSegment=function(h){var x=h;this._pendingSegments[x.type].push(x),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var y=this._sourceBuffers[x.type];y&&!y.updating&&!this._hasPendingRemoveRanges()&&this._doAppendSegments()},m.prototype.seek=function(h){for(var x in this._sourceBuffers)if(this._sourceBuffers[x]){var y=this._sourceBuffers[x];if(this._mediaSource.readyState==="open")try{y.abort()}catch(E){u.default.e(this.TAG,E.message)}this._idrList.clear();var p=this._pendingSegments[x];if(p.splice(0,p.length),this._mediaSource.readyState!=="closed"){for(var C=0;C<y.buffered.length;C++){var S=y.buffered.start(C),w=y.buffered.end(C);this._pendingRemoveRanges[x].push({start:S,end:w})}if(y.updating||this._doRemoveRanges(),f.default.safari){var A=this._lastInitSegments[x];A&&(this._pendingSegments[x].push(A),y.updating||this._doAppendSegments())}}}},m.prototype.endOfStream=function(){var h=this._mediaSource,x=this._sourceBuffers;if(!h||h.readyState!=="open"){h&&h.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0);return}x.video&&x.video.updating||x.audio&&x.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,h.endOfStream())},m.prototype.getNearestKeyframe=function(h){return this._idrList.getLastSyncPointBeforeDts(h)},m.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var h=this._mediaElement.currentTime;for(var x in this._sourceBuffers){var y=this._sourceBuffers[x];if(y){var p=y.buffered;if(p.length>=1&&h-p.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},m.prototype._doCleanupSourceBuffer=function(){var h=this._mediaElement.currentTime;for(var x in this._sourceBuffers){var y=this._sourceBuffers[x];if(y){for(var p=y.buffered,C=!1,S=0;S<p.length;S++){var w=p.start(S),A=p.end(S);if(w<=h&&h<A+3){if(h-w>=this._config.autoCleanupMaxBackwardDuration){C=!0;var E=h-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[x].push({start:w,end:E})}}else A<h&&(C=!0,this._pendingRemoveRanges[x].push({start:w,end:A}))}C&&!y.updating&&this._doRemoveRanges()}}},m.prototype._updateMediaSourceDuration=function(){var h=this._sourceBuffers;if(!(this._mediaElement.readyState===0||this._mediaSource.readyState!=="open")&&!(h.video&&h.video.updating||h.audio&&h.audio.updating)){var x=this._mediaSource.duration,y=this._pendingMediaDuration;y>0&&(isNaN(x)||y>x)&&(u.default.v(this.TAG,"Update MediaSource duration from "+x+" to "+y),this._mediaSource.duration=y),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},m.prototype._doRemoveRanges=function(){for(var h in this._pendingRemoveRanges)if(!(!this._sourceBuffers[h]||this._sourceBuffers[h].updating))for(var x=this._sourceBuffers[h],y=this._pendingRemoveRanges[h];y.length&&!x.updating;){var p=y.shift();x.remove(p.start,p.end)}},m.prototype._doAppendSegments=function(){var h=this._pendingSegments;for(var x in h)if(!(!this._sourceBuffers[x]||this._sourceBuffers[x].updating)&&h[x].length>0){var y=h[x].shift();if(y.timestampOffset){var p=this._sourceBuffers[x].timestampOffset,C=y.timestampOffset/1e3,S=Math.abs(p-C);S>.1&&(u.default.v(this.TAG,"Update MPEG audio timestampOffset from "+p+" to "+C),this._sourceBuffers[x].timestampOffset=C),delete y.timestampOffset}if(!y.data||y.data.byteLength===0)continue;try{this._sourceBuffers[x].appendBuffer(y.data),this._isBufferFull=!1,x==="video"&&y.hasOwnProperty("info")&&this._idrList.appendArray(y.info.syncPoints)}catch(w){this._pendingSegments[x].unshift(y),w.code===22?(this._isBufferFull||this._emitter.emit(_.default.BUFFER_FULL),this._isBufferFull=!0):(u.default.e(this.TAG,w.message),this._emitter.emit(_.default.ERROR,{code:w.code,msg:w.message}))}}},m.prototype._onSourceOpen=function(){if(u.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var h=this._pendingSourceBufferInit;h.length;){var x=h.shift();this.appendInitSegment(x,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(_.default.SOURCE_OPEN)},m.prototype._onSourceEnded=function(){u.default.v(this.TAG,"MediaSource onSourceEnded")},m.prototype._onSourceClose=function(){u.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},m.prototype._hasPendingSegments=function(){var h=this._pendingSegments;return h.video.length>0||h.audio.length>0},m.prototype._hasPendingRemoveRanges=function(){var h=this._pendingRemoveRanges;return h.video.length>0||h.audio.length>0},m.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(_.default.UPDATE_END)},m.prototype._onSourceBufferError=function(h){u.default.e(this.TAG,"SourceBuffer Error: "+h)},m}();d.default=g},"./src/core/mse-events.js":function(a,d,l){l.r(d);var s={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};d.default=s},"./src/core/transmuxer.js":function(a,d,l){l.r(d);var s=l("./node_modules/events/events.js"),c=l.n(s),u=l("./node_modules/webworkify-webpack/index.js"),f=l.n(u),_=l("./src/utils/logger.js"),v=l("./src/utils/logging-control.js"),b=l("./src/core/transmuxing-controller.js"),g=l("./src/core/transmuxing-events.js"),m=l("./src/core/media-info.js"),h=function(){function x(y,p){if(this.TAG="Transmuxer",this._emitter=new(c()),p.enableWorker&&typeof Worker<"u")try{this._worker=f()("./src/core/transmuxing-worker.js"),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[y,p]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},v.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:v.default.getConfig()})}catch{_.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new b.default(y,p)}else this._controller=new b.default(y,p);if(this._controller){var C=this._controller;C.on(g.default.IO_ERROR,this._onIOError.bind(this)),C.on(g.default.DEMUX_ERROR,this._onDemuxError.bind(this)),C.on(g.default.INIT_SEGMENT,this._onInitSegment.bind(this)),C.on(g.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),C.on(g.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),C.on(g.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),C.on(g.default.MEDIA_INFO,this._onMediaInfo.bind(this)),C.on(g.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),C.on(g.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),C.on(g.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),C.on(g.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return x.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),v.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},x.prototype.on=function(y,p){this._emitter.addListener(y,p)},x.prototype.off=function(y,p){this._emitter.removeListener(y,p)},x.prototype.hasWorker=function(){return this._worker!=null},x.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},x.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},x.prototype.seek=function(y){this._worker?this._worker.postMessage({cmd:"seek",param:y}):this._controller.seek(y)},x.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},x.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},x.prototype._onInitSegment=function(y,p){var C=this;Promise.resolve().then(function(){C._emitter.emit(g.default.INIT_SEGMENT,y,p)})},x.prototype._onMediaSegment=function(y,p){var C=this;Promise.resolve().then(function(){C._emitter.emit(g.default.MEDIA_SEGMENT,y,p)})},x.prototype._onLoadingComplete=function(){var y=this;Promise.resolve().then(function(){y._emitter.emit(g.default.LOADING_COMPLETE)})},x.prototype._onRecoveredEarlyEof=function(){var y=this;Promise.resolve().then(function(){y._emitter.emit(g.default.RECOVERED_EARLY_EOF)})},x.prototype._onMediaInfo=function(y){var p=this;Promise.resolve().then(function(){p._emitter.emit(g.default.MEDIA_INFO,y)})},x.prototype._onMetaDataArrived=function(y){var p=this;Promise.resolve().then(function(){p._emitter.emit(g.default.METADATA_ARRIVED,y)})},x.prototype._onScriptDataArrived=function(y){var p=this;Promise.resolve().then(function(){p._emitter.emit(g.default.SCRIPTDATA_ARRIVED,y)})},x.prototype._onStatisticsInfo=function(y){var p=this;Promise.resolve().then(function(){p._emitter.emit(g.default.STATISTICS_INFO,y)})},x.prototype._onIOError=function(y,p){var C=this;Promise.resolve().then(function(){C._emitter.emit(g.default.IO_ERROR,y,p)})},x.prototype._onDemuxError=function(y,p){var C=this;Promise.resolve().then(function(){C._emitter.emit(g.default.DEMUX_ERROR,y,p)})},x.prototype._onRecommendSeekpoint=function(y){var p=this;Promise.resolve().then(function(){p._emitter.emit(g.default.RECOMMEND_SEEKPOINT,y)})},x.prototype._onLoggingConfigChanged=function(y){this._worker&&this._worker.postMessage({cmd:"logging_config",param:y})},x.prototype._onWorkerMessage=function(y){var p=y.data,C=p.data;if(p.msg==="destroyed"||this._workerDestroying){this._workerDestroying=!1,this._worker.terminate(),this._worker=null;return}switch(p.msg){case g.default.INIT_SEGMENT:case g.default.MEDIA_SEGMENT:this._emitter.emit(p.msg,C.type,C.data);break;case g.default.LOADING_COMPLETE:case g.default.RECOVERED_EARLY_EOF:this._emitter.emit(p.msg);break;case g.default.MEDIA_INFO:Object.setPrototypeOf(C,m.default.prototype),this._emitter.emit(p.msg,C);break;case g.default.METADATA_ARRIVED:case g.default.SCRIPTDATA_ARRIVED:case g.default.STATISTICS_INFO:this._emitter.emit(p.msg,C);break;case g.default.IO_ERROR:case g.default.DEMUX_ERROR:this._emitter.emit(p.msg,C.type,C.info);break;case g.default.RECOMMEND_SEEKPOINT:this._emitter.emit(p.msg,C);break;case"logcat_callback":_.default.emitter.emit("log",C.type,C.logcat);break}},x}();d.default=h},"./src/core/transmuxing-controller.js":function(a,d,l){l.r(d);var s=l("./node_modules/events/events.js"),c=l.n(s),u=l("./src/utils/logger.js"),f=l("./src/utils/browser.js"),_=l("./src/core/media-info.js"),v=l("./src/demux/flv-demuxer.js"),b=l("./src/remux/mp4-remuxer.js"),g=l("./src/demux/demux-errors.js"),m=l("./src/io/io-controller.js"),h=l("./src/core/transmuxing-events.js"),x=function(){function y(p,C){this.TAG="TransmuxingController",this._emitter=new(c()),this._config=C,p.segments||(p.segments=[{duration:p.duration,filesize:p.filesize,url:p.url}]),typeof p.cors!="boolean"&&(p.cors=!0),typeof p.withCredentials!="boolean"&&(p.withCredentials=!1),this._mediaDataSource=p,this._currentSegmentIndex=0;var S=0;this._mediaDataSource.segments.forEach(function(w){w.timestampBase=S,S+=w.duration,w.cors=p.cors,w.withCredentials=p.withCredentials,C.referrerPolicy&&(w.referrerPolicy=C.referrerPolicy)}),!isNaN(S)&&this._mediaDataSource.duration!==S&&(this._mediaDataSource.duration=S),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return y.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},y.prototype.on=function(p,C){this._emitter.addListener(p,C)},y.prototype.off=function(p,C){this._emitter.removeListener(p,C)},y.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},y.prototype._loadSegment=function(p,C){this._currentSegmentIndex=p;var S=this._mediaDataSource.segments[p],w=this._ioctl=new m.default(S,this._config,p);w.onError=this._onIOException.bind(this),w.onSeeked=this._onIOSeeked.bind(this),w.onComplete=this._onIOComplete.bind(this),w.onRedirect=this._onIORedirect.bind(this),w.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),C?this._demuxer.bindDataSource(this._ioctl):w.onDataArrival=this._onInitChunkArrival.bind(this),w.open(C)},y.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},y.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},y.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},y.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},y.prototype.seek=function(p){if(!(this._mediaInfo==null||!this._mediaInfo.isSeekable())){var C=this._searchSegmentIndexContains(p);if(C===this._currentSegmentIndex){var S=this._mediaInfo.segments[C];if(S==null)this._pendingSeekTime=p;else{var w=S.getNearestKeyframe(p);this._remuxer.seek(w.milliseconds),this._ioctl.seek(w.fileposition),this._pendingResolveSeekPoint=w.milliseconds}}else{var A=this._mediaInfo.segments[C];if(A==null)this._pendingSeekTime=p,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(C);else{var w=A.getNearestKeyframe(p);this._internalAbort(),this._remuxer.seek(p),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[C].timestampBase,this._loadSegment(C,w.fileposition),this._pendingResolveSeekPoint=w.milliseconds,this._reportSegmentMediaInfo(C)}}this._enableStatisticsReporter()}},y.prototype._searchSegmentIndexContains=function(p){for(var C=this._mediaDataSource.segments,S=C.length-1,w=0;w<C.length;w++)if(p<C[w].timestampBase){S=w-1;break}return S},y.prototype._onInitChunkArrival=function(p,C){var S=this,w=null,A=0;if(C>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,A=this._demuxer.parseChunks(p,C);else if((w=v.default.probe(p)).match){this._demuxer=new v.default(w,this._config),this._remuxer||(this._remuxer=new b.default(this._config));var E=this._mediaDataSource;E.duration!=null&&!isNaN(E.duration)&&(this._demuxer.overridedDuration=E.duration),typeof E.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=E.hasAudio),typeof E.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=E.hasVideo),this._demuxer.timestampBase=E.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),A=this._demuxer.parseChunks(p,C)}else w=null,u.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){S._internalAbort()}),this._emitter.emit(h.default.DEMUX_ERROR,g.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),A=0;return A},y.prototype._onMediaInfo=function(p){var C=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},p),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,_.default.prototype));var S=Object.assign({},p);Object.setPrototypeOf(S,_.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=S,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var w=C._pendingSeekTime;C._pendingSeekTime=null,C.seek(w)})},y.prototype._onMetaDataArrived=function(p){this._emitter.emit(h.default.METADATA_ARRIVED,p)},y.prototype._onScriptDataArrived=function(p){this._emitter.emit(h.default.SCRIPTDATA_ARRIVED,p)},y.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},y.prototype._onIOComplete=function(p){var C=p,S=C+1;S<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(S)):(this._remuxer.flushStashedSamples(),this._emitter.emit(h.default.LOADING_COMPLETE),this._disableStatisticsReporter())},y.prototype._onIORedirect=function(p){var C=this._ioctl.extraData;this._mediaDataSource.segments[C].redirectedURL=p},y.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(h.default.RECOVERED_EARLY_EOF)},y.prototype._onIOException=function(p,C){u.default.e(this.TAG,"IOException: type = "+p+", code = "+C.code+", msg = "+C.msg),this._emitter.emit(h.default.IO_ERROR,p,C),this._disableStatisticsReporter()},y.prototype._onDemuxException=function(p,C){u.default.e(this.TAG,"DemuxException: type = "+p+", info = "+C),this._emitter.emit(h.default.DEMUX_ERROR,p,C)},y.prototype._onRemuxerInitSegmentArrival=function(p,C){this._emitter.emit(h.default.INIT_SEGMENT,p,C)},y.prototype._onRemuxerMediaSegmentArrival=function(p,C){if(this._pendingSeekTime==null&&(this._emitter.emit(h.default.MEDIA_SEGMENT,p,C),this._pendingResolveSeekPoint!=null&&p==="video")){var S=C.info.syncPoints,w=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,f.default.safari&&S.length>0&&S[0].originalDts===w&&(w=S[0].pts),this._emitter.emit(h.default.RECOMMEND_SEEKPOINT,w)}},y.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},y.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},y.prototype._reportSegmentMediaInfo=function(p){var C=this._mediaInfo.segments[p],S=Object.assign({},C);S.duration=this._mediaInfo.duration,S.segmentCount=this._mediaInfo.segmentCount,delete S.segments,delete S.keyframesIndex,this._emitter.emit(h.default.MEDIA_INFO,S)},y.prototype._reportStatisticsInfo=function(){var p={};p.url=this._ioctl.currentURL,p.hasRedirect=this._ioctl.hasRedirect,p.hasRedirect&&(p.redirectedURL=this._ioctl.currentRedirectedURL),p.speed=this._ioctl.currentSpeed,p.loaderType=this._ioctl.loaderType,p.currentSegmentIndex=this._currentSegmentIndex,p.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(h.default.STATISTICS_INFO,p)},y}();d.default=x},"./src/core/transmuxing-events.js":function(a,d,l){l.r(d);var s={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};d.default=s},"./src/core/transmuxing-worker.js":function(a,d,l){l.r(d);var s=l("./src/utils/logging-control.js"),c=l("./src/utils/polyfill.js"),u=l("./src/core/transmuxing-controller.js"),f=l("./src/core/transmuxing-events.js"),_=function(v){var b=null,g=T.bind(this);c.default.install(),v.addEventListener("message",function(L){switch(L.data.cmd){case"init":b=new u.default(L.data.param[0],L.data.param[1]),b.on(f.default.IO_ERROR,A.bind(this)),b.on(f.default.DEMUX_ERROR,E.bind(this)),b.on(f.default.INIT_SEGMENT,m.bind(this)),b.on(f.default.MEDIA_SEGMENT,h.bind(this)),b.on(f.default.LOADING_COMPLETE,x.bind(this)),b.on(f.default.RECOVERED_EARLY_EOF,y.bind(this)),b.on(f.default.MEDIA_INFO,p.bind(this)),b.on(f.default.METADATA_ARRIVED,C.bind(this)),b.on(f.default.SCRIPTDATA_ARRIVED,S.bind(this)),b.on(f.default.STATISTICS_INFO,w.bind(this)),b.on(f.default.RECOMMEND_SEEKPOINT,R.bind(this));break;case"destroy":b&&(b.destroy(),b=null),v.postMessage({msg:"destroyed"});break;case"start":b.start();break;case"stop":b.stop();break;case"seek":b.seek(L.data.param);break;case"pause":b.pause();break;case"resume":b.resume();break;case"logging_config":{var P=L.data.param;s.default.applyConfig(P),P.enableCallback===!0?s.default.addLogListener(g):s.default.removeLogListener(g);break}}});function m(L,P){var k={msg:f.default.INIT_SEGMENT,data:{type:L,data:P}};v.postMessage(k,[P.data])}function h(L,P){var k={msg:f.default.MEDIA_SEGMENT,data:{type:L,data:P}};v.postMessage(k,[P.data])}function x(){var L={msg:f.default.LOADING_COMPLETE};v.postMessage(L)}function y(){var L={msg:f.default.RECOVERED_EARLY_EOF};v.postMessage(L)}function p(L){var P={msg:f.default.MEDIA_INFO,data:L};v.postMessage(P)}function C(L){var P={msg:f.default.METADATA_ARRIVED,data:L};v.postMessage(P)}function S(L){var P={msg:f.default.SCRIPTDATA_ARRIVED,data:L};v.postMessage(P)}function w(L){var P={msg:f.default.STATISTICS_INFO,data:L};v.postMessage(P)}function A(L,P){v.postMessage({msg:f.default.IO_ERROR,data:{type:L,info:P}})}function E(L,P){v.postMessage({msg:f.default.DEMUX_ERROR,data:{type:L,info:P}})}function R(L){v.postMessage({msg:f.default.RECOMMEND_SEEKPOINT,data:L})}function T(L,P){v.postMessage({msg:"logcat_callback",data:{type:L,logcat:P}})}};d.default=_},"./src/demux/amf-parser.js":function(a,d,l){l.r(d);var s=l("./src/utils/logger.js"),c=l("./src/utils/utf8-conv.js"),u=l("./src/utils/exception.js"),f=function(){var v=new ArrayBuffer(2);return new DataView(v).setInt16(0,256,!0),new Int16Array(v)[0]===256}(),_=function(){function v(){}return v.parseScriptData=function(b,g,m){var h={};try{var x=v.parseValue(b,g,m),y=v.parseValue(b,g+x.size,m-x.size);h[x.data]=y.data}catch(p){s.default.e("AMF",p.toString())}return h},v.parseObject=function(b,g,m){if(m<3)throw new u.IllegalStateException("Data not enough when parse ScriptDataObject");var h=v.parseString(b,g,m),x=v.parseValue(b,g+h.size,m-h.size),y=x.objectEnd;return{data:{name:h.data,value:x.data},size:h.size+x.size,objectEnd:y}},v.parseVariable=function(b,g,m){return v.parseObject(b,g,m)},v.parseString=function(b,g,m){if(m<2)throw new u.IllegalStateException("Data not enough when parse String");var h=new DataView(b,g,m),x=h.getUint16(0,!f),y;return x>0?y=(0,c.default)(new Uint8Array(b,g+2,x)):y="",{data:y,size:2+x}},v.parseLongString=function(b,g,m){if(m<4)throw new u.IllegalStateException("Data not enough when parse LongString");var h=new DataView(b,g,m),x=h.getUint32(0,!f),y;return x>0?y=(0,c.default)(new Uint8Array(b,g+4,x)):y="",{data:y,size:4+x}},v.parseDate=function(b,g,m){if(m<10)throw new u.IllegalStateException("Data size invalid when parse Date");var h=new DataView(b,g,m),x=h.getFloat64(0,!f),y=h.getInt16(8,!f);return x+=y*60*1e3,{data:new Date(x),size:8+2}},v.parseValue=function(b,g,m){if(m<1)throw new u.IllegalStateException("Data not enough when parse Value");var h=new DataView(b,g,m),x=1,y=h.getUint8(0),p,C=!1;try{switch(y){case 0:p=h.getFloat64(1,!f),x+=8;break;case 1:{var S=h.getUint8(1);p=!!S,x+=1;break}case 2:{var w=v.parseString(b,g+1,m-1);p=w.data,x+=w.size;break}case 3:{p={};var A=0;for((h.getUint32(m-4,!f)&16777215)===9&&(A=3);x<m-4;){var E=v.parseObject(b,g+x,m-x-A);if(E.objectEnd)break;p[E.data.name]=E.data.value,x+=E.size}if(x<=m-3){var R=h.getUint32(x-1,!f)&16777215;R===9&&(x+=3)}break}case 8:{p={},x+=4;var A=0;for((h.getUint32(m-4,!f)&16777215)===9&&(A=3);x<m-8;){var T=v.parseVariable(b,g+x,m-x-A);if(T.objectEnd)break;p[T.data.name]=T.data.value,x+=T.size}if(x<=m-3){var R=h.getUint32(x-1,!f)&16777215;R===9&&(x+=3)}break}case 9:p=void 0,x=1,C=!0;break;case 10:{p=[];var L=h.getUint32(1,!f);x+=4;for(var P=0;P<L;P++){var k=v.parseValue(b,g+x,m-x);p.push(k.data),x+=k.size}break}case 11:{var D=v.parseDate(b,g+1,m-1);p=D.data,x+=D.size;break}case 12:{var O=v.parseString(b,g+1,m-1);p=O.data,x+=O.size;break}default:x=m,s.default.w("AMF","Unsupported AMF value type "+y)}}catch(M){s.default.e("AMF",M.toString())}return{data:p,size:x,objectEnd:C}},v}();d.default=_},"./src/demux/demux-errors.js":function(a,d,l){l.r(d);var s={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};d.default=s},"./src/demux/exp-golomb.js":function(a,d,l){l.r(d);var s=l("./src/utils/exception.js"),c=function(){function u(f){this.TAG="ExpGolomb",this._buffer=f,this._buffer_index=0,this._total_bytes=f.byteLength,this._total_bits=f.byteLength*8,this._current_word=0,this._current_word_bits_left=0}return u.prototype.destroy=function(){this._buffer=null},u.prototype._fillCurrentWord=function(){var f=this._total_bytes-this._buffer_index;if(f<=0)throw new s.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var _=Math.min(4,f),v=new Uint8Array(4);v.set(this._buffer.subarray(this._buffer_index,this._buffer_index+_)),this._current_word=new DataView(v.buffer).getUint32(0,!1),this._buffer_index+=_,this._current_word_bits_left=_*8},u.prototype.readBits=function(f){if(f>32)throw new s.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(f<=this._current_word_bits_left){var _=this._current_word>>>32-f;return this._current_word<<=f,this._current_word_bits_left-=f,_}var v=this._current_word_bits_left?this._current_word:0;v=v>>>32-this._current_word_bits_left;var b=f-this._current_word_bits_left;this._fillCurrentWord();var g=Math.min(b,this._current_word_bits_left),m=this._current_word>>>32-g;return this._current_word<<=g,this._current_word_bits_left-=g,v=v<<g|m,v},u.prototype.readBool=function(){return this.readBits(1)===1},u.prototype.readByte=function(){return this.readBits(8)},u.prototype._skipLeadingZero=function(){var f;for(f=0;f<this._current_word_bits_left;f++)if(this._current_word&2147483648>>>f)return this._current_word<<=f,this._current_word_bits_left-=f,f;return this._fillCurrentWord(),f+this._skipLeadingZero()},u.prototype.readUEG=function(){var f=this._skipLeadingZero();return this.readBits(f+1)-1},u.prototype.readSEG=function(){var f=this.readUEG();return f&1?f+1>>>1:-1*(f>>>1)},u}();d.default=c},"./src/demux/flv-demuxer.js":function(a,d,l){l.r(d);var s=l("./src/utils/logger.js"),c=l("./src/demux/amf-parser.js"),u=l("./src/demux/sps-parser.js"),f=l("./src/demux/demux-errors.js"),_=l("./src/core/media-info.js"),v=l("./src/utils/exception.js");function b(m,h){return m[h]<<24|m[h+1]<<16|m[h+2]<<8|m[h+3]}var g=function(){function m(h,x){this.TAG="FLVDemuxer",this._config=x,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=h.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=h.hasAudioTrack,this._hasVideo=h.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new _.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var y=new ArrayBuffer(2);return new DataView(y).setInt16(0,256,!0),new Int16Array(y)[0]===256}()}return m.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},m.probe=function(h){var x=new Uint8Array(h),y={match:!1};if(x[0]!==70||x[1]!==76||x[2]!==86||x[3]!==1)return y;var p=(x[4]&4)>>>2!==0,C=(x[4]&1)!==0,S=b(x,5);return S<9?y:{match:!0,consumed:S,dataOffset:S,hasAudioTrack:p,hasVideoTrack:C}},m.prototype.bindDataSource=function(h){return h.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(m.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(h){this._onTrackMetadata=h},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(h){this._onMediaInfo=h},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(h){this._onMetaDataArrived=h},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(h){this._onScriptDataArrived=h},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onError",{get:function(){return this._onError},set:function(h){this._onError=h},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(h){this._onDataAvailable=h},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(h){this._timestampBase=h},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"overridedDuration",{get:function(){return this._duration},set:function(h){this._durationOverrided=!0,this._duration=h,this._mediaInfo.duration=h},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"overridedHasAudio",{set:function(h){this._hasAudioFlagOverrided=!0,this._hasAudio=h,this._mediaInfo.hasAudio=h},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"overridedHasVideo",{set:function(h){this._hasVideoFlagOverrided=!0,this._hasVideo=h,this._mediaInfo.hasVideo=h},enumerable:!1,configurable:!0}),m.prototype.resetMediaInfo=function(){this._mediaInfo=new _.default},m.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!this._hasAudio&&this._hasVideo?this._videoInitialMetadataDispatched:!1},m.prototype.parseChunks=function(h,x){if(!this._onError||!this._onMediaInfo||!this._onTrackMetadata||!this._onDataAvailable)throw new v.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var y=0,p=this._littleEndian;if(x===0)if(h.byteLength>13){var C=m.probe(h);y=C.dataOffset}else return 0;if(this._firstParse){this._firstParse=!1,x+y!==this._dataOffset&&s.default.w(this.TAG,"First time parsing but chunk byteStart invalid!");var S=new DataView(h,y),w=S.getUint32(0,!p);w!==0&&s.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),y+=4}for(;y<h.byteLength;){this._dispatch=!0;var S=new DataView(h,y);if(y+11+4>h.byteLength)break;var A=S.getUint8(0),E=S.getUint32(0,!p)&16777215;if(y+11+E+4>h.byteLength)break;if(A!==8&&A!==9&&A!==18){s.default.w(this.TAG,"Unsupported tag type "+A+", skipped"),y+=11+E+4;continue}var R=S.getUint8(4),T=S.getUint8(5),L=S.getUint8(6),P=S.getUint8(7),k=L|T<<8|R<<16|P<<24,D=S.getUint32(7,!p)&16777215;D!==0&&s.default.w(this.TAG,"Meet tag which has StreamID != 0!");var O=y+11;switch(A){case 8:this._parseAudioData(h,O,E,k);break;case 9:this._parseVideoData(h,O,E,k,x+y);break;case 18:this._parseScriptData(h,O,E);break}var M=S.getUint32(11+E,!p);M!==11+E&&s.default.w(this.TAG,"Invalid PrevTagSize "+M),y+=11+E+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),y},m.prototype._parseScriptData=function(h,x,y){var p=c.default.parseScriptData(h,x,y);if(p.hasOwnProperty("onMetaData")){if(p.onMetaData==null||typeof p.onMetaData!="object"){s.default.w(this.TAG,"Invalid onMetaData structure!");return}this._metadata&&s.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=p;var C=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},C)),typeof C.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=C.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof C.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=C.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof C.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=C.audiodatarate),typeof C.videodatarate=="number"&&(this._mediaInfo.videoDataRate=C.videodatarate),typeof C.width=="number"&&(this._mediaInfo.width=C.width),typeof C.height=="number"&&(this._mediaInfo.height=C.height),typeof C.duration=="number"){if(!this._durationOverrided){var S=Math.floor(C.duration*this._timescale);this._duration=S,this._mediaInfo.duration=S}}else this._mediaInfo.duration=0;if(typeof C.framerate=="number"){var w=Math.floor(C.framerate*1e3);if(w>0){var A=w/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=A,this._referenceFrameRate.fps_num=w,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=A}}if(typeof C.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var E=C.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(E),C.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=C,s.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(p).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},p))},m.prototype._parseKeyframesIndex=function(h){for(var x=[],y=[],p=1;p<h.times.length;p++){var C=this._timestampBase+Math.floor(h.times[p]*1e3);x.push(C),y.push(h.filepositions[p])}return{times:x,filepositions:y}},m.prototype._parseAudioData=function(h,x,y,p){if(y<=1){s.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");return}if(!(this._hasAudioFlagOverrided===!0&&this._hasAudio===!1)){this._littleEndian;var C=new DataView(h,x,y),S=C.getUint8(0),w=S>>>4;if(w!==2&&w!==10){this._onError(f.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+w);return}var A=0,E=(S&12)>>>2;if(E>=0&&E<=4)A=this._flvSoundRateTable[E];else{this._onError(f.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+E);return}var R=S&1,T=this._audioMetadata,L=this._audioTrack;if(T||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),T=this._audioMetadata={},T.type="audio",T.id=L.id,T.timescale=this._timescale,T.duration=this._duration,T.audioSampleRate=A,T.channelCount=R===0?1:2),w===10){var P=this._parseAACAudioData(h,x+1,y-1);if(P==null)return;if(P.packetType===0){T.config&&s.default.w(this.TAG,"Found another AudioSpecificConfig!");var k=P.data;T.audioSampleRate=k.samplingRate,T.channelCount=k.channelCount,T.codec=k.codec,T.originalCodec=k.originalCodec,T.config=k.config,T.refSampleDuration=1024/T.audioSampleRate*T.timescale,s.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",T);var D=this._mediaInfo;D.audioCodec=T.originalCodec,D.audioSampleRate=T.audioSampleRate,D.audioChannelCount=T.channelCount,D.hasVideo?D.videoCodec!=null&&(D.mimeType='video/x-flv; codecs="'+D.videoCodec+","+D.audioCodec+'"'):D.mimeType='video/x-flv; codecs="'+D.audioCodec+'"',D.isComplete()&&this._onMediaInfo(D)}else if(P.packetType===1){var O=this._timestampBase+p,M={unit:P.data,length:P.data.byteLength,dts:O,pts:O};L.samples.push(M),L.length+=P.data.length}else s.default.e(this.TAG,"Flv: Unsupported AAC data type "+P.packetType)}else if(w===2){if(!T.codec){var k=this._parseMP3AudioData(h,x+1,y-1,!0);if(k==null)return;T.audioSampleRate=k.samplingRate,T.channelCount=k.channelCount,T.codec=k.codec,T.originalCodec=k.originalCodec,T.refSampleDuration=1152/T.audioSampleRate*T.timescale,s.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",T);var D=this._mediaInfo;D.audioCodec=T.codec,D.audioSampleRate=T.audioSampleRate,D.audioChannelCount=T.channelCount,D.audioDataRate=k.bitRate,D.hasVideo?D.videoCodec!=null&&(D.mimeType='video/x-flv; codecs="'+D.videoCodec+","+D.audioCodec+'"'):D.mimeType='video/x-flv; codecs="'+D.audioCodec+'"',D.isComplete()&&this._onMediaInfo(D)}var F=this._parseMP3AudioData(h,x+1,y-1,!1);if(F==null)return;var O=this._timestampBase+p,N={unit:F,length:F.byteLength,dts:O,pts:O};L.samples.push(N),L.length+=F.length}}},m.prototype._parseAACAudioData=function(h,x,y){if(y<=1){s.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");return}var p={},C=new Uint8Array(h,x,y);return p.packetType=C[0],C[0]===0?p.data=this._parseAACAudioSpecificConfig(h,x+1,y-1):p.data=C.subarray(1),p},m.prototype._parseAACAudioSpecificConfig=function(h,x,y){var p=new Uint8Array(h,x,y),C=null,S=0,w=0,A=0,E=null;if(S=w=p[0]>>>3,A=(p[0]&7)<<1|p[1]>>>7,A<0||A>=this._mpegSamplingRates.length){this._onError(f.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");return}var R=this._mpegSamplingRates[A],T=(p[1]&120)>>>3;if(T<0||T>=8){this._onError(f.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration");return}S===5&&(E=(p[1]&7)<<1|p[2]>>>7,(p[2]&124)>>>2);var L=self.navigator.userAgent.toLowerCase();return L.indexOf("firefox")!==-1?A>=6?(S=5,C=new Array(4),E=A-3):(S=2,C=new Array(2),E=A):L.indexOf("android")!==-1?(S=2,C=new Array(2),E=A):(S=5,E=A,C=new Array(4),A>=6?E=A-3:T===1&&(S=2,C=new Array(2),E=A)),C[0]=S<<3,C[0]|=(A&15)>>>1,C[1]=(A&15)<<7,C[1]|=(T&15)<<3,S===5&&(C[1]|=(E&15)>>>1,C[2]=(E&1)<<7,C[2]|=8,C[3]=0),{config:C,samplingRate:R,channelCount:T,codec:"mp4a.40."+S,originalCodec:"mp4a.40."+w}},m.prototype._parseMP3AudioData=function(h,x,y,p){if(y<4){s.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");return}this._littleEndian;var C=new Uint8Array(h,x,y),S=null;if(p){if(C[0]!==255)return;var w=C[1]>>>3&3,A=(C[1]&6)>>1,E=(C[2]&240)>>>4,R=(C[2]&12)>>>2,T=C[3]>>>6&3,L=T!==3?2:1,P=0,k=0,D="mp3";switch(w){case 0:P=this._mpegAudioV25SampleRateTable[R];break;case 2:P=this._mpegAudioV20SampleRateTable[R];break;case 3:P=this._mpegAudioV10SampleRateTable[R];break}switch(A){case 1:E<this._mpegAudioL3BitRateTable.length&&(k=this._mpegAudioL3BitRateTable[E]);break;case 2:E<this._mpegAudioL2BitRateTable.length&&(k=this._mpegAudioL2BitRateTable[E]);break;case 3:E<this._mpegAudioL1BitRateTable.length&&(k=this._mpegAudioL1BitRateTable[E]);break}S={bitRate:k,samplingRate:P,channelCount:L,codec:D,originalCodec:D}}else S=C;return S},m.prototype._parseVideoData=function(h,x,y,p,C){if(y<=1){s.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");return}if(!(this._hasVideoFlagOverrided===!0&&this._hasVideo===!1)){var S=new Uint8Array(h,x,y)[0],w=(S&240)>>>4,A=S&15;if(A!==7){this._onError(f.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+A);return}this._parseAVCVideoPacket(h,x+1,y-1,p,C,w)}},m.prototype._parseAVCVideoPacket=function(h,x,y,p,C,S){if(y<4){s.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");return}var w=this._littleEndian,A=new DataView(h,x,y),E=A.getUint8(0),R=A.getUint32(0,!w)&16777215,T=R<<8>>8;if(E===0)this._parseAVCDecoderConfigurationRecord(h,x+4,y-4);else if(E===1)this._parseAVCVideoData(h,x+4,y-4,p,C,S,T);else if(E!==2){this._onError(f.default.FORMAT_ERROR,"Flv: Invalid video packet type "+E);return}},m.prototype._parseAVCDecoderConfigurationRecord=function(h,x,y){if(y<7){s.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");return}var p=this._videoMetadata,C=this._videoTrack,S=this._littleEndian,w=new DataView(h,x,y);p?typeof p.avcc<"u"&&s.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),p=this._videoMetadata={},p.type="video",p.id=C.id,p.timescale=this._timescale,p.duration=this._duration);var A=w.getUint8(0),E=w.getUint8(1);if(w.getUint8(2),w.getUint8(3),A!==1||E===0){this._onError(f.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");return}if(this._naluLengthSize=(w.getUint8(4)&3)+1,this._naluLengthSize!==3&&this._naluLengthSize!==4){this._onError(f.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));return}var R=w.getUint8(5)&31;if(R===0){this._onError(f.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");return}else R>1&&s.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+R);for(var T=6,L=0;L<R;L++){var P=w.getUint16(T,!S);if(T+=2,P!==0){var k=new Uint8Array(h,x+T,P);T+=P;var D=u.default.parseSPS(k);if(L===0){p.codecWidth=D.codec_size.width,p.codecHeight=D.codec_size.height,p.presentWidth=D.present_size.width,p.presentHeight=D.present_size.height,p.profile=D.profile_string,p.level=D.level_string,p.bitDepth=D.bit_depth,p.chromaFormat=D.chroma_format,p.sarRatio=D.sar_ratio,p.frameRate=D.frame_rate,(D.frame_rate.fixed===!1||D.frame_rate.fps_num===0||D.frame_rate.fps_den===0)&&(p.frameRate=this._referenceFrameRate);var O=p.frameRate.fps_den,M=p.frameRate.fps_num;p.refSampleDuration=p.timescale*(O/M);for(var F=k.subarray(1,4),N="avc1.",U=0;U<3;U++){var G=F[U].toString(16);G.length<2&&(G="0"+G),N+=G}p.codec=N;var H=this._mediaInfo;H.width=p.codecWidth,H.height=p.codecHeight,H.fps=p.frameRate.fps,H.profile=p.profile,H.level=p.level,H.refFrames=D.ref_frames,H.chromaFormat=D.chroma_format_string,H.sarNum=p.sarRatio.width,H.sarDen=p.sarRatio.height,H.videoCodec=N,H.hasAudio?H.audioCodec!=null&&(H.mimeType='video/x-flv; codecs="'+H.videoCodec+","+H.audioCodec+'"'):H.mimeType='video/x-flv; codecs="'+H.videoCodec+'"',H.isComplete()&&this._onMediaInfo(H)}}}var Z=w.getUint8(T);if(Z===0){this._onError(f.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS");return}else Z>1&&s.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+Z);T++;for(var L=0;L<Z;L++){var P=w.getUint16(T,!S);T+=2,P!==0&&(T+=P)}p.avcc=new Uint8Array(y),p.avcc.set(new Uint8Array(h,x,y),0),s.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",p)},m.prototype._parseAVCVideoData=function(h,x,y,p,C,S,w){for(var A=this._littleEndian,E=new DataView(h,x,y),R=[],T=0,L=0,P=this._naluLengthSize,k=this._timestampBase+p,D=S===1;L<y;){if(L+4>=y){s.default.w(this.TAG,"Malformed Nalu near timestamp "+k+", offset = "+L+", dataSize = "+y);break}var O=E.getUint32(L,!A);if(P===3&&(O>>>=8),O>y-P){s.default.w(this.TAG,"Malformed Nalus near timestamp "+k+", NaluSize > DataSize!");return}var M=E.getUint8(L+P)&31;M===5&&(D=!0);var F=new Uint8Array(h,x+L,P+O),N={type:M,data:F};R.push(N),T+=F.byteLength,L+=P+O}if(R.length){var U=this._videoTrack,G={units:R,length:T,isKeyframe:D,dts:k,cts:w,pts:k+w};D&&(G.fileposition=C),U.samples.push(G),U.length+=T}},m}();d.default=g},"./src/demux/sps-parser.js":function(a,d,l){l.r(d);var s=l("./src/demux/exp-golomb.js"),c=function(){function u(){}return u._ebsp2rbsp=function(f){for(var _=f,v=_.byteLength,b=new Uint8Array(v),g=0,m=0;m<v;m++)m>=2&&_[m]===3&&_[m-1]===0&&_[m-2]===0||(b[g]=_[m],g++);return new Uint8Array(b.buffer,0,g)},u.parseSPS=function(f){var _=u._ebsp2rbsp(f),v=new s.default(_);v.readByte();var b=v.readByte();v.readByte();var g=v.readByte();v.readUEG();var m=u.getProfileString(b),h=u.getLevelString(g),x=1,y=420,p=[0,420,422,444],C=8;if((b===100||b===110||b===122||b===244||b===44||b===83||b===86||b===118||b===128||b===138||b===144)&&(x=v.readUEG(),x===3&&v.readBits(1),x<=3&&(y=p[x]),C=v.readUEG()+8,v.readUEG(),v.readBits(1),v.readBool()))for(var S=x!==3?8:12,w=0;w<S;w++)v.readBool()&&(w<6?u._skipScalingList(v,16):u._skipScalingList(v,64));v.readUEG();var A=v.readUEG();if(A===0)v.readUEG();else if(A===1){v.readBits(1),v.readSEG(),v.readSEG();for(var E=v.readUEG(),w=0;w<E;w++)v.readSEG()}var R=v.readUEG();v.readBits(1);var T=v.readUEG(),L=v.readUEG(),P=v.readBits(1);P===0&&v.readBits(1),v.readBits(1);var k=0,D=0,O=0,M=0,F=v.readBool();F&&(k=v.readUEG(),D=v.readUEG(),O=v.readUEG(),M=v.readUEG());var N=1,U=1,G=0,H=!0,Z=0,de=0,ee=v.readBool();if(ee){if(v.readBool()){var W=v.readByte(),ae=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],q=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];W>0&&W<16?(N=ae[W-1],U=q[W-1]):W===255&&(N=v.readByte()<<8|v.readByte(),U=v.readByte()<<8|v.readByte())}if(v.readBool()&&v.readBool(),v.readBool()&&(v.readBits(4),v.readBool()&&v.readBits(24)),v.readBool()&&(v.readUEG(),v.readUEG()),v.readBool()){var pe=v.readBits(32),we=v.readBits(32);H=v.readBool(),Z=we,de=pe*2,G=Z/de}}var B=1;(N!==1||U!==1)&&(B=N/U);var $=0,z=0;if(x===0)$=1,z=2-P;else{var Y=x===3?1:2,j=x===1?2:1;$=Y,z=j*(2-P)}var K=(T+1)*16,te=(2-P)*((L+1)*16);K-=(k+D)*$,te-=(O+M)*z;var re=Math.ceil(K*B);return v.destroy(),v=null,{profile_string:m,level_string:h,bit_depth:C,ref_frames:R,chroma_format:y,chroma_format_string:u.getChromaFormatString(y),frame_rate:{fixed:H,fps:G,fps_den:de,fps_num:Z},sar_ratio:{width:N,height:U},codec_size:{width:K,height:te},present_size:{width:re,height:te}}},u._skipScalingList=function(f,_){for(var v=8,b=8,g=0,m=0;m<_;m++)b!==0&&(g=f.readSEG(),b=(v+g+256)%256),v=b===0?v:b},u.getProfileString=function(f){switch(f){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},u.getLevelString=function(f){return(f/10).toFixed(1)},u.getChromaFormatString=function(f){switch(f){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},u}();d.default=c},"./src/flv.js":function(a,d,l){l.r(d);var s=l("./src/utils/polyfill.js"),c=l("./src/core/features.js"),u=l("./src/io/loader.js"),f=l("./src/player/flv-player.js"),_=l("./src/player/native-player.js"),v=l("./src/player/player-events.js"),b=l("./src/player/player-errors.js"),g=l("./src/utils/logging-control.js"),m=l("./src/utils/exception.js");s.default.install();function h(C,S){var w=C;if(w==null||typeof w!="object")throw new m.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!w.hasOwnProperty("type"))throw new m.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(w.type){case"flv":return new f.default(w,S);default:return new _.default(w,S)}}function x(){return c.default.supportMSEH264Playback()}function y(){return c.default.getFeatureList()}var p={};p.createPlayer=h,p.isSupported=x,p.getFeatureList=y,p.BaseLoader=u.BaseLoader,p.LoaderStatus=u.LoaderStatus,p.LoaderErrors=u.LoaderErrors,p.Events=v.default,p.ErrorTypes=b.ErrorTypes,p.ErrorDetails=b.ErrorDetails,p.FlvPlayer=f.default,p.NativePlayer=_.default,p.LoggingControl=g.default,Object.defineProperty(p,"version",{enumerable:!0,get:function(){return"1.6.2"}}),d.default=p},"./src/index.js":function(a,d,l){a.exports=l("./src/flv.js").default},"./src/io/fetch-stream-loader.js":function(a,d,l){l.r(d);var s=l("./src/utils/browser.js"),c=l("./src/io/loader.js"),u=l("./src/utils/exception.js"),f=function(){var v=function(b,g){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var x in h)Object.prototype.hasOwnProperty.call(h,x)&&(m[x]=h[x])},v(b,g)};return function(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");v(b,g);function m(){this.constructor=b}b.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),_=function(v){f(b,v);function b(g,m){var h=v.call(this,"fetch-stream-loader")||this;return h.TAG="FetchStreamLoader",h._seekHandler=g,h._config=m,h._needStash=!0,h._requestAbort=!1,h._contentLength=null,h._receivedLength=0,h}return b.isSupported=function(){try{var g=s.default.msedge&&s.default.version.minor>=15048,m=s.default.msedge?g:!0;return self.fetch&&self.ReadableStream&&m}catch{return!1}},b.prototype.destroy=function(){this.isWorking()&&this.abort(),v.prototype.destroy.call(this)},b.prototype.open=function(g,m){var h=this;this._dataSource=g,this._range=m;var x=g.url;this._config.reuseRedirectedURL&&g.redirectedURL!=null&&(x=g.redirectedURL);var y=this._seekHandler.getConfig(x,m),p=new self.Headers;if(typeof y.headers=="object"){var C=y.headers;for(var S in C)C.hasOwnProperty(S)&&p.append(S,C[S])}var w={method:"GET",headers:p,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var S in this._config.headers)p.append(S,this._config.headers[S]);g.cors===!1&&(w.mode="same-origin"),g.withCredentials&&(w.credentials="include"),g.referrerPolicy&&(w.referrerPolicy=g.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,w.signal=this._abortController.signal),this._status=c.LoaderStatus.kConnecting,self.fetch(y.url,w).then(function(A){if(h._requestAbort){h._status=c.LoaderStatus.kIdle,A.body.cancel();return}if(A.ok&&A.status>=200&&A.status<=299){if(A.url!==y.url&&h._onURLRedirect){var E=h._seekHandler.removeURLParameters(A.url);h._onURLRedirect(E)}var R=A.headers.get("Content-Length");return R!=null&&(h._contentLength=parseInt(R),h._contentLength!==0&&h._onContentLengthKnown&&h._onContentLengthKnown(h._contentLength)),h._pump.call(h,A.body.getReader())}else if(h._status=c.LoaderStatus.kError,h._onError)h._onError(c.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:A.status,msg:A.statusText});else throw new u.RuntimeException("FetchStreamLoader: Http code invalid, "+A.status+" "+A.statusText)}).catch(function(A){if(!(h._abortController&&h._abortController.signal.aborted))if(h._status=c.LoaderStatus.kError,h._onError)h._onError(c.LoaderErrors.EXCEPTION,{code:-1,msg:A.message});else throw A})},b.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==c.LoaderStatus.kBuffering||!s.default.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},b.prototype._pump=function(g){var m=this;return g.read().then(function(h){if(h.done)if(m._contentLength!==null&&m._receivedLength<m._contentLength){m._status=c.LoaderStatus.kError;var x=c.LoaderErrors.EARLY_EOF,y={code:-1,msg:"Fetch stream meet Early-EOF"};if(m._onError)m._onError(x,y);else throw new u.RuntimeException(y.msg)}else m._status=c.LoaderStatus.kComplete,m._onComplete&&m._onComplete(m._range.from,m._range.from+m._receivedLength-1);else{if(m._abortController&&m._abortController.signal.aborted){m._status=c.LoaderStatus.kComplete;return}else if(m._requestAbort===!0)return m._status=c.LoaderStatus.kComplete,g.cancel();m._status=c.LoaderStatus.kBuffering;var p=h.value.buffer,C=m._range.from+m._receivedLength;m._receivedLength+=p.byteLength,m._onDataArrival&&m._onDataArrival(p,C,m._receivedLength),m._pump(g)}}).catch(function(h){if(m._abortController&&m._abortController.signal.aborted){m._status=c.LoaderStatus.kComplete;return}if(!(h.code===11&&s.default.msedge)){m._status=c.LoaderStatus.kError;var x=0,y=null;if((h.code===19||h.message==="network error")&&(m._contentLength===null||m._contentLength!==null&&m._receivedLength<m._contentLength)?(x=c.LoaderErrors.EARLY_EOF,y={code:h.code,msg:"Fetch stream meet Early-EOF"}):(x=c.LoaderErrors.EXCEPTION,y={code:h.code,msg:h.message}),m._onError)m._onError(x,y);else throw new u.RuntimeException(y.msg)}})},b}(c.BaseLoader);d.default=_},"./src/io/io-controller.js":function(a,d,l){l.r(d);var s=l("./src/utils/logger.js"),c=l("./src/io/speed-sampler.js"),u=l("./src/io/loader.js"),f=l("./src/io/fetch-stream-loader.js"),_=l("./src/io/xhr-moz-chunked-loader.js"),v=l("./src/io/xhr-range-loader.js"),b=l("./src/io/websocket-loader.js"),g=l("./src/io/range-seek-handler.js"),m=l("./src/io/param-seek-handler.js"),h=l("./src/utils/exception.js"),x=function(){function y(p,C,S){this.TAG="IOController",this._config=C,this._extraData=S,this._stashInitialSize=1024*384,C.stashInitialSize!=null&&C.stashInitialSize>0&&(this._stashInitialSize=C.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=1024*1024*3,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,C.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=p,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(p.url),this._refTotalLength=p.filesize?p.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new c.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return y.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},y.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},y.prototype.isPaused=function(){return this._paused},Object.defineProperty(y.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"extraData",{get:function(){return this._extraData},set:function(p){this._extraData=p},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(p){this._onDataArrival=p},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(p){this._onSeeked=p},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"onError",{get:function(){return this._onError},set:function(p){this._onError=p},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"onComplete",{get:function(){return this._onComplete},set:function(p){this._onComplete=p},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(p){this._onRedirect=p},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(p){this._onRecoveredEarlyEof=p},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"currentSpeed",{get:function(){return this._loaderClass===v.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),y.prototype._selectSeekHandler=function(){var p=this._config;if(p.seekType==="range")this._seekHandler=new g.default(this._config.rangeLoadZeroStart);else if(p.seekType==="param"){var C=p.seekParamStart||"bstart",S=p.seekParamEnd||"bend";this._seekHandler=new m.default(C,S)}else if(p.seekType==="custom"){if(typeof p.customSeekHandler!="function")throw new h.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new p.customSeekHandler}else throw new h.InvalidArgumentException("Invalid seekType in config: "+p.seekType)},y.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=b.default;else if(f.default.isSupported())this._loaderClass=f.default;else if(_.default.isSupported())this._loaderClass=_.default;else if(v.default.isSupported())this._loaderClass=v.default;else throw new h.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!")},y.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},y.prototype.open=function(p){this._currentRange={from:0,to:-1},p&&(this._currentRange.from=p),this._speedSampler.reset(),p||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},y.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},y.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},y.prototype.resume=function(){if(this._paused){this._paused=!1;var p=this._resumeFrom;this._resumeFrom=0,this._internalSeek(p,!0)}},y.prototype.seek=function(p){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(p,!0)},y.prototype._internalSeek=function(p,C){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(C),this._loader.destroy(),this._loader=null;var S={from:p,to:-1};this._currentRange={from:S.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,S),this._onSeeked&&this._onSeeked()},y.prototype.updateUrl=function(p){if(!p||typeof p!="string"||p.length===0)throw new h.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=p},y.prototype._expandBuffer=function(p){for(var C=this._stashSize;C+1024*1024*1<p;)C*=2;if(C+=1024*1024*1,C!==this._bufferSize){var S=new ArrayBuffer(C);if(this._stashUsed>0){var w=new Uint8Array(this._stashBuffer,0,this._stashUsed),A=new Uint8Array(S,0,C);A.set(w,0)}this._stashBuffer=S,this._bufferSize=C}},y.prototype._normalizeSpeed=function(p){var C=this._speedNormalizeList,S=C.length-1,w=0,A=0,E=S;if(p<C[0])return C[0];for(;A<=E;){if(w=A+Math.floor((E-A)/2),w===S||p>=C[w]&&p<C[w+1])return C[w];C[w]<p?A=w+1:E=w-1}},y.prototype._adjustStashSize=function(p){var C=0;this._config.isLive||p<512?C=p:p>=512&&p<=1024?C=Math.floor(p*1.5):C=p*2,C>8192&&(C=8192);var S=C*1024+1024*1024*1;this._bufferSize<S&&this._expandBuffer(S),this._stashSize=C*1024},y.prototype._dispatchChunks=function(p,C){return this._currentRange.to=C+p.byteLength-1,this._onDataArrival(p,C)},y.prototype._onURLRedirect=function(p){this._redirectedURL=p,this._onRedirect&&this._onRedirect(p)},y.prototype._onContentLengthKnown=function(p){p&&this._fullRequestFlag&&(this._totalLength=p,this._fullRequestFlag=!1)},y.prototype._onLoaderChunkArrival=function(p,C,S){if(!this._onDataArrival)throw new h.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(p.byteLength);var w=this._speedSampler.lastSecondKBps;if(w!==0){var A=this._normalizeSpeed(w);this._speedNormalized!==A&&(this._speedNormalized=A,this._adjustStashSize(A))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=C),this._stashUsed+p.byteLength<=this._stashSize){var T=new Uint8Array(this._stashBuffer,0,this._stashSize);T.set(new Uint8Array(p),this._stashUsed),this._stashUsed+=p.byteLength}else{var T=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var P=this._stashBuffer.slice(0,this._stashUsed),E=this._dispatchChunks(P,this._stashByteStart);if(E<P.byteLength){if(E>0){var L=new Uint8Array(P,E);T.set(L,0),this._stashUsed=L.byteLength,this._stashByteStart+=E}}else this._stashUsed=0,this._stashByteStart+=E;this._stashUsed+p.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+p.byteLength),T=new Uint8Array(this._stashBuffer,0,this._bufferSize)),T.set(new Uint8Array(p),this._stashUsed),this._stashUsed+=p.byteLength}else{var E=this._dispatchChunks(p,C);if(E<p.byteLength){var R=p.byteLength-E;R>this._bufferSize&&(this._expandBuffer(R),T=new Uint8Array(this._stashBuffer,0,this._bufferSize)),T.set(new Uint8Array(p,E),0),this._stashUsed+=R,this._stashByteStart=C+E}}}else if(this._stashUsed===0){var E=this._dispatchChunks(p,C);if(E<p.byteLength){var R=p.byteLength-E;R>this._bufferSize&&this._expandBuffer(R);var T=new Uint8Array(this._stashBuffer,0,this._bufferSize);T.set(new Uint8Array(p,E),0),this._stashUsed+=R,this._stashByteStart=C+E}}else{this._stashUsed+p.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+p.byteLength);var T=new Uint8Array(this._stashBuffer,0,this._bufferSize);T.set(new Uint8Array(p),this._stashUsed),this._stashUsed+=p.byteLength;var E=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(E<this._stashUsed&&E>0){var L=new Uint8Array(this._stashBuffer,E);T.set(L,0)}this._stashUsed-=E,this._stashByteStart+=E}}},y.prototype._flushStashBuffer=function(p){if(this._stashUsed>0){var C=this._stashBuffer.slice(0,this._stashUsed),S=this._dispatchChunks(C,this._stashByteStart),w=C.byteLength-S;if(S<C.byteLength)if(p)s.default.w(this.TAG,w+" bytes unconsumed data remain when flush buffer, dropped");else{if(S>0){var A=new Uint8Array(this._stashBuffer,0,this._bufferSize),E=new Uint8Array(C,S);A.set(E,0),this._stashUsed=E.byteLength,this._stashByteStart+=S}return 0}return this._stashUsed=0,this._stashByteStart=0,w}return 0},y.prototype._onLoaderComplete=function(p,C){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},y.prototype._onLoaderError=function(p,C){switch(s.default.e(this.TAG,"Loader error, code = "+C.code+", msg = "+C.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,p=u.LoaderErrors.UNRECOVERABLE_EARLY_EOF),p){case u.LoaderErrors.EARLY_EOF:{if(!this._config.isLive&&this._totalLength){var S=this._currentRange.to+1;S<this._totalLength&&(s.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(S,!1));return}p=u.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break}case u.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case u.LoaderErrors.CONNECTING_TIMEOUT:case u.LoaderErrors.HTTP_STATUS_CODE_INVALID:case u.LoaderErrors.EXCEPTION:break}if(this._onError)this._onError(p,C);else throw new h.RuntimeException("IOException: "+C.msg)},y}();d.default=x},"./src/io/loader.js":function(a,d,l){l.r(d),l.d(d,{LoaderStatus:function(){return c},LoaderErrors:function(){return u},BaseLoader:function(){return f}});var s=l("./src/utils/exception.js"),c={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},u={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},f=function(){function _(v){this._type=v||"undefined",this._status=c.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return _.prototype.destroy=function(){this._status=c.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},_.prototype.isWorking=function(){return this._status===c.kConnecting||this._status===c.kBuffering},Object.defineProperty(_.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(v){this._onContentLengthKnown=v},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(v){this._onURLRedirect=v},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(v){this._onDataArrival=v},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onError",{get:function(){return this._onError},set:function(v){this._onError=v},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onComplete",{get:function(){return this._onComplete},set:function(v){this._onComplete=v},enumerable:!1,configurable:!0}),_.prototype.open=function(v,b){throw new s.NotImplementedException("Unimplemented abstract function!")},_.prototype.abort=function(){throw new s.NotImplementedException("Unimplemented abstract function!")},_}()},"./src/io/param-seek-handler.js":function(a,d,l){l.r(d);var s=function(){function c(u,f){this._startName=u,this._endName=f}return c.prototype.getConfig=function(u,f){var _=u;if(f.from!==0||f.to!==-1){var v=!0;_.indexOf("?")===-1&&(_+="?",v=!1),v&&(_+="&"),_+=this._startName+"="+f.from.toString(),f.to!==-1&&(_+="&"+this._endName+"="+f.to.toString())}return{url:_,headers:{}}},c.prototype.removeURLParameters=function(u){var f=u.split("?")[0],_=void 0,v=u.indexOf("?");v!==-1&&(_=u.substring(v+1));var b="";if(_!=null&&_.length>0)for(var g=_.split("&"),m=0;m<g.length;m++){var h=g[m].split("="),x=m>0;h[0]!==this._startName&&h[0]!==this._endName&&(x&&(b+="&"),b+=g[m])}return b.length===0?f:f+"?"+b},c}();d.default=s},"./src/io/range-seek-handler.js":function(a,d,l){l.r(d);var s=function(){function c(u){this._zeroStart=u||!1}return c.prototype.getConfig=function(u,f){var _={};if(f.from!==0||f.to!==-1){var v=void 0;f.to!==-1?v="bytes="+f.from.toString()+"-"+f.to.toString():v="bytes="+f.from.toString()+"-",_.Range=v}else this._zeroStart&&(_.Range="bytes=0-");return{url:u,headers:_}},c.prototype.removeURLParameters=function(u){return u},c}();d.default=s},"./src/io/speed-sampler.js":function(a,d,l){l.r(d);var s=function(){function c(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return c.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},c.prototype.addBytes=function(u){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=u,this._totalBytes+=u):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=u,this._totalBytes+=u):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=u,this._totalBytes+=u,this._lastCheckpoint=this._now())},Object.defineProperty(c.prototype,"currentKBps",{get:function(){this.addBytes(0);var u=(this._now()-this._lastCheckpoint)/1e3;return u==0&&(u=1),this._intervalBytes/u/1024},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"averageKBps",{get:function(){var u=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/u/1024},enumerable:!1,configurable:!0}),c}();d.default=s},"./src/io/websocket-loader.js":function(a,d,l){l.r(d);var s=l("./src/io/loader.js"),c=l("./src/utils/exception.js"),u=function(){var _=function(v,b){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(g[h]=m[h])},_(v,b)};return function(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");_(v,b);function g(){this.constructor=v}v.prototype=b===null?Object.create(b):(g.prototype=b.prototype,new g)}}(),f=function(_){u(v,_);function v(){var b=_.call(this,"websocket-loader")||this;return b.TAG="WebSocketLoader",b._needStash=!0,b._ws=null,b._requestAbort=!1,b._receivedLength=0,b}return v.isSupported=function(){try{return typeof self.WebSocket<"u"}catch{return!1}},v.prototype.destroy=function(){this._ws&&this.abort(),_.prototype.destroy.call(this)},v.prototype.open=function(b){try{var g=this._ws=new self.WebSocket(b.url);g.binaryType="arraybuffer",g.onopen=this._onWebSocketOpen.bind(this),g.onclose=this._onWebSocketClose.bind(this),g.onmessage=this._onWebSocketMessage.bind(this),g.onerror=this._onWebSocketError.bind(this),this._status=s.LoaderStatus.kConnecting}catch(h){this._status=s.LoaderStatus.kError;var m={code:h.code,msg:h.message};if(this._onError)this._onError(s.LoaderErrors.EXCEPTION,m);else throw new c.RuntimeException(m.msg)}},v.prototype.abort=function(){var b=this._ws;b&&(b.readyState===0||b.readyState===1)&&(this._requestAbort=!0,b.close()),this._ws=null,this._status=s.LoaderStatus.kComplete},v.prototype._onWebSocketOpen=function(b){this._status=s.LoaderStatus.kBuffering},v.prototype._onWebSocketClose=function(b){if(this._requestAbort===!0){this._requestAbort=!1;return}this._status=s.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)},v.prototype._onWebSocketMessage=function(b){var g=this;if(b.data instanceof ArrayBuffer)this._dispatchArrayBuffer(b.data);else if(b.data instanceof Blob){var m=new FileReader;m.onload=function(){g._dispatchArrayBuffer(m.result)},m.readAsArrayBuffer(b.data)}else{this._status=s.LoaderStatus.kError;var h={code:-1,msg:"Unsupported WebSocket message type: "+b.data.constructor.name};if(this._onError)this._onError(s.LoaderErrors.EXCEPTION,h);else throw new c.RuntimeException(h.msg)}},v.prototype._dispatchArrayBuffer=function(b){var g=b,m=this._receivedLength;this._receivedLength+=g.byteLength,this._onDataArrival&&this._onDataArrival(g,m,this._receivedLength)},v.prototype._onWebSocketError=function(b){this._status=s.LoaderStatus.kError;var g={code:b.code,msg:b.message};if(this._onError)this._onError(s.LoaderErrors.EXCEPTION,g);else throw new c.RuntimeException(g.msg)},v}(s.BaseLoader);d.default=f},"./src/io/xhr-moz-chunked-loader.js":function(a,d,l){l.r(d);var s=l("./src/utils/logger.js"),c=l("./src/io/loader.js"),u=l("./src/utils/exception.js"),f=function(){var v=function(b,g){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var x in h)Object.prototype.hasOwnProperty.call(h,x)&&(m[x]=h[x])},v(b,g)};return function(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");v(b,g);function m(){this.constructor=b}b.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),_=function(v){f(b,v);function b(g,m){var h=v.call(this,"xhr-moz-chunked-loader")||this;return h.TAG="MozChunkedLoader",h._seekHandler=g,h._config=m,h._needStash=!0,h._xhr=null,h._requestAbort=!1,h._contentLength=null,h._receivedLength=0,h}return b.isSupported=function(){try{var g=new XMLHttpRequest;return g.open("GET","https://example.com",!0),g.responseType="moz-chunked-arraybuffer",g.responseType==="moz-chunked-arraybuffer"}catch(m){return s.default.w("MozChunkedLoader",m.message),!1}},b.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),v.prototype.destroy.call(this)},b.prototype.open=function(g,m){this._dataSource=g,this._range=m;var h=g.url;this._config.reuseRedirectedURL&&g.redirectedURL!=null&&(h=g.redirectedURL);var x=this._seekHandler.getConfig(h,m);this._requestURL=x.url;var y=this._xhr=new XMLHttpRequest;if(y.open("GET",x.url,!0),y.responseType="moz-chunked-arraybuffer",y.onreadystatechange=this._onReadyStateChange.bind(this),y.onprogress=this._onProgress.bind(this),y.onloadend=this._onLoadEnd.bind(this),y.onerror=this._onXhrError.bind(this),g.withCredentials&&(y.withCredentials=!0),typeof x.headers=="object"){var p=x.headers;for(var C in p)p.hasOwnProperty(C)&&y.setRequestHeader(C,p[C])}if(typeof this._config.headers=="object"){var p=this._config.headers;for(var C in p)p.hasOwnProperty(C)&&y.setRequestHeader(C,p[C])}this._status=c.LoaderStatus.kConnecting,y.send()},b.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=c.LoaderStatus.kComplete},b.prototype._onReadyStateChange=function(g){var m=g.target;if(m.readyState===2){if(m.responseURL!=null&&m.responseURL!==this._requestURL&&this._onURLRedirect){var h=this._seekHandler.removeURLParameters(m.responseURL);this._onURLRedirect(h)}if(m.status!==0&&(m.status<200||m.status>299))if(this._status=c.LoaderStatus.kError,this._onError)this._onError(c.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:m.status,msg:m.statusText});else throw new u.RuntimeException("MozChunkedLoader: Http code invalid, "+m.status+" "+m.statusText);else this._status=c.LoaderStatus.kBuffering}},b.prototype._onProgress=function(g){if(this._status!==c.LoaderStatus.kError){this._contentLength===null&&g.total!==null&&g.total!==0&&(this._contentLength=g.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var m=g.target.response,h=this._range.from+this._receivedLength;this._receivedLength+=m.byteLength,this._onDataArrival&&this._onDataArrival(m,h,this._receivedLength)}},b.prototype._onLoadEnd=function(g){if(this._requestAbort===!0){this._requestAbort=!1;return}else if(this._status===c.LoaderStatus.kError)return;this._status=c.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)},b.prototype._onXhrError=function(g){this._status=c.LoaderStatus.kError;var m=0,h=null;if(this._contentLength&&g.loaded<this._contentLength?(m=c.LoaderErrors.EARLY_EOF,h={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(m=c.LoaderErrors.EXCEPTION,h={code:-1,msg:g.constructor.name+" "+g.type}),this._onError)this._onError(m,h);else throw new u.RuntimeException(h.msg)},b}(c.BaseLoader);d.default=_},"./src/io/xhr-range-loader.js":function(a,d,l){l.r(d);var s=l("./src/utils/logger.js"),c=l("./src/io/speed-sampler.js"),u=l("./src/io/loader.js"),f=l("./src/utils/exception.js"),_=function(){var b=function(g,m){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,x){h.__proto__=x}||function(h,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(h[y]=x[y])},b(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");b(g,m);function h(){this.constructor=g}g.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}}(),v=function(b){_(g,b);function g(m,h){var x=b.call(this,"xhr-range-loader")||this;return x.TAG="RangeLoader",x._seekHandler=m,x._config=h,x._needStash=!1,x._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],x._currentChunkSizeKB=384,x._currentSpeedNormalized=0,x._zeroSpeedChunkCount=0,x._xhr=null,x._speedSampler=new c.default,x._requestAbort=!1,x._waitForTotalLength=!1,x._totalLengthReceived=!1,x._currentRequestURL=null,x._currentRedirectedURL=null,x._currentRequestRange=null,x._totalLength=null,x._contentLength=null,x._receivedLength=0,x._lastTimeLoaded=0,x}return g.isSupported=function(){try{var m=new XMLHttpRequest;return m.open("GET","https://example.com",!0),m.responseType="arraybuffer",m.responseType==="arraybuffer"}catch(h){return s.default.w("RangeLoader",h.message),!1}},g.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),b.prototype.destroy.call(this)},Object.defineProperty(g.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),g.prototype.open=function(m,h){this._dataSource=m,this._range=h,this._status=u.LoaderStatus.kConnecting;var x=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(x=!0,this._totalLength=this._dataSource.filesize),!this._totalLengthReceived&&!x?(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1})):this._openSubRange()},g.prototype._openSubRange=function(){var m=this._currentChunkSizeKB*1024,h=this._range.from+this._receivedLength,x=h+m;this._contentLength!=null&&x-this._range.from>=this._contentLength&&(x=this._range.from+this._contentLength-1),this._currentRequestRange={from:h,to:x},this._internalOpen(this._dataSource,this._currentRequestRange)},g.prototype._internalOpen=function(m,h){this._lastTimeLoaded=0;var x=m.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?x=this._currentRedirectedURL:m.redirectedURL!=null&&(x=m.redirectedURL));var y=this._seekHandler.getConfig(x,h);this._currentRequestURL=y.url;var p=this._xhr=new XMLHttpRequest;if(p.open("GET",y.url,!0),p.responseType="arraybuffer",p.onreadystatechange=this._onReadyStateChange.bind(this),p.onprogress=this._onProgress.bind(this),p.onload=this._onLoad.bind(this),p.onerror=this._onXhrError.bind(this),m.withCredentials&&(p.withCredentials=!0),typeof y.headers=="object"){var C=y.headers;for(var S in C)C.hasOwnProperty(S)&&p.setRequestHeader(S,C[S])}if(typeof this._config.headers=="object"){var C=this._config.headers;for(var S in C)C.hasOwnProperty(S)&&p.setRequestHeader(S,C[S])}p.send()},g.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=u.LoaderStatus.kComplete},g.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},g.prototype._onReadyStateChange=function(m){var h=m.target;if(h.readyState===2){if(h.responseURL!=null){var x=this._seekHandler.removeURLParameters(h.responseURL);h.responseURL!==this._currentRequestURL&&x!==this._currentRedirectedURL&&(this._currentRedirectedURL=x,this._onURLRedirect&&this._onURLRedirect(x))}if(h.status>=200&&h.status<=299){if(this._waitForTotalLength)return;this._status=u.LoaderStatus.kBuffering}else if(this._status=u.LoaderStatus.kError,this._onError)this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:h.status,msg:h.statusText});else throw new f.RuntimeException("RangeLoader: Http code invalid, "+h.status+" "+h.statusText)}},g.prototype._onProgress=function(m){if(this._status!==u.LoaderStatus.kError){if(this._contentLength===null){var h=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,h=!0;var x=m.total;this._internalAbort(),x!=null&x!==0&&(this._totalLength=x)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,h){this._openSubRange();return}this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var y=m.loaded-this._lastTimeLoaded;this._lastTimeLoaded=m.loaded,this._speedSampler.addBytes(y)}},g.prototype._normalizeSpeed=function(m){var h=this._chunkSizeKBList,x=h.length-1,y=0,p=0,C=x;if(m<h[0])return h[0];for(;p<=C;){if(y=p+Math.floor((C-p)/2),y===x||m>=h[y]&&m<h[y+1])return h[y];h[y]<m?p=y+1:C=y-1}},g.prototype._onLoad=function(m){if(this._status!==u.LoaderStatus.kError){if(this._waitForTotalLength){this._waitForTotalLength=!1;return}this._lastTimeLoaded=0;var h=this._speedSampler.lastSecondKBps;if(h===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(h=this._speedSampler.currentKBps)),h!==0){var x=this._normalizeSpeed(h);this._currentSpeedNormalized!==x&&(this._currentSpeedNormalized=x,this._currentChunkSizeKB=x)}var y=m.target.response,p=this._range.from+this._receivedLength;this._receivedLength+=y.byteLength;var C=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():C=!0,this._onDataArrival&&this._onDataArrival(y,p,this._receivedLength),C&&(this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},g.prototype._onXhrError=function(m){this._status=u.LoaderStatus.kError;var h=0,x=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(h=u.LoaderErrors.EARLY_EOF,x={code:-1,msg:"RangeLoader meet Early-Eof"}):(h=u.LoaderErrors.EXCEPTION,x={code:-1,msg:m.constructor.name+" "+m.type}),this._onError)this._onError(h,x);else throw new f.RuntimeException(x.msg)},g}(u.BaseLoader);d.default=v},"./src/player/flv-player.js":function(a,d,l){l.r(d);var s=l("./node_modules/events/events.js"),c=l.n(s),u=l("./src/utils/logger.js"),f=l("./src/utils/browser.js"),_=l("./src/player/player-events.js"),v=l("./src/core/transmuxer.js"),b=l("./src/core/transmuxing-events.js"),g=l("./src/core/mse-controller.js"),m=l("./src/core/mse-events.js"),h=l("./src/player/player-errors.js"),x=l("./src/config.js"),y=l("./src/utils/exception.js"),p=function(){function C(S,w){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(c()),this._config=(0,x.createDefaultConfig)(),typeof w=="object"&&Object.assign(this._config,w),S.type.toLowerCase()!=="flv")throw new y.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");S.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=S,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var A=f.default.chrome&&(f.default.version.major<50||f.default.version.major===50&&f.default.version.build<2661);this._alwaysSeekKeyframe=!!(A||f.default.msedge||f.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return C.prototype.destroy=function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},C.prototype.on=function(S,w){var A=this;S===_.default.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){A._emitter.emit(_.default.MEDIA_INFO,A.mediaInfo)}):S===_.default.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){A._emitter.emit(_.default.STATISTICS_INFO,A.statisticsInfo)}),this._emitter.addListener(S,w)},C.prototype.off=function(S,w){this._emitter.removeListener(S,w)},C.prototype.attachMediaElement=function(S){var w=this;if(this._mediaElement=S,S.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),S.addEventListener("seeking",this.e.onvSeeking),S.addEventListener("canplay",this.e.onvCanPlay),S.addEventListener("stalled",this.e.onvStalled),S.addEventListener("progress",this.e.onvProgress),this._msectl=new g.default(this._config),this._msectl.on(m.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(m.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(m.default.SOURCE_OPEN,function(){w._mseSourceOpened=!0,w._hasPendingLoad&&(w._hasPendingLoad=!1,w.load())}),this._msectl.on(m.default.ERROR,function(A){w._emitter.emit(_.default.ERROR,h.ErrorTypes.MEDIA_ERROR,h.ErrorDetails.MEDIA_MSE_ERROR,A)}),this._msectl.attachMediaElement(S),this._pendingSeekTime!=null)try{S.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},C.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},C.prototype.load=function(){var S=this;if(!this._mediaElement)throw new y.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new y.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1){this._hasPendingLoad=!0;return}this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new v.default(this._mediaDataSource,this._config),this._transmuxer.on(b.default.INIT_SEGMENT,function(w,A){S._msectl.appendInitSegment(A)}),this._transmuxer.on(b.default.MEDIA_SEGMENT,function(w,A){if(S._msectl.appendMediaSegment(A),S._config.lazyLoad&&!S._config.isLive){var E=S._mediaElement.currentTime;A.info.endDts>=(E+S._config.lazyLoadMaxDuration)*1e3&&S._progressChecker==null&&(u.default.v(S.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),S._suspendTransmuxer())}}),this._transmuxer.on(b.default.LOADING_COMPLETE,function(){S._msectl.endOfStream(),S._emitter.emit(_.default.LOADING_COMPLETE)}),this._transmuxer.on(b.default.RECOVERED_EARLY_EOF,function(){S._emitter.emit(_.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(b.default.IO_ERROR,function(w,A){S._emitter.emit(_.default.ERROR,h.ErrorTypes.NETWORK_ERROR,w,A)}),this._transmuxer.on(b.default.DEMUX_ERROR,function(w,A){S._emitter.emit(_.default.ERROR,h.ErrorTypes.MEDIA_ERROR,w,{code:-1,msg:A})}),this._transmuxer.on(b.default.MEDIA_INFO,function(w){S._mediaInfo=w,S._emitter.emit(_.default.MEDIA_INFO,Object.assign({},w))}),this._transmuxer.on(b.default.METADATA_ARRIVED,function(w){S._emitter.emit(_.default.METADATA_ARRIVED,w)}),this._transmuxer.on(b.default.SCRIPTDATA_ARRIVED,function(w){S._emitter.emit(_.default.SCRIPTDATA_ARRIVED,w)}),this._transmuxer.on(b.default.STATISTICS_INFO,function(w){S._statisticsInfo=S._fillStatisticsInfo(w),S._emitter.emit(_.default.STATISTICS_INFO,Object.assign({},S._statisticsInfo))}),this._transmuxer.on(b.default.RECOMMEND_SEEKPOINT,function(w){S._mediaElement&&!S._config.accurateSeek&&(S._requestSetTime=!0,S._mediaElement.currentTime=w/1e3)}),this._transmuxer.open()}},C.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},C.prototype.play=function(){return this._mediaElement.play()},C.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(C.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(S){this._mediaElement.volume=S},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(S){this._mediaElement.muted=S},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(S){this._mediaElement?this._internalSeek(S):this._pendingSeekTime=S},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"statisticsInfo",{get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),C.prototype._fillStatisticsInfo=function(S){if(S.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return S;var w=!0,A=0,E=0;if(this._mediaElement.getVideoPlaybackQuality){var R=this._mediaElement.getVideoPlaybackQuality();A=R.totalVideoFrames,E=R.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(A=this._mediaElement.webkitDecodedFrameCount,E=this._mediaElement.webkitDroppedFrameCount):w=!1;return w&&(S.decodedFrames=A,S.droppedFrames=E),S},C.prototype._onmseUpdateEnd=function(){if(!(!this._config.lazyLoad||this._config.isLive)){for(var S=this._mediaElement.buffered,w=this._mediaElement.currentTime,A=0,E=0;E<S.length;E++){var R=S.start(E),T=S.end(E);if(R<=w&&w<T){A=T;break}}A>=w+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(u.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},C.prototype._onmseBufferFull=function(){u.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()},C.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},C.prototype._checkProgressAndResume=function(){for(var S=this._mediaElement.currentTime,w=this._mediaElement.buffered,A=!1,E=0;E<w.length;E++){var R=w.start(E),T=w.end(E);if(S>=R&&S<T){S>=T-this._config.lazyLoadRecoverDuration&&(A=!0);break}}A&&(window.clearInterval(this._progressChecker),this._progressChecker=null,A&&(u.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},C.prototype._isTimepointBuffered=function(S){for(var w=this._mediaElement.buffered,A=0;A<w.length;A++){var E=w.start(A),R=w.end(A);if(S>=E&&S<R)return!0}return!1},C.prototype._internalSeek=function(S){var w=this._isTimepointBuffered(S),A=!1,E=0;if(S<1&&this._mediaElement.buffered.length>0){var R=this._mediaElement.buffered.start(0);(R<1&&S<R||f.default.safari)&&(A=!0,E=f.default.safari?.1:R)}if(A)this._requestSetTime=!0,this._mediaElement.currentTime=E;else if(w){if(!this._alwaysSeekKeyframe)this._requestSetTime=!0,this._mediaElement.currentTime=S;else{var T=this._msectl.getNearestKeyframe(Math.floor(S*1e3));this._requestSetTime=!0,T!=null?this._mediaElement.currentTime=T.dts/1e3:this._mediaElement.currentTime=S}this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(S),this._transmuxer.seek(Math.floor(S*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=S)},C.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var S=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(S)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(S),this._transmuxer.seek(Math.floor(S*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=S))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},C.prototype._checkAndResumeStuckPlayback=function(S){var w=this._mediaElement;if(S||!this._receivedCanPlay||w.readyState<2){var A=w.buffered;A.length>0&&w.currentTime<A.start(0)&&(u.default.w(this.TAG,"Playback seems stuck at "+w.currentTime+", seek to "+A.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=A.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},C.prototype._onvLoadedMetadata=function(S){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},C.prototype._onvSeeking=function(S){var w=this._mediaElement.currentTime,A=this._mediaElement.buffered;if(this._requestSetTime){this._requestSetTime=!1;return}if(w<1&&A.length>0){var E=A.start(0);if(E<1&&w<E||f.default.safari){this._requestSetTime=!0,this._mediaElement.currentTime=f.default.safari?.1:E;return}}if(this._isTimepointBuffered(w)){if(this._alwaysSeekKeyframe){var R=this._msectl.getNearestKeyframe(Math.floor(w*1e3));R!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=R.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume();return}this._seekpointRecord={seekPoint:w,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},C.prototype._onvCanPlay=function(S){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},C.prototype._onvStalled=function(S){this._checkAndResumeStuckPlayback(!0)},C.prototype._onvProgress=function(S){this._checkAndResumeStuckPlayback()},C}();d.default=p},"./src/player/native-player.js":function(a,d,l){l.r(d);var s=l("./node_modules/events/events.js"),c=l.n(s),u=l("./src/player/player-events.js"),f=l("./src/config.js"),_=l("./src/utils/exception.js"),v=function(){function b(g,m){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(c()),this._config=(0,f.createDefaultConfig)(),typeof m=="object"&&Object.assign(this._config,m),g.type.toLowerCase()==="flv")throw new _.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(g.hasOwnProperty("segments"))throw new _.InvalidArgumentException("NativePlayer("+g.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=g,this._mediaElement=null}return b.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},b.prototype.on=function(g,m){var h=this;g===u.default.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){h._emitter.emit(u.default.MEDIA_INFO,h.mediaInfo)}):g===u.default.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){h._emitter.emit(u.default.STATISTICS_INFO,h.statisticsInfo)}),this._emitter.addListener(g,m)},b.prototype.off=function(g,m){this._emitter.removeListener(g,m)},b.prototype.attachMediaElement=function(g){if(this._mediaElement=g,g.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{g.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},b.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},b.prototype.load=function(){if(!this._mediaElement)throw new _.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},b.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},b.prototype.play=function(){return this._mediaElement.play()},b.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(b.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(g){this._mediaElement.volume=g},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(g){this._mediaElement.muted=g},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(g){this._mediaElement?this._mediaElement.currentTime=g:this._pendingSeekTime=g},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"mediaInfo",{get:function(){var g=this._mediaElement instanceof HTMLAudioElement?"audio/":"video/",m={mimeType:g+this._mediaDataSource.type};return this._mediaElement&&(m.duration=Math.floor(this._mediaElement.duration*1e3),this._mediaElement instanceof HTMLVideoElement&&(m.width=this._mediaElement.videoWidth,m.height=this._mediaElement.videoHeight)),m},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"statisticsInfo",{get:function(){var g={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return g;var m=!0,h=0,x=0;if(this._mediaElement.getVideoPlaybackQuality){var y=this._mediaElement.getVideoPlaybackQuality();h=y.totalVideoFrames,x=y.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(h=this._mediaElement.webkitDecodedFrameCount,x=this._mediaElement.webkitDroppedFrameCount):m=!1;return m&&(g.decodedFrames=h,g.droppedFrames=x),g},enumerable:!1,configurable:!0}),b.prototype._onvLoadedMetadata=function(g){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(u.default.MEDIA_INFO,this.mediaInfo)},b.prototype._reportStatisticsInfo=function(){this._emitter.emit(u.default.STATISTICS_INFO,this.statisticsInfo)},b}();d.default=v},"./src/player/player-errors.js":function(a,d,l){l.r(d),l.d(d,{ErrorTypes:function(){return u},ErrorDetails:function(){return f}});var s=l("./src/io/loader.js"),c=l("./src/demux/demux-errors.js"),u={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},f={NETWORK_EXCEPTION:s.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:s.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:s.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:s.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:c.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:c.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:c.default.CODEC_UNSUPPORTED}},"./src/player/player-events.js":function(a,d,l){l.r(d);var s={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};d.default=s},"./src/remux/aac-silent.js":function(a,d,l){l.r(d);var s=function(){function c(){}return c.getSilentFrame=function(u,f){if(u==="mp4a.40.2"){if(f===1)return new Uint8Array([0,200,0,128,35,128]);if(f===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(f===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(f===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(f===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(f===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(f===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(f===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(f===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},c}();d.default=s},"./src/remux/mp4-generator.js":function(a,d,l){l.r(d);var s=function(){function c(){}return c.init=function(){c.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(var u in c.types)c.types.hasOwnProperty(u)&&(c.types[u]=[u.charCodeAt(0),u.charCodeAt(1),u.charCodeAt(2),u.charCodeAt(3)]);var f=c.constants={};f.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),f.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),f.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),f.STSC=f.STCO=f.STTS,f.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),f.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),f.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),f.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),f.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),f.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},c.box=function(u){for(var f=8,_=null,v=Array.prototype.slice.call(arguments,1),b=v.length,g=0;g<b;g++)f+=v[g].byteLength;_=new Uint8Array(f),_[0]=f>>>24&255,_[1]=f>>>16&255,_[2]=f>>>8&255,_[3]=f&255,_.set(u,4);for(var m=8,g=0;g<b;g++)_.set(v[g],m),m+=v[g].byteLength;return _},c.generateInitSegment=function(u){var f=c.box(c.types.ftyp,c.constants.FTYP),_=c.moov(u),v=new Uint8Array(f.byteLength+_.byteLength);return v.set(f,0),v.set(_,f.byteLength),v},c.moov=function(u){var f=c.mvhd(u.timescale,u.duration),_=c.trak(u),v=c.mvex(u);return c.box(c.types.moov,f,_,v)},c.mvhd=function(u,f){return c.box(c.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,u>>>24&255,u>>>16&255,u>>>8&255,u&255,f>>>24&255,f>>>16&255,f>>>8&255,f&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},c.trak=function(u){return c.box(c.types.trak,c.tkhd(u),c.mdia(u))},c.tkhd=function(u){var f=u.id,_=u.duration,v=u.presentWidth,b=u.presentHeight;return c.box(c.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255,0,0,0,0,_>>>24&255,_>>>16&255,_>>>8&255,_&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,v>>>8&255,v&255,0,0,b>>>8&255,b&255,0,0]))},c.mdia=function(u){return c.box(c.types.mdia,c.mdhd(u),c.hdlr(u),c.minf(u))},c.mdhd=function(u){var f=u.timescale,_=u.duration;return c.box(c.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255,_>>>24&255,_>>>16&255,_>>>8&255,_&255,85,196,0,0]))},c.hdlr=function(u){var f=null;return u.type==="audio"?f=c.constants.HDLR_AUDIO:f=c.constants.HDLR_VIDEO,c.box(c.types.hdlr,f)},c.minf=function(u){var f=null;return u.type==="audio"?f=c.box(c.types.smhd,c.constants.SMHD):f=c.box(c.types.vmhd,c.constants.VMHD),c.box(c.types.minf,f,c.dinf(),c.stbl(u))},c.dinf=function(){var u=c.box(c.types.dinf,c.box(c.types.dref,c.constants.DREF));return u},c.stbl=function(u){var f=c.box(c.types.stbl,c.stsd(u),c.box(c.types.stts,c.constants.STTS),c.box(c.types.stsc,c.constants.STSC),c.box(c.types.stsz,c.constants.STSZ),c.box(c.types.stco,c.constants.STCO));return f},c.stsd=function(u){return u.type==="audio"?u.codec==="mp3"?c.box(c.types.stsd,c.constants.STSD_PREFIX,c.mp3(u)):c.box(c.types.stsd,c.constants.STSD_PREFIX,c.mp4a(u)):c.box(c.types.stsd,c.constants.STSD_PREFIX,c.avc1(u))},c.mp3=function(u){var f=u.channelCount,_=u.audioSampleRate,v=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,f,0,16,0,0,0,0,_>>>8&255,_&255,0,0]);return c.box(c.types[".mp3"],v)},c.mp4a=function(u){var f=u.channelCount,_=u.audioSampleRate,v=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,f,0,16,0,0,0,0,_>>>8&255,_&255,0,0]);return c.box(c.types.mp4a,v,c.esds(u))},c.esds=function(u){var f=u.config||[],_=f.length,v=new Uint8Array([0,0,0,0,3,23+_,0,1,0,4,15+_,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([_]).concat(f).concat([6,1,2]));return c.box(c.types.esds,v)},c.avc1=function(u){var f=u.avcc,_=u.codecWidth,v=u.codecHeight,b=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,_>>>8&255,_&255,v>>>8&255,v&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return c.box(c.types.avc1,b,c.box(c.types.avcC,f))},c.mvex=function(u){return c.box(c.types.mvex,c.trex(u))},c.trex=function(u){var f=u.id,_=new Uint8Array([0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return c.box(c.types.trex,_)},c.moof=function(u,f){return c.box(c.types.moof,c.mfhd(u.sequenceNumber),c.traf(u,f))},c.mfhd=function(u){var f=new Uint8Array([0,0,0,0,u>>>24&255,u>>>16&255,u>>>8&255,u&255]);return c.box(c.types.mfhd,f)},c.traf=function(u,f){var _=u.id,v=c.box(c.types.tfhd,new Uint8Array([0,0,0,0,_>>>24&255,_>>>16&255,_>>>8&255,_&255])),b=c.box(c.types.tfdt,new Uint8Array([0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255])),g=c.sdtp(u),m=c.trun(u,g.byteLength+16+16+8+16+8+8);return c.box(c.types.traf,v,b,m,g)},c.sdtp=function(u){for(var f=u.samples||[],_=f.length,v=new Uint8Array(4+_),b=0;b<_;b++){var g=f[b].flags;v[b+4]=g.isLeading<<6|g.dependsOn<<4|g.isDependedOn<<2|g.hasRedundancy}return c.box(c.types.sdtp,v)},c.trun=function(u,f){var _=u.samples||[],v=_.length,b=12+16*v,g=new Uint8Array(b);f+=8+b,g.set([0,0,15,1,v>>>24&255,v>>>16&255,v>>>8&255,v&255,f>>>24&255,f>>>16&255,f>>>8&255,f&255],0);for(var m=0;m<v;m++){var h=_[m].duration,x=_[m].size,y=_[m].flags,p=_[m].cts;g.set([h>>>24&255,h>>>16&255,h>>>8&255,h&255,x>>>24&255,x>>>16&255,x>>>8&255,x&255,y.isLeading<<2|y.dependsOn,y.isDependedOn<<6|y.hasRedundancy<<4|y.isNonSync,0,0,p>>>24&255,p>>>16&255,p>>>8&255,p&255],12+16*m)}return c.box(c.types.trun,g)},c.mdat=function(u){return c.box(c.types.mdat,u)},c}();s.init(),d.default=s},"./src/remux/mp4-remuxer.js":function(a,d,l){l.r(d);var s=l("./src/utils/logger.js"),c=l("./src/remux/mp4-generator.js"),u=l("./src/remux/aac-silent.js"),f=l("./src/utils/browser.js"),_=l("./src/core/media-segment-info.js"),v=l("./src/utils/exception.js"),b=function(){function g(m){this.TAG="MP4Remuxer",this._config=m,this._isLive=m.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new _.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new _.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!!(f.default.chrome&&(f.default.version.major<50||f.default.version.major===50&&f.default.version.build<2661)),this._fillSilentAfterSeek=f.default.msedge||f.default.msie,this._mp3UseMpegAudio=!f.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return g.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},g.prototype.bindDataSource=function(m){return m.onDataAvailable=this.remux.bind(this),m.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(g.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(m){this._onInitSegment=m},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(m){this._onMediaSegment=m},enumerable:!1,configurable:!0}),g.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},g.prototype.seek=function(m){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},g.prototype.remux=function(m,h){if(!this._onMediaSegment)throw new v.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(m,h),this._remuxVideo(h),this._remuxAudio(m)},g.prototype._onTrackMetadataReceived=function(m,h){var x=null,y="mp4",p=h.codec;if(m==="audio")this._audioMeta=h,h.codec==="mp3"&&this._mp3UseMpegAudio?(y="mpeg",p="",x=new Uint8Array):x=c.default.generateInitSegment(h);else if(m==="video")this._videoMeta=h,x=c.default.generateInitSegment(h);else return;if(!this._onInitSegment)throw new v.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(m,{type:m,data:x.buffer,codec:p,container:m+"/"+y,mediaDuration:h.duration})},g.prototype._calculateDtsBase=function(m,h){this._dtsBaseInited||(m.samples&&m.samples.length&&(this._audioDtsBase=m.samples[0].dts),h.samples&&h.samples.length&&(this._videoDtsBase=h.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},g.prototype.flushStashedSamples=function(){var m=this._videoStashedLastSample,h=this._audioStashedLastSample,x={type:"video",id:1,sequenceNumber:0,samples:[],length:0};m!=null&&(x.samples.push(m),x.length=m.length);var y={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};h!=null&&(y.samples.push(h),y.length=h.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(x,!0),this._remuxAudio(y,!0)},g.prototype._remuxAudio=function(m,h){if(this._audioMeta!=null){var x=m,y=x.samples,p=void 0,C=-1,S=-1,w=this._audioMeta.refSampleDuration,A=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,E=this._dtsBaseInited&&this._audioNextDts===void 0,R=!1;if(!(!y||y.length===0)&&!(y.length===1&&!h)){var T=0,L=null,P=0;A?(T=0,P=x.length):(T=8,P=8+x.length);var k=null;if(y.length>1&&(k=y.pop(),P-=k.length),this._audioStashedLastSample!=null){var D=this._audioStashedLastSample;this._audioStashedLastSample=null,y.unshift(D),P+=D.length}k!=null&&(this._audioStashedLastSample=k);var O=y[0].dts-this._dtsBase;if(this._audioNextDts)p=O-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())p=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(R=!0);else{var M=this._audioSegmentInfoList.getLastSampleBefore(O);if(M!=null){var F=O-(M.originalDts+M.duration);F<=3&&(F=0);var N=M.dts+M.duration+F;p=O-N}else p=0}if(R){var U=O-p,G=this._videoSegmentInfoList.getLastSegmentBefore(O);if(G!=null&&G.beginDts<U){var H=u.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(H){var Z=G.beginDts,de=U-G.beginDts;s.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+Z+", duration: "+de),y.unshift({unit:H,dts:Z,pts:Z}),P+=H.byteLength}}else R=!1}for(var ee=[],W=0;W<y.length;W++){var D=y[W],ae=D.unit,q=D.dts-this._dtsBase,Z=q,pe=!1,we=null,B=0;if(!(q<-.001)){if(this._audioMeta.codec!=="mp3"){var $=q,z=3;if(this._audioNextDts&&($=this._audioNextDts),p=q-$,p<=-z*w){s.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+q+" ms ,curRefDts: "+$+" ms)  due to dtsCorrection: "+p+" ms overlap.");continue}else if(p>=z*w&&this._fillAudioTimestampGap&&!f.default.safari){pe=!0;var Y=Math.floor(p/w);s.default.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
`+("originalDts: "+q+" ms, curRefDts: "+$+" ms, ")+("dtsCorrection: "+Math.round(p)+" ms, generate: "+Y+" frames")),Z=Math.floor($),B=Math.floor($+w)-Z;var H=u.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);H==null&&(s.default.w(this.TAG,"Unable to generate silent frame for "+(this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame")),H=ae),we=[];for(var j=0;j<Y;j++){$=$+w;var K=Math.floor($),te=Math.floor($+w)-K,re={dts:K,pts:K,cts:0,unit:H,size:H.byteLength,duration:te,originalDts:q,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};we.push(re),P+=re.size}this._audioNextDts=$+w}else Z=Math.floor($),B=Math.floor($+w)-Z,this._audioNextDts=$+w}else{if(Z=q-p,W!==y.length-1){var ue=y[W+1].dts-this._dtsBase-p;B=ue-Z}else if(k!=null){var ue=k.dts-this._dtsBase-p;B=ue-Z}else ee.length>=1?B=ee[ee.length-1].duration:B=Math.floor(w);this._audioNextDts=Z+B}C===-1&&(C=Z),ee.push({dts:Z,pts:Z,cts:0,unit:D.unit,size:D.unit.byteLength,duration:B,originalDts:q,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),pe&&ee.push.apply(ee,we)}}if(ee.length===0){x.samples=[],x.length=0;return}A?L=new Uint8Array(P):(L=new Uint8Array(P),L[0]=P>>>24&255,L[1]=P>>>16&255,L[2]=P>>>8&255,L[3]=P&255,L.set(c.default.types.mdat,4));for(var W=0;W<ee.length;W++){var ae=ee[W].unit;L.set(ae,T),T+=ae.byteLength}var ie=ee[ee.length-1];S=ie.dts+ie.duration;var _e=new _.MediaSegmentInfo;_e.beginDts=C,_e.endDts=S,_e.beginPts=C,_e.endPts=S,_e.originalBeginDts=ee[0].originalDts,_e.originalEndDts=ie.originalDts+ie.duration,_e.firstSample=new _.SampleInfo(ee[0].dts,ee[0].pts,ee[0].duration,ee[0].originalDts,!1),_e.lastSample=new _.SampleInfo(ie.dts,ie.pts,ie.duration,ie.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(_e),x.samples=ee,x.sequenceNumber++;var Se=null;A?Se=new Uint8Array:Se=c.default.moof(x,C),x.samples=[],x.length=0;var Ee={type:"audio",data:this._mergeBoxes(Se,L).buffer,sampleCount:ee.length,info:_e};A&&E&&(Ee.timestampOffset=C),this._onMediaSegment("audio",Ee)}}},g.prototype._remuxVideo=function(m,h){if(this._videoMeta!=null){var x=m,y=x.samples,p=void 0,C=-1,S=-1,w=-1,A=-1;if(!(!y||y.length===0)&&!(y.length===1&&!h)){var E=8,R=null,T=8+m.length,L=null;if(y.length>1&&(L=y.pop(),T-=L.length),this._videoStashedLastSample!=null){var P=this._videoStashedLastSample;this._videoStashedLastSample=null,y.unshift(P),T+=P.length}L!=null&&(this._videoStashedLastSample=L);var k=y[0].dts-this._dtsBase;if(this._videoNextDts)p=k-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())p=0;else{var D=this._videoSegmentInfoList.getLastSampleBefore(k);if(D!=null){var O=k-(D.originalDts+D.duration);O<=3&&(O=0);var M=D.dts+D.duration+O;p=k-M}else p=0}for(var F=new _.MediaSegmentInfo,N=[],U=0;U<y.length;U++){var P=y[U],G=P.dts-this._dtsBase,H=P.isKeyframe,Z=G-p,de=P.cts,ee=Z+de;C===-1&&(C=Z,w=ee);var W=0;if(U!==y.length-1){var ae=y[U+1].dts-this._dtsBase-p;W=ae-Z}else if(L!=null){var ae=L.dts-this._dtsBase-p;W=ae-Z}else N.length>=1?W=N[N.length-1].duration:W=Math.floor(this._videoMeta.refSampleDuration);if(H){var q=new _.SampleInfo(Z,ee,W,P.dts,!0);q.fileposition=P.fileposition,F.appendSyncPoint(q)}N.push({dts:Z,pts:ee,cts:de,units:P.units,size:P.length,isKeyframe:H,duration:W,originalDts:G,flags:{isLeading:0,dependsOn:H?2:1,isDependedOn:H?1:0,hasRedundancy:0,isNonSync:H?0:1}})}R=new Uint8Array(T),R[0]=T>>>24&255,R[1]=T>>>16&255,R[2]=T>>>8&255,R[3]=T&255,R.set(c.default.types.mdat,4);for(var U=0;U<N.length;U++)for(var pe=N[U].units;pe.length;){var we=pe.shift(),B=we.data;R.set(B,E),E+=B.byteLength}var $=N[N.length-1];if(S=$.dts+$.duration,A=$.pts+$.duration,this._videoNextDts=S,F.beginDts=C,F.endDts=S,F.beginPts=w,F.endPts=A,F.originalBeginDts=N[0].originalDts,F.originalEndDts=$.originalDts+$.duration,F.firstSample=new _.SampleInfo(N[0].dts,N[0].pts,N[0].duration,N[0].originalDts,N[0].isKeyframe),F.lastSample=new _.SampleInfo($.dts,$.pts,$.duration,$.originalDts,$.isKeyframe),this._isLive||this._videoSegmentInfoList.append(F),x.samples=N,x.sequenceNumber++,this._forceFirstIDR){var z=N[0].flags;z.dependsOn=2,z.isNonSync=0}var Y=c.default.moof(x,C);x.samples=[],x.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(Y,R).buffer,sampleCount:N.length,info:F})}}},g.prototype._mergeBoxes=function(m,h){var x=new Uint8Array(m.byteLength+h.byteLength);return x.set(m,0),x.set(h,m.byteLength),x},g}();d.default=b},"./src/utils/browser.js":function(a,d,l){l.r(d);var s={};function c(){var u=self.navigator.userAgent.toLowerCase(),f=/(edge)\/([\w.]+)/.exec(u)||/(opr)[\/]([\w.]+)/.exec(u)||/(chrome)[ \/]([\w.]+)/.exec(u)||/(iemobile)[\/]([\w.]+)/.exec(u)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(u)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(u)||/(webkit)[ \/]([\w.]+)/.exec(u)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(u)||/(msie) ([\w.]+)/.exec(u)||u.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(u)||u.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(u)||[],_=/(ipad)/.exec(u)||/(ipod)/.exec(u)||/(windows phone)/.exec(u)||/(iphone)/.exec(u)||/(kindle)/.exec(u)||/(android)/.exec(u)||/(windows)/.exec(u)||/(mac)/.exec(u)||/(linux)/.exec(u)||/(cros)/.exec(u)||[],v={browser:f[5]||f[3]||f[1]||"",version:f[2]||f[4]||"0",majorVersion:f[4]||f[2]||"0",platform:_[0]||""},b={};if(v.browser){b[v.browser]=!0;var g=v.majorVersion.split(".");b.version={major:parseInt(v.majorVersion,10),string:v.version},g.length>1&&(b.version.minor=parseInt(g[1],10)),g.length>2&&(b.version.build=parseInt(g[2],10))}if(v.platform&&(b[v.platform]=!0),(b.chrome||b.opr||b.safari)&&(b.webkit=!0),b.rv||b.iemobile){b.rv&&delete b.rv;var m="msie";v.browser=m,b[m]=!0}if(b.edge){delete b.edge;var h="msedge";v.browser=h,b[h]=!0}if(b.opr){var x="opera";v.browser=x,b[x]=!0}if(b.safari&&b.android){var y="android";v.browser=y,b[y]=!0}b.name=v.browser,b.platform=v.platform;for(var p in s)s.hasOwnProperty(p)&&delete s[p];Object.assign(s,b)}c(),d.default=s},"./src/utils/exception.js":function(a,d,l){l.r(d),l.d(d,{RuntimeException:function(){return c},IllegalStateException:function(){return u},InvalidArgumentException:function(){return f},NotImplementedException:function(){return _}});var s=function(){var v=function(b,g){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var x in h)Object.prototype.hasOwnProperty.call(h,x)&&(m[x]=h[x])},v(b,g)};return function(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");v(b,g);function m(){this.constructor=b}b.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),c=function(){function v(b){this._message=b}return Object.defineProperty(v.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),v.prototype.toString=function(){return this.name+": "+this.message},v}(),u=function(v){s(b,v);function b(g){return v.call(this,g)||this}return Object.defineProperty(b.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),b}(c),f=function(v){s(b,v);function b(g){return v.call(this,g)||this}return Object.defineProperty(b.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),b}(c),_=function(v){s(b,v);function b(g){return v.call(this,g)||this}return Object.defineProperty(b.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),b}(c)},"./src/utils/logger.js":function(a,d,l){l.r(d);var s=l("./node_modules/events/events.js"),c=l.n(s),u=function(){function f(){}return f.e=function(_,v){(!_||f.FORCE_GLOBAL_TAG)&&(_=f.GLOBAL_TAG);var b="["+_+"] > "+v;f.ENABLE_CALLBACK&&f.emitter.emit("log","error",b),f.ENABLE_ERROR&&(console.error?console.error(b):console.warn?console.warn(b):console.log(b))},f.i=function(_,v){(!_||f.FORCE_GLOBAL_TAG)&&(_=f.GLOBAL_TAG);var b="["+_+"] > "+v;f.ENABLE_CALLBACK&&f.emitter.emit("log","info",b),f.ENABLE_INFO&&(console.info?console.info(b):console.log(b))},f.w=function(_,v){(!_||f.FORCE_GLOBAL_TAG)&&(_=f.GLOBAL_TAG);var b="["+_+"] > "+v;f.ENABLE_CALLBACK&&f.emitter.emit("log","warn",b),f.ENABLE_WARN&&(console.warn?console.warn(b):console.log(b))},f.d=function(_,v){(!_||f.FORCE_GLOBAL_TAG)&&(_=f.GLOBAL_TAG);var b="["+_+"] > "+v;f.ENABLE_CALLBACK&&f.emitter.emit("log","debug",b),f.ENABLE_DEBUG&&(console.debug?console.debug(b):console.log(b))},f.v=function(_,v){(!_||f.FORCE_GLOBAL_TAG)&&(_=f.GLOBAL_TAG);var b="["+_+"] > "+v;f.ENABLE_CALLBACK&&f.emitter.emit("log","verbose",b),f.ENABLE_VERBOSE&&console.log(b)},f}();u.GLOBAL_TAG="flv.js",u.FORCE_GLOBAL_TAG=!1,u.ENABLE_ERROR=!0,u.ENABLE_INFO=!0,u.ENABLE_WARN=!0,u.ENABLE_DEBUG=!0,u.ENABLE_VERBOSE=!0,u.ENABLE_CALLBACK=!1,u.emitter=new(c()),d.default=u},"./src/utils/logging-control.js":function(a,d,l){l.r(d);var s=l("./node_modules/events/events.js"),c=l.n(s),u=l("./src/utils/logger.js"),f=function(){function _(){}return Object.defineProperty(_,"forceGlobalTag",{get:function(){return u.default.FORCE_GLOBAL_TAG},set:function(v){u.default.FORCE_GLOBAL_TAG=v,_._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(_,"globalTag",{get:function(){return u.default.GLOBAL_TAG},set:function(v){u.default.GLOBAL_TAG=v,_._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(_,"enableAll",{get:function(){return u.default.ENABLE_VERBOSE&&u.default.ENABLE_DEBUG&&u.default.ENABLE_INFO&&u.default.ENABLE_WARN&&u.default.ENABLE_ERROR},set:function(v){u.default.ENABLE_VERBOSE=v,u.default.ENABLE_DEBUG=v,u.default.ENABLE_INFO=v,u.default.ENABLE_WARN=v,u.default.ENABLE_ERROR=v,_._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(_,"enableDebug",{get:function(){return u.default.ENABLE_DEBUG},set:function(v){u.default.ENABLE_DEBUG=v,_._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(_,"enableVerbose",{get:function(){return u.default.ENABLE_VERBOSE},set:function(v){u.default.ENABLE_VERBOSE=v,_._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(_,"enableInfo",{get:function(){return u.default.ENABLE_INFO},set:function(v){u.default.ENABLE_INFO=v,_._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(_,"enableWarn",{get:function(){return u.default.ENABLE_WARN},set:function(v){u.default.ENABLE_WARN=v,_._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(_,"enableError",{get:function(){return u.default.ENABLE_ERROR},set:function(v){u.default.ENABLE_ERROR=v,_._notifyChange()},enumerable:!1,configurable:!0}),_.getConfig=function(){return{globalTag:u.default.GLOBAL_TAG,forceGlobalTag:u.default.FORCE_GLOBAL_TAG,enableVerbose:u.default.ENABLE_VERBOSE,enableDebug:u.default.ENABLE_DEBUG,enableInfo:u.default.ENABLE_INFO,enableWarn:u.default.ENABLE_WARN,enableError:u.default.ENABLE_ERROR,enableCallback:u.default.ENABLE_CALLBACK}},_.applyConfig=function(v){u.default.GLOBAL_TAG=v.globalTag,u.default.FORCE_GLOBAL_TAG=v.forceGlobalTag,u.default.ENABLE_VERBOSE=v.enableVerbose,u.default.ENABLE_DEBUG=v.enableDebug,u.default.ENABLE_INFO=v.enableInfo,u.default.ENABLE_WARN=v.enableWarn,u.default.ENABLE_ERROR=v.enableError,u.default.ENABLE_CALLBACK=v.enableCallback},_._notifyChange=function(){var v=_.emitter;if(v.listenerCount("change")>0){var b=_.getConfig();v.emit("change",b)}},_.registerListener=function(v){_.emitter.addListener("change",v)},_.removeListener=function(v){_.emitter.removeListener("change",v)},_.addLogListener=function(v){u.default.emitter.addListener("log",v),u.default.emitter.listenerCount("log")>0&&(u.default.ENABLE_CALLBACK=!0,_._notifyChange())},_.removeLogListener=function(v){u.default.emitter.removeListener("log",v),u.default.emitter.listenerCount("log")===0&&(u.default.ENABLE_CALLBACK=!1,_._notifyChange())},_}();f.emitter=new(c()),d.default=f},"./src/utils/polyfill.js":function(a,d,l){l.r(d);var s=function(){function c(){}return c.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(u,f){return u.__proto__=f,u},Object.assign=Object.assign||function(u){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(u),_=1;_<arguments.length;_++){var v=arguments[_];if(v!=null)for(var b in v)v.hasOwnProperty(b)&&(f[b]=v[b])}return f},typeof self.Promise!="function"&&l("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},c}();s.install(),d.default=s},"./src/utils/utf8-conv.js":function(a,d,l){l.r(d);function s(u,f,_){var v=u;if(f+_<v.length){for(;_--;)if((v[++f]&192)!==128)return!1;return!0}else return!1}function c(u){for(var f=[],_=u,v=0,b=u.length;v<b;){if(_[v]<128){f.push(String.fromCharCode(_[v])),++v;continue}else if(!(_[v]<192)){if(_[v]<224){if(s(_,v,1)){var g=(_[v]&31)<<6|_[v+1]&63;if(g>=128){f.push(String.fromCharCode(g&65535)),v+=2;continue}}}else if(_[v]<240){if(s(_,v,2)){var g=(_[v]&15)<<12|(_[v+1]&63)<<6|_[v+2]&63;if(g>=2048&&(g&63488)!==55296){f.push(String.fromCharCode(g&65535)),v+=3;continue}}}else if(_[v]<248&&s(_,v,3)){var g=(_[v]&7)<<18|(_[v+1]&63)<<12|(_[v+2]&63)<<6|_[v+3]&63;if(g>65536&&g<1114112){g-=65536,f.push(String.fromCharCode(g>>>10|55296)),f.push(String.fromCharCode(g&1023|56320)),v+=4;continue}}}f.push(String.fromCharCode(65533)),++v}return f.join("")}d.default=c}},n={};function o(a){var d=n[a];if(d!==void 0)return d.exports;var l=n[a]={exports:{}};return r[a].call(l.exports,l,l.exports,o),l.exports}o.m=r,function(){o.n=function(a){var d=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(d,{a:d}),d}}(),function(){o.d=function(a,d){for(var l in d)o.o(d,l)&&!o.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:d[l]})}}(),function(){o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){o.o=function(a,d){return Object.prototype.hasOwnProperty.call(a,d)}}(),function(){o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}();var i=o("./src/index.js");return i}()})})(E0);var y6=E0.exports;const Dl=HD(y6);var x6=Object.defineProperty,_6=Object.defineProperties,C6=Object.getOwnPropertyDescriptors,Mh=Object.getOwnPropertySymbols,S6=Object.prototype.hasOwnProperty,E6=Object.prototype.propertyIsEnumerable,Fh=(e,t,r)=>t in e?x6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wu=(e,t)=>{for(var r in t||(t={}))S6.call(t,r)&&Fh(e,r,t[r]);if(Mh)for(var r of Mh(t))E6.call(t,r)&&Fh(e,r,t[r]);return e},Tu=(e,t)=>_6(e,C6(t));function Bh(e,t,r,n){var o,i=!1,a=0;function d(){o&&clearTimeout(o)}function l(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];var f=this,_=Date.now()-a;function v(){a=Date.now(),r.apply(f,c)}function b(){o=void 0}i||(n&&!o&&v(),d(),n===void 0&&_>e?v():t!==!0&&(o=setTimeout(n?b:v,n===void 0?e-_:e)))}return typeof t!="boolean"&&(n=r,r=t,t=void 0),l.cancel=function(){d(),i=!0},l}function Nh(e,t,r){return r===void 0?Bh(e,t,!1):Bh(e,r,t!==!1)}function w6(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var w0={exports:{}};typeof window<"u"&&(w0.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(n,o,i){r.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:i})},r.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,o){if(1&o&&(n=r(n)),8&o||4&o&&typeof n=="object"&&n&&n.__esModule)return n;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&o&&typeof n!="string")for(var a in n)r.d(i,a,(function(d){return n[d]}).bind(null,a));return i},r.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(o,"a",o),o},r.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},r.p="/dist/",r(r.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(e,t,r){var n=Object.prototype.hasOwnProperty,o="~";function i(){}function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function d(c,u,f,_,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var b=new a(f,_||c,v),g=o?o+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],b]:c._events[g].push(b):(c._events[g]=b,c._eventsCount++),c}function l(c,u){--c._eventsCount==0?c._events=new i:delete c._events[u]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(o=!1)),s.prototype.eventNames=function(){var c,u,f=[];if(this._eventsCount===0)return f;for(u in c=this._events)n.call(c,u)&&f.push(o?u.slice(1):u);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(c)):f},s.prototype.listeners=function(c){var u=o?o+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var _=0,v=f.length,b=new Array(v);_<v;_++)b[_]=f[_].fn;return b},s.prototype.listenerCount=function(c){var u=o?o+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,_,v,b){var g=o?o+c:c;if(!this._events[g])return!1;var m,h,x=this._events[g],y=arguments.length;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,f),!0;case 4:return x.fn.call(x.context,u,f,_),!0;case 5:return x.fn.call(x.context,u,f,_,v),!0;case 6:return x.fn.call(x.context,u,f,_,v,b),!0}for(h=1,m=new Array(y-1);h<y;h++)m[h-1]=arguments[h];x.fn.apply(x.context,m)}else{var p,C=x.length;for(h=0;h<C;h++)switch(x[h].once&&this.removeListener(c,x[h].fn,void 0,!0),y){case 1:x[h].fn.call(x[h].context);break;case 2:x[h].fn.call(x[h].context,u);break;case 3:x[h].fn.call(x[h].context,u,f);break;case 4:x[h].fn.call(x[h].context,u,f,_);break;default:if(!m)for(p=1,m=new Array(y-1);p<y;p++)m[p-1]=arguments[p];x[h].fn.apply(x[h].context,m)}}return!0},s.prototype.on=function(c,u,f){return d(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return d(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,_){var v=o?o+c:c;if(!this._events[v])return this;if(!u)return l(this,v),this;var b=this._events[v];if(b.fn)b.fn!==u||_&&!b.once||f&&b.context!==f||l(this,v);else{for(var g=0,m=[],h=b.length;g<h;g++)(b[g].fn!==u||_&&!b[g].once||f&&b[g].context!==f)&&m.push(b[g]);m.length?this._events[v]=m.length===1?m[0]:m:l(this,v)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=o?o+c:c,this._events[u]&&l(this,u)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=o,s.EventEmitter=s,e.exports=s},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,r){var n,o,i,a,d;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,o=/^([^\/?#]*)([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,d={buildAbsoluteURL:function(l,s,c){if(c=c||{},l=l.trim(),!(s=s.trim())){if(!c.alwaysNormalize)return l;var u=d.parseURL(l);if(!u)throw new Error("Error trying to parse base URL.");return u.path=d.normalizePath(u.path),d.buildURLFromParts(u)}var f=d.parseURL(s);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return c.alwaysNormalize?(f.path=d.normalizePath(f.path),d.buildURLFromParts(f)):s;var _=d.parseURL(l);if(!_)throw new Error("Error trying to parse base URL.");if(!_.netLoc&&_.path&&_.path[0]!=="/"){var v=o.exec(_.path);_.netLoc=v[1],_.path=v[2]}_.netLoc&&!_.path&&(_.path="/");var b={scheme:_.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(b.netLoc=_.netLoc,f.path[0]!=="/"))if(f.path){var g=_.path,m=g.substring(0,g.lastIndexOf("/")+1)+f.path;b.path=d.normalizePath(m)}else b.path=_.path,f.params||(b.params=_.params,f.query||(b.query=_.query));return b.path===null&&(b.path=c.alwaysNormalize?d.normalizePath(f.path):f.path),d.buildURLFromParts(b)},parseURL:function(l){var s=n.exec(l);return s?{scheme:s[1]||"",netLoc:s[2]||"",path:s[3]||"",params:s[4]||"",query:s[5]||"",fragment:s[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(i,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}},e.exports=d},"./node_modules/webworkify-webpack/index.js":function(e,t,r){function n(s){var c={};function u(_){if(c[_])return c[_].exports;var v=c[_]={i:_,l:!1,exports:{}};return s[_].call(v.exports,v,v.exports,u),v.l=!0,v.exports}u.m=s,u.c=c,u.i=function(_){return _},u.d=function(_,v,b){u.o(_,v)||Object.defineProperty(_,v,{configurable:!1,enumerable:!0,get:b})},u.r=function(_){Object.defineProperty(_,"__esModule",{value:!0})},u.n=function(_){var v=_&&_.__esModule?function(){return _.default}:function(){return _};return u.d(v,"a",v),v},u.o=function(_,v){return Object.prototype.hasOwnProperty.call(_,v)},u.p="/",u.oe=function(_){throw console.error(_),_};var f=u(u.s=ENTRY_MODULE);return f.default||f}var o="[\\.|\\-|\\+|\\w|/|@]+",i="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function a(s){return(s+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function d(s,c,u){var f={};f[u]=[];var _=c.toString(),v=_.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!v)return f;for(var b,g=v[1],m=new RegExp("(\\\\n|\\W)"+a(g)+i,"g");b=m.exec(_);)b[3]!=="dll-reference"&&f[u].push(b[3]);for(m=new RegExp("\\("+a(g)+'\\("(dll-reference\\s('+o+'))"\\)\\)'+i,"g");b=m.exec(_);)s[b[2]]||(f[u].push(b[1]),s[b[2]]=r(b[1]).m),f[b[2]]=f[b[2]]||[],f[b[2]].push(b[4]);for(var h,x=Object.keys(f),y=0;y<x.length;y++)for(var p=0;p<f[x[y]].length;p++)h=f[x[y]][p],isNaN(1*h)||(f[x[y]][p]=1*f[x[y]][p]);return f}function l(s){return Object.keys(s).reduce(function(c,u){return c||s[u].length>0},!1)}e.exports=function(s,c){c=c||{};var u={main:r.m},f=c.all?{main:Object.keys(u.main)}:function(m,h){for(var x={main:[h]},y={main:[]},p={main:{}};l(x);)for(var C=Object.keys(x),S=0;S<C.length;S++){var w=C[S],A=x[w].pop();if(p[w]=p[w]||{},!p[w][A]&&m[w][A]){p[w][A]=!0,y[w]=y[w]||[],y[w].push(A);for(var E=d(m,m[w][A],w),R=Object.keys(E),T=0;T<R.length;T++)x[R[T]]=x[R[T]]||[],x[R[T]]=x[R[T]].concat(E[R[T]])}}return y}(u,s),_="";Object.keys(f).filter(function(m){return m!=="main"}).forEach(function(m){for(var h=0;f[m][h];)h++;f[m].push(h),u[m][h]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",_=_+"var "+m+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(h))+")({"+f[m].map(function(x){return JSON.stringify(x)+": "+u[m][x].toString()}).join(",")+`});
`}),_=_+"new (("+n.toString().replace("ENTRY_MODULE",JSON.stringify(s))+")({"+f.main.map(function(m){return JSON.stringify(m)+": "+u.main[m].toString()}).join(",")+"}))(self);";var v=new window.Blob([_],{type:"text/javascript"});if(c.bare)return v;var b=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(v),g=new window.Worker(b);return g.objectURL=b,g}},"./src/config.ts":function(e,t,r){r.r(t),r.d(t,"hlsDefaultConfig",function(){return C}),r.d(t,"mergeConfig",function(){return S}),r.d(t,"enableStreamingMode",function(){return w});var n=r("./src/controller/abr-controller.ts"),o=r("./src/controller/audio-stream-controller.ts"),i=r("./src/controller/audio-track-controller.ts"),a=r("./src/controller/subtitle-stream-controller.ts"),d=r("./src/controller/subtitle-track-controller.ts"),l=r("./src/controller/buffer-controller.ts"),s=r("./src/controller/timeline-controller.ts"),c=r("./src/controller/cap-level-controller.ts"),u=r("./src/controller/fps-controller.ts"),f=r("./src/controller/eme-controller.ts"),_=r("./src/utils/xhr-loader.ts"),v=r("./src/utils/fetch-loader.ts"),b=r("./src/utils/cues.ts"),g=r("./src/utils/mediakeys-helper.ts"),m=r("./src/utils/logger.ts");function h(){return(h=Object.assign||function(A){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var T in R)Object.prototype.hasOwnProperty.call(R,T)&&(A[T]=R[T])}return A}).apply(this,arguments)}function x(A,E){var R=Object.keys(A);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(A);E&&(T=T.filter(function(L){return Object.getOwnPropertyDescriptor(A,L).enumerable})),R.push.apply(R,T)}return R}function y(A){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?x(Object(R),!0).forEach(function(T){p(A,T,R[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(R)):x(Object(R)).forEach(function(T){Object.defineProperty(A,T,Object.getOwnPropertyDescriptor(R,T))})}return A}function p(A,E,R){return E in A?Object.defineProperty(A,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):A[E]=R,A}var C=y(y({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:_.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:n.default,bufferController:l.default,capLevelController:c.default,fpsController:u.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:g.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0},{cueHandler:b.default,enableCEA708Captions:!0,enableWebVTT:!0,enableIMSC1:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:a.SubtitleStreamController,subtitleTrackController:d.default,timelineController:s.TimelineController,audioStreamController:o.default,audioTrackController:i.default,emeController:f.default});function S(A,E){if((E.liveSyncDurationCount||E.liveMaxLatencyDurationCount)&&(E.liveSyncDuration||E.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(E.liveMaxLatencyDurationCount!==void 0&&(E.liveSyncDurationCount===void 0||E.liveMaxLatencyDurationCount<=E.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(E.liveMaxLatencyDuration!==void 0&&(E.liveSyncDuration===void 0||E.liveMaxLatencyDuration<=E.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return h({},A,E)}function w(A){var E=A.loader;E!==v.default&&E!==_.default?(m.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),A.progressive=!1):Object(v.fetchSupported)()&&(A.loader=v.default,A.progressive=!0,A.enableSoftwareAES=!0,m.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":function(e,t,r){r.r(t);var n=r("./src/polyfills/number.ts"),o=r("./src/utils/ewma-bandwidth-estimator.ts"),i=r("./src/events.ts"),a=r("./src/utils/buffer-helper.ts"),d=r("./src/errors.ts"),l=r("./src/types/loader.ts"),s=r("./src/utils/logger.ts");function c(f,_){for(var v=0;v<_.length;v++){var b=_[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}var u=function(){function f(g){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=g;var m=g.config;this.bwEstimator=new o.default(m.abrEwmaSlowVoD,m.abrEwmaFastVoD,m.abrEwmaDefaultEstimate),this.registerListeners()}var _,v,b=f.prototype;return b.registerListeners=function(){var g=this.hls;g.on(i.Events.FRAG_LOADING,this.onFragLoading,this),g.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),g.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),g.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),g.on(i.Events.ERROR,this.onError,this)},b.unregisterListeners=function(){var g=this.hls;g.off(i.Events.FRAG_LOADING,this.onFragLoading,this),g.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),g.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),g.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),g.off(i.Events.ERROR,this.onError,this)},b.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},b.onFragLoading=function(g,m){var h,x=m.frag;x.type===l.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=x,this.partCurrent=(h=m.part)!=null?h:null,this.timer=self.setInterval(this.onCheck,100)))},b.onLevelLoaded=function(g,m){var h=this.hls.config;m.details.live?this.bwEstimator.update(h.abrEwmaSlowLive,h.abrEwmaFastLive):this.bwEstimator.update(h.abrEwmaSlowVoD,h.abrEwmaFastVoD)},b._abandonRulesCheck=function(){var g=this.fragCurrent,m=this.partCurrent,h=this.hls,x=h.autoLevelEnabled,y=h.config,p=h.media;if(g&&p){var C=m?m.stats:g.stats,S=m?m.duration:g.duration;if(C.aborted)return s.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(x&&!p.paused&&p.playbackRate&&p.readyState){var w=performance.now()-C.loading.start,A=Math.abs(p.playbackRate);if(!(w<=500*S/A)){var E=h.levels,R=h.minAutoLevel,T=E[g.level],L=C.total||Math.max(C.loaded,Math.round(S*T.maxBitrate/8)),P=Math.max(1,C.bwEstimate?C.bwEstimate/8:1e3*C.loaded/w),k=(L-C.loaded)/P,D=p.currentTime,O=(a.BufferHelper.bufferInfo(p,D,y.maxBufferHole).end-D)/A;if(!(O>=2*S/A||k<=O)){var M,F=Number.POSITIVE_INFINITY;for(M=g.level-1;M>R&&!((F=S*E[M].maxBitrate/(6.4*P))<O);M--);if(!(F>=k)){var N=this.bwEstimator.getEstimate();s.logger.warn("Fragment "+g.sn+(m?" part "+m.index:"")+" of level "+g.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+M+`
      Current BW estimate: `+(Object(n.isFiniteNumber)(N)?(N/1024).toFixed(3):"Unknown")+` Kb/s
      Estimated load time for current fragment: `+k.toFixed(3)+` s
      Estimated load time for the next fragment: `+F.toFixed(3)+` s
      Time to underbuffer: `+O.toFixed(3)+" s"),h.nextLoadLevel=M,this.bwEstimator.sample(w,C.loaded),this.clearTimer(),g.loader&&(this.fragCurrent=this.partCurrent=null,g.loader.abort()),h.trigger(i.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:g,part:m,stats:C})}}}}}},b.onFragLoaded=function(g,m){var h=m.frag,x=m.part;if(h.type===l.PlaylistLevelType.MAIN&&Object(n.isFiniteNumber)(h.sn)){var y=x?x.stats:h.stats,p=x?x.duration:h.duration;if(this.clearTimer(),this.lastLoadedFragLevel=h.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var C=this.hls.levels[h.level],S=(C.loaded?C.loaded.bytes:0)+y.loaded,w=(C.loaded?C.loaded.duration:0)+p;C.loaded={bytes:S,duration:w},C.realBitrate=Math.round(8*S/w)}if(h.bitrateTest){var A={stats:y,frag:h,part:x,id:h.type};this.onFragBuffered(i.Events.FRAG_BUFFERED,A),h.bitrateTest=!1}}},b.onFragBuffered=function(g,m){var h=m.frag,x=m.part,y=x?x.stats:h.stats;if(!y.aborted&&h.type===l.PlaylistLevelType.MAIN&&h.sn!=="initSegment"){var p=y.parsing.end-y.loading.start;this.bwEstimator.sample(p,y.loaded),y.bwEstimate=this.bwEstimator.getEstimate(),h.bitrateTest?this.bitrateTestDelay=p/1e3:this.bitrateTestDelay=0}},b.onError=function(g,m){switch(m.details){case d.ErrorDetails.FRAG_LOAD_ERROR:case d.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},b.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},b.getNextABRAutoLevel=function(){var g=this.fragCurrent,m=this.partCurrent,h=this.hls,x=h.maxAutoLevel,y=h.config,p=h.minAutoLevel,C=h.media,S=m?m.duration:g?g.duration:0,w=C?C.currentTime:0,A=C&&C.playbackRate!==0?Math.abs(C.playbackRate):1,E=this.bwEstimator?this.bwEstimator.getEstimate():y.abrEwmaDefaultEstimate,R=(a.BufferHelper.bufferInfo(C,w,y.maxBufferHole).end-w)/A,T=this.findBestLevel(E,p,x,R,y.abrBandWidthFactor,y.abrBandWidthUpFactor);if(T>=0)return T;s.logger.trace((R?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var L=S?Math.min(S,y.maxStarvationDelay):y.maxStarvationDelay,P=y.abrBandWidthFactor,k=y.abrBandWidthUpFactor;if(!R){var D=this.bitrateTestDelay;D&&(L=(S?Math.min(S,y.maxLoadingDelay):y.maxLoadingDelay)-D,s.logger.trace("bitrate test took "+Math.round(1e3*D)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*L)+" ms"),P=k=1)}return T=this.findBestLevel(E,p,x,R+L,P,k),Math.max(T,0)},b.findBestLevel=function(g,m,h,x,y,p){for(var C,S=this.fragCurrent,w=this.partCurrent,A=this.lastLoadedFragLevel,E=this.hls.levels,R=E[A],T=!(R==null||(C=R.details)===null||C===void 0||!C.live),L=R==null?void 0:R.codecSet,P=w?w.duration:S?S.duration:0,k=h;k>=m;k--){var D=E[k];if(D&&(!L||D.codecSet===L)){var O=D.details,M=(w?O==null?void 0:O.partTarget:O==null?void 0:O.averagetargetduration)||P,F=void 0;F=k<=A?y*g:p*g;var N=E[k].maxBitrate,U=N*M/F;if(s.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+k+"/"+Math.round(F)+"/"+N+"/"+M+"/"+x+"/"+U),F>N&&(!U||T&&!this.bitrateTestDelay||U<x))return k}}return-1},_=f,(v=[{key:"nextAutoLevel",get:function(){var g=this._nextAutoLevel,m=this.bwEstimator;if(!(g===-1||m&&m.canEstimate()))return g;var h=this.getNextABRAutoLevel();return g!==-1&&(h=Math.min(g,h)),h},set:function(g){this._nextAutoLevel=g}}])&&c(_.prototype,v),f}();t.default=u},"./src/controller/audio-stream-controller.ts":function(e,t,r){r.r(t);var n=r("./src/polyfills/number.ts"),o=r("./src/controller/base-stream-controller.ts"),i=r("./src/events.ts"),a=r("./src/utils/buffer-helper.ts"),d=r("./src/controller/fragment-tracker.ts"),l=r("./src/types/level.ts"),s=r("./src/types/loader.ts"),c=r("./src/loader/fragment.ts"),u=r("./src/demux/chunk-cache.ts"),f=r("./src/demux/transmuxer-interface.ts"),_=r("./src/types/transmuxer.ts"),v=r("./src/controller/fragment-finders.ts"),b=r("./src/utils/discontinuities.ts"),g=r("./src/errors.ts"),m=r("./src/utils/logger.ts");function h(){return(h=Object.assign||function(p){for(var C=1;C<arguments.length;C++){var S=arguments[C];for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(p[w]=S[w])}return p}).apply(this,arguments)}function x(p,C){return(x=Object.setPrototypeOf||function(S,w){return S.__proto__=w,S})(p,C)}var y=function(p){var C,S;function w(E,R){var T;return(T=p.call(this,E,R,"[audio-stream-controller]")||this).videoBuffer=null,T.videoTrackCC=-1,T.waitingVideoCC=-1,T.audioSwitch=!1,T.trackId=-1,T.waitingData=null,T.mainDetails=null,T.bufferFlushed=!1,T._registerListeners(),T}S=p,(C=w).prototype=Object.create(S.prototype),C.prototype.constructor=C,x(C,S);var A=w.prototype;return A.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},A._registerListeners=function(){var E=this.hls;E.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),E.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),E.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),E.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),E.on(i.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),E.on(i.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),E.on(i.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),E.on(i.Events.ERROR,this.onError,this),E.on(i.Events.BUFFER_RESET,this.onBufferReset,this),E.on(i.Events.BUFFER_CREATED,this.onBufferCreated,this),E.on(i.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),E.on(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),E.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this)},A._unregisterListeners=function(){var E=this.hls;E.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),E.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),E.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),E.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),E.off(i.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),E.off(i.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),E.off(i.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),E.off(i.Events.ERROR,this.onError,this),E.off(i.Events.BUFFER_RESET,this.onBufferReset,this),E.off(i.Events.BUFFER_CREATED,this.onBufferCreated,this),E.off(i.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),E.off(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),E.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this)},A.onInitPtsFound=function(E,R){var T=R.frag,L=R.id,P=R.initPTS;if(L==="main"){var k=T.cc;this.initPTS[T.cc]=P,this.log("InitPTS for cc: "+k+" found from main: "+P),this.videoTrackCC=k,this.state===o.State.WAITING_INIT_PTS&&this.tick()}},A.startLoad=function(E){if(!this.levels)return this.startPosition=E,void(this.state=o.State.STOPPED);var R=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,R>0&&E===-1?(this.log("Override startPosition with lastCurrentTime @"+R.toFixed(3)),this.state=o.State.IDLE):(this.loadedmetadata=!1,this.state=o.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=E,this.tick()},A.doTick=function(){switch(this.state){case o.State.IDLE:this.doTickIdle();break;case o.State.WAITING_TRACK:var E,R=this.levels,T=this.trackId,L=R==null||(E=R[T])===null||E===void 0?void 0:E.details;if(L){if(this.waitForCdnTuneIn(L))break;this.state=o.State.WAITING_INIT_PTS}break;case o.State.FRAG_LOADING_WAITING_RETRY:var P,k=performance.now(),D=this.retryDate;(!D||k>=D||(P=this.media)!==null&&P!==void 0&&P.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state=o.State.IDLE);break;case o.State.WAITING_INIT_PTS:var O=this.waitingData;if(O){var M=O.frag,F=O.part,N=O.cache,U=O.complete;if(this.initPTS[M.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=o.State.FRAG_LOADING;var G={frag:M,part:F,payload:N.flush(),networkDetails:null};this._handleFragmentLoadProgress(G),U&&p.prototype._handleFragmentLoadComplete.call(this,G)}else if(this.videoTrackCC!==this.waitingVideoCC)m.logger.log("Waiting fragment cc ("+M.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var H=this.getLoadPosition(),Z=a.BufferHelper.bufferInfo(this.mediaBuffer,H,this.config.maxBufferHole);Object(v.fragmentWithinToleranceTest)(Z.end,this.config.maxFragLookUpTolerance,M)<0&&(m.logger.log("Waiting fragment cc ("+M.cc+") @ "+M.start+" cancelled because another fragment at "+Z.end+" is needed"),this.clearWaitingFragment())}}else this.state=o.State.IDLE}this.onTickEnd()},A.clearWaitingFragment=function(){var E=this.waitingData;E&&(this.fragmentTracker.removeFragment(E.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=o.State.IDLE)},A.onTickEnd=function(){var E=this.media;if(E&&E.readyState){var R=(this.mediaBuffer?this.mediaBuffer:E).buffered;!this.loadedmetadata&&R.length&&(this.loadedmetadata=!0),this.lastCurrentTime=E.currentTime}},A.doTickIdle=function(){var E,R,T=this.hls,L=this.levels,P=this.media,k=this.trackId,D=T.config;if(L&&L[k]&&(P||!this.startFragRequested&&D.startFragPrefetch)){var O=L[k].details;if(!O||O.live&&this.levelLastLoaded!==k||this.waitForCdnTuneIn(O))this.state=o.State.WAITING_TRACK;else{this.bufferFlushed&&(this.bufferFlushed=!1,this.afterBufferFlushed(this.mediaBuffer?this.mediaBuffer:this.media,c.ElementaryStreamTypes.AUDIO,s.PlaylistLevelType.AUDIO));var M=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,s.PlaylistLevelType.AUDIO);if(M!==null){var F=M.len,N=this.getMaxBufferLength(),U=this.audioSwitch;if(!(F>=N)||U){if(!U&&this._streamEnded(M,O))return T.trigger(i.Events.BUFFER_EOS,{type:"audio"}),void(this.state=o.State.ENDED);var G=O.fragments[0].start,H=M.end;if(U){var Z=this.getLoadPosition();H=Z,O.PTSKnown&&Z<G&&(M.end>G||M.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),P.currentTime=G+.05)}var de=this.getNextFragment(H,O);de?((E=de.decryptdata)===null||E===void 0?void 0:E.keyFormat)!=="identity"||(R=de.decryptdata)!==null&&R!==void 0&&R.key?this.loadFragment(de,O,H):this.loadKey(de,O):this.bufferFlushed=!0}}}}},A.getMaxBufferLength=function(){var E=p.prototype.getMaxBufferLength.call(this),R=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,s.PlaylistLevelType.MAIN);return R===null?E:Math.max(E,R.len)},A.onMediaDetaching=function(){this.videoBuffer=null,p.prototype.onMediaDetaching.call(this)},A.onAudioTracksUpdated=function(E,R){var T=R.audioTracks;this.resetTransmuxer(),this.levels=T.map(function(L){return new l.Level(L)})},A.onAudioTrackSwitching=function(E,R){var T=!!R.url;this.trackId=R.id;var L=this.fragCurrent;L!=null&&L.loader&&L.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),T?this.setInterval(100):this.resetTransmuxer(),T?(this.audioSwitch=!0,this.state=o.State.IDLE):this.state=o.State.STOPPED,this.tick()},A.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},A.onLevelLoaded=function(E,R){this.mainDetails=R.details},A.onAudioTrackLoaded=function(E,R){var T,L=this.levels,P=R.details,k=R.id;if(L){this.log("Track "+k+" loaded ["+P.startSN+","+P.endSN+"],duration:"+P.totalduration);var D=L[k],O=0;if(P.live||(T=D.details)!==null&&T!==void 0&&T.live){var M=this.mainDetails;if(P.fragments[0]||(P.deltaUpdateFailed=!0),P.deltaUpdateFailed||!M)return;!D.details&&P.hasProgramDateTime&&M.hasProgramDateTime?(Object(b.alignPDT)(P,M),O=P.fragments[0].start):O=this.alignPlaylists(P,D.details)}D.details=P,this.levelLastLoaded=k,this.startFragRequested||!this.mainDetails&&P.live||this.setStartPosition(D.details,O),this.state!==o.State.WAITING_TRACK||this.waitForCdnTuneIn(P)||(this.state=o.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+k)},A._handleFragmentLoadProgress=function(E){var R,T=E.frag,L=E.part,P=E.payload,k=this.config,D=this.trackId,O=this.levels;if(O){var M=O[D];console.assert(M,"Audio track is defined on fragment load progress");var F=M.details;console.assert(F,"Audio track details are defined on fragment load progress");var N=k.defaultAudioCodec||M.audioCodec||"mp4a.40.2",U=this.transmuxer;U||(U=this.transmuxer=new f.default(this.hls,s.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var G=this.initPTS[T.cc],H=(R=T.initSegment)===null||R===void 0?void 0:R.data;if(G!==void 0){var Z=L?L.index:-1,de=Z!==-1,ee=new _.ChunkMetadata(T.level,T.sn,T.stats.chunkCount,P.byteLength,Z,de);U.push(P,H,N,"",T,L,F.totalduration,!1,ee,G)}else m.logger.log("Unknown video PTS for cc "+T.cc+", waiting for video PTS before demuxing audio frag "+T.sn+" of ["+F.startSN+" ,"+F.endSN+"],track "+D),(this.waitingData=this.waitingData||{frag:T,part:L,cache:new u.default,complete:!1}).cache.push(new Uint8Array(P)),this.waitingVideoCC=this.videoTrackCC,this.state=o.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+T.sn+" of level "+T.level+" will not be buffered")},A._handleFragmentLoadComplete=function(E){this.waitingData?this.waitingData.complete=!0:p.prototype._handleFragmentLoadComplete.call(this,E)},A.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},A.onBufferCreated=function(E,R){var T=R.tracks.audio;T&&(this.mediaBuffer=T.buffer),R.tracks.video&&(this.videoBuffer=R.tracks.video.buffer)},A.onFragBuffered=function(E,R){var T=R.frag,L=R.part;T.type===s.PlaylistLevelType.AUDIO&&(this.fragContextChanged(T)?this.warn("Fragment "+T.sn+(L?" p: "+L.index:"")+" of level "+T.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):(T.sn!=="initSegment"&&(this.fragPrevious=T,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(i.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(T,L)))},A.onError=function(E,R){switch(R.details){case g.ErrorDetails.FRAG_LOAD_ERROR:case g.ErrorDetails.FRAG_LOAD_TIMEOUT:case g.ErrorDetails.KEY_LOAD_ERROR:case g.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(s.PlaylistLevelType.AUDIO,R);break;case g.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case g.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==o.State.ERROR&&this.state!==o.State.STOPPED&&(this.state=R.fatal?o.State.ERROR:o.State.IDLE,this.warn(R.details+" while loading frag, switching to "+this.state+" state"));break;case g.ErrorDetails.BUFFER_FULL_ERROR:if(R.parent==="audio"&&(this.state===o.State.PARSING||this.state===o.State.PARSED)){var T=!0,L=this.getFwdBufferInfo(this.mediaBuffer,s.PlaylistLevelType.AUDIO);L&&L.len>.5&&(T=!this.reduceMaxBufferLength(L.len)),T&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,p.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},A.onBufferFlushed=function(E,R){R.type===c.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},A._handleTransmuxComplete=function(E){var R,T="audio",L=this.hls,P=E.remuxResult,k=E.chunkMeta,D=this.getCurrentContext(k);if(!D)return this.warn("The loading context changed while buffering fragment "+k.sn+" of level "+k.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(k.level);var O=D.frag,M=D.part,F=P.audio,N=P.text,U=P.id3,G=P.initSegment;if(!this.fragContextChanged(O)){if(this.state=o.State.PARSING,this.audioSwitch&&F&&this.completeAudioSwitch(),G!=null&&G.tracks&&(this._bufferInitSegment(G.tracks,O,k),L.trigger(i.Events.FRAG_PARSING_INIT_SEGMENT,{frag:O,id:T,tracks:G.tracks})),F){var H=F.startPTS,Z=F.endPTS,de=F.startDTS,ee=F.endDTS;M&&(M.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:H,endPTS:Z,startDTS:de,endDTS:ee}),O.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,H,Z,de,ee),this.bufferFragmentData(F,O,M,k)}if(U!=null&&(R=U.samples)!==null&&R!==void 0&&R.length){var W=h({frag:O,id:T},U);L.trigger(i.Events.FRAG_PARSING_METADATA,W)}if(N){var ae=h({frag:O,id:T},N);L.trigger(i.Events.FRAG_PARSING_USERDATA,ae)}}},A._bufferInitSegment=function(E,R,T){if(this.state===o.State.PARSING){E.video&&delete E.video;var L=E.audio;if(L){L.levelCodec=L.codec,L.id="audio",this.log("Init audio buffer, container:"+L.container+", codecs[parsed]=["+L.codec+"]"),this.hls.trigger(i.Events.BUFFER_CODECS,E);var P=L.initSegment;if(P!=null&&P.byteLength){var k={type:"audio",frag:R,part:null,chunkMeta:T,parent:R.type,data:P};this.hls.trigger(i.Events.BUFFER_APPENDING,k)}this.tick()}}},A.loadFragment=function(E,R,T){var L=this.fragmentTracker.getState(E);this.fragCurrent=E,(this.audioSwitch||L===d.FragmentState.NOT_LOADED||L===d.FragmentState.PARTIAL)&&(E.sn==="initSegment"?this._loadInitSegment(E):R.live&&!Object(n.isFiniteNumber)(this.initPTS[E.cc])?(this.log("Waiting for video PTS in continuity counter "+E.cc+" of live stream before loading audio fragment "+E.sn+" of level "+this.trackId),this.state=o.State.WAITING_INIT_PTS):(this.startFragRequested=!0,p.prototype.loadFragment.call(this,E,R,T)))},A.completeAudioSwitch=function(){var E=this.hls,R=this.media,T=this.trackId;R&&(this.log("Switching audio track : flushing all audio"),p.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,E.trigger(i.Events.AUDIO_TRACK_SWITCHED,{id:T})},w}(o.default);t.default=y},"./src/controller/audio-track-controller.ts":function(e,t,r){r.r(t);var n=r("./src/events.ts"),o=r("./src/errors.ts"),i=r("./src/controller/base-playlist-controller.ts"),a=r("./src/types/loader.ts");function d(c,u){for(var f=0;f<u.length;f++){var _=u[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,_.key,_)}}function l(c,u){return(l=Object.setPrototypeOf||function(f,_){return f.__proto__=_,f})(c,u)}var s=function(c){var u,f;function _(m){var h;return(h=c.call(this,m,"[audio-track-controller]")||this).tracks=[],h.groupId=null,h.tracksInGroup=[],h.trackId=-1,h.trackName="",h.selectDefaultTrack=!0,h.registerListeners(),h}f=c,(u=_).prototype=Object.create(f.prototype),u.prototype.constructor=u,l(u,f);var v,b,g=_.prototype;return g.registerListeners=function(){var m=this.hls;m.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),m.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),m.on(n.Events.LEVEL_LOADING,this.onLevelLoading,this),m.on(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),m.on(n.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),m.on(n.Events.ERROR,this.onError,this)},g.unregisterListeners=function(){var m=this.hls;m.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),m.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),m.off(n.Events.LEVEL_LOADING,this.onLevelLoading,this),m.off(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),m.off(n.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),m.off(n.Events.ERROR,this.onError,this)},g.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,c.prototype.destroy.call(this)},g.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},g.onManifestParsed=function(m,h){this.tracks=h.audioTracks||[]},g.onAudioTrackLoaded=function(m,h){var x=h.id,y=h.details,p=this.tracksInGroup[x];if(p){var C=p.details;p.details=h.details,this.log("audioTrack "+x+" loaded ["+y.startSN+"-"+y.endSN+"]"),x===this.trackId&&(this.retryCount=0,this.playlistLoaded(x,h,C))}else this.warn("Invalid audio track id "+x)},g.onLevelLoading=function(m,h){this.switchLevel(h.level)},g.onLevelSwitching=function(m,h){this.switchLevel(h.level)},g.switchLevel=function(m){var h=this.hls.levels[m];if(h!=null&&h.audioGroupIds){var x=h.audioGroupIds[h.urlId];if(this.groupId!==x){this.groupId=x;var y=this.tracks.filter(function(C){return!x||C.groupId===x});this.selectDefaultTrack&&!y.some(function(C){return C.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=y;var p={audioTracks:y};this.log("Updating audio tracks, "+y.length+' track(s) found in "'+x+'" group-id'),this.hls.trigger(n.Events.AUDIO_TRACKS_UPDATED,p),this.selectInitialTrack()}}},g.onError=function(m,h){c.prototype.onError.call(this,m,h),!h.fatal&&h.context&&h.context.type===a.PlaylistContextType.AUDIO_TRACK&&h.context.id===this.trackId&&h.context.groupId===this.groupId&&this.retryLoadingOrFail(h)},g.setAudioTrack=function(m){var h=this.tracksInGroup;if(m<0||m>=h.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var x=h[this.trackId];this.log("Now switching to audio-track index "+m);var y=h[m],p=y.id,C=y.groupId,S=C===void 0?"":C,w=y.name,A=y.type,E=y.url;if(this.trackId=m,this.trackName=w,this.selectDefaultTrack=!1,this.hls.trigger(n.Events.AUDIO_TRACK_SWITCHING,{id:p,groupId:S,name:w,type:A,url:E}),!y.details||y.details.live){var R=this.switchParams(y.url,x==null?void 0:x.details);this.loadPlaylist(R)}}},g.selectInitialTrack=function(){var m=this.tracksInGroup;console.assert(m.length,"Initial audio track should be selected when tracks are known");var h=this.trackName,x=this.findTrackId(h)||this.findTrackId();x!==-1?this.setAudioTrack(x):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},g.findTrackId=function(m){for(var h=this.tracksInGroup,x=0;x<h.length;x++){var y=h[x];if((!this.selectDefaultTrack||y.default)&&(!m||m===y.name))return y.id}return-1},g.loadPlaylist=function(m){var h=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(h)){var x=h.id,y=h.groupId,p=h.url;if(m)try{p=m.addDirectives(p)}catch(C){this.warn("Could not construct new URL with HLS Delivery Directives: "+C)}this.log("loading audio-track playlist for id: "+x),this.clearTimer(),this.hls.trigger(n.Events.AUDIO_TRACK_LOADING,{url:p,id:x,groupId:y,deliveryDirectives:m||null})}},v=_,(b=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(m){this.selectDefaultTrack=!1,this.setAudioTrack(m)}}])&&d(v.prototype,b),_}(i.default);t.default=s},"./src/controller/base-playlist-controller.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return l});var n=r("./src/polyfills/number.ts"),o=r("./src/types/level.ts"),i=r("./src/controller/level-helper.ts"),a=r("./src/utils/logger.ts"),d=r("./src/errors.ts"),l=function(){function s(u,f){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=a.logger.log.bind(a.logger,f+":"),this.warn=a.logger.warn.bind(a.logger,f+":"),this.hls=u}var c=s.prototype;return c.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},c.onError=function(u,f){f.fatal&&f.type===d.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},c.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},c.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},c.stopLoad=function(){this.canLoad=!1,this.clearTimer()},c.switchParams=function(u,f){var _=f==null?void 0:f.renditionReports;if(_)for(var v=0;v<_.length;v++){var b=_[v],g=""+b.URI;if(g===u.substr(-g.length)){var m=parseInt(b["LAST-MSN"]),h=parseInt(b["LAST-PART"]);if(f&&this.hls.config.lowLatencyMode){var x=Math.min(f.age-f.partTarget,f.targetduration);h!==void 0&&x>f.partTarget&&(h+=1)}if(Object(n.isFiniteNumber)(m))return new o.HlsUrlParameters(m,Object(n.isFiniteNumber)(h)?h:void 0,o.HlsSkip.No)}}},c.loadPlaylist=function(u){},c.shouldLoadTrack=function(u){return this.canLoad&&u&&!!u.url&&(!u.details||u.details.live)},c.playlistLoaded=function(u,f,_){var v=this,b=f.details,g=f.stats,m=g.loading.end?Math.max(0,self.performance.now()-g.loading.end):0;if(b.advancedDateTime=Date.now()-m,b.live||_!=null&&_.live){if(b.reloaded(_),_&&this.log("live playlist "+u+" "+(b.advanced?"REFRESHED "+b.lastPartSn+"-"+b.lastPartIndex:"MISSED")),_&&b.fragments.length>0&&Object(i.mergeDetails)(_,b),!this.canLoad||!b.live)return;var h,x=void 0,y=void 0;if(b.canBlockReload&&b.endSN&&b.advanced){var p=this.hls.config.lowLatencyMode,C=b.lastPartSn,S=b.endSN,w=b.lastPartIndex,A=C===S;w!==-1?(x=A?S+1:C,y=A?p?0:w:w+1):x=S+1;var E=b.age,R=E+b.ageHeader,T=Math.min(R-b.partTarget,1.5*b.targetduration);if(T>0){if(_&&T>_.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+_.tuneInGoal+" to: "+T+" with playlist age: "+b.age),T=0;else{var L=Math.floor(T/b.targetduration);x+=L,y!==void 0&&(y+=Math.round(T%b.targetduration/b.partTarget)),this.log("CDN Tune-in age: "+b.ageHeader+"s last advanced "+E.toFixed(2)+"s goal: "+T+" skip sn "+L+" to part "+y)}b.tuneInGoal=T}if(h=this.getDeliveryDirectives(b,f.deliveryDirectives,x,y),p||!A)return void this.loadPlaylist(h)}else h=this.getDeliveryDirectives(b,f.deliveryDirectives,x,y);var P=Object(i.computeReloadInterval)(b,g);x!==void 0&&b.canBlockReload&&(P-=b.partTarget||1),this.log("reload live playlist "+u+" in "+Math.round(P)+" ms"),this.timer=self.setTimeout(function(){return v.loadPlaylist(h)},P)}else this.clearTimer()},c.getDeliveryDirectives=function(u,f,_,v){var b=Object(o.getSkipValue)(u,_);return f!=null&&f.skip&&u.deltaUpdateFailed&&(_=f.msn,v=f.part,b=o.HlsSkip.No),new o.HlsUrlParameters(_,v,b)},c.retryLoadingOrFail=function(u){var f,_=this,v=this.hls.config,b=this.retryCount<v.levelLoadingMaxRetry;if(b)if(this.retryCount++,u.details.indexOf("LoadTimeOut")>-1&&(f=u.context)!==null&&f!==void 0&&f.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+u.details+'"'),this.loadPlaylist();else{var g=Math.min(Math.pow(2,this.retryCount)*v.levelLoadingRetryDelay,v.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout(function(){return _.loadPlaylist()},g),this.warn("retry playlist loading #"+this.retryCount+" in "+g+' ms after "'+u.details+'"')}else this.warn('cannot recover from error "'+u.details+'"'),this.clearTimer(),u.fatal=!0;return b},s}()},"./src/controller/base-stream-controller.ts":function(e,t,r){r.r(t),r.d(t,"State",function(){return p}),r.d(t,"default",function(){return C});var n=r("./src/polyfills/number.ts"),o=r("./src/task-loop.ts"),i=r("./src/controller/fragment-tracker.ts"),a=r("./src/utils/buffer-helper.ts"),d=r("./src/utils/logger.ts"),l=r("./src/events.ts"),s=r("./src/errors.ts"),c=r("./src/types/transmuxer.ts"),u=r("./src/utils/mp4-tools.ts"),f=r("./src/utils/discontinuities.ts"),_=r("./src/controller/fragment-finders.ts"),v=r("./src/controller/level-helper.ts"),b=r("./src/loader/fragment-loader.ts"),g=r("./src/crypt/decrypter.ts"),m=r("./src/utils/time-ranges.ts"),h=r("./src/types/loader.ts");function x(S,w){for(var A=0;A<w.length;A++){var E=w[A];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,E.key,E)}}function y(S,w){return(y=Object.setPrototypeOf||function(A,E){return A.__proto__=E,A})(S,w)}var p={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BACKTRACKING:"BACKTRACKING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},C=function(S){var w,A;function E(P,k,D){var O;return(O=S.call(this)||this).hls=void 0,O.fragPrevious=null,O.fragCurrent=null,O.fragmentTracker=void 0,O.transmuxer=null,O._state=p.STOPPED,O.media=void 0,O.mediaBuffer=void 0,O.config=void 0,O.bitrateTest=!1,O.lastCurrentTime=0,O.nextLoadPosition=0,O.startPosition=0,O.loadedmetadata=!1,O.fragLoadError=0,O.retryDate=0,O.levels=null,O.fragmentLoader=void 0,O.levelLastLoaded=null,O.startFragRequested=!1,O.decrypter=void 0,O.initPTS=[],O.onvseeking=null,O.onvended=null,O.logPrefix="",O.log=void 0,O.warn=void 0,O.logPrefix=D,O.log=d.logger.log.bind(d.logger,D+":"),O.warn=d.logger.warn.bind(d.logger,D+":"),O.hls=P,O.fragmentLoader=new b.default(P.config),O.fragmentTracker=k,O.config=P.config,O.decrypter=new g.default(P,P.config),P.on(l.Events.KEY_LOADED,O.onKeyLoaded,function(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(O)),O}A=S,(w=E).prototype=Object.create(A.prototype),w.prototype.constructor=w,y(w,A);var R,T,L=E.prototype;return L.doTick=function(){this.onTickEnd()},L.onTickEnd=function(){},L.startLoad=function(P){},L.stopLoad=function(){this.fragmentLoader.abort();var P=this.fragCurrent;P&&this.fragmentTracker.removeFragment(P),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=p.STOPPED},L._streamEnded=function(P,k){var D=this.fragCurrent,O=this.fragmentTracker;if(!k.live&&D&&D.sn===k.endSN&&!P.nextStart){var M=O.getState(D);return M===i.FragmentState.PARTIAL||M===i.FragmentState.OK}return!1},L.onMediaAttached=function(P,k){var D=this.media=this.mediaBuffer=k.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),D.addEventListener("seeking",this.onvseeking),D.addEventListener("ended",this.onvended);var O=this.config;this.levels&&O.autoStartLoad&&this.state===p.STOPPED&&this.startLoad(O.startPosition)},L.onMediaDetaching=function(){var P=this.media;P!=null&&P.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),P&&(P.removeEventListener("seeking",this.onvseeking),P.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},L.onMediaSeeking=function(){var P=this.config,k=this.fragCurrent,D=this.media,O=this.mediaBuffer,M=this.state,F=D?D.currentTime:0,N=a.BufferHelper.bufferInfo(O||D,F,P.maxBufferHole);if(this.log("media seeking to "+(Object(n.isFiniteNumber)(F)?F.toFixed(3):F)+", state: "+M),M===p.ENDED)this.resetLoadingState();else if(k&&!N.len){var U=P.maxFragLookUpTolerance,G=k.start-U,H=F>k.start+k.duration+U;(F<G||H)&&(H&&k.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),k.loader.abort()),this.resetLoadingState())}D&&(this.lastCurrentTime=F),this.loadedmetadata||N.len||(this.nextLoadPosition=this.startPosition=F),this.tickImmediate()},L.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},L.onKeyLoaded=function(P,k){if(this.state===p.KEY_LOADING&&k.frag===this.fragCurrent&&this.levels){this.state=p.IDLE;var D=this.levels[k.frag.level].details;D&&this.loadFragment(k.frag,D,k.frag.start)}},L.onHandlerDestroying=function(){this.stopLoad(),S.prototype.onHandlerDestroying.call(this)},L.onHandlerDestroyed=function(){this.state=p.STOPPED,this.hls.off(l.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,S.prototype.onHandlerDestroyed.call(this)},L.loadKey=function(P,k){this.log("Loading key for "+P.sn+" of ["+k.startSN+"-"+k.endSN+"], "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+P.level),this.state=p.KEY_LOADING,this.fragCurrent=P,this.hls.trigger(l.Events.KEY_LOADING,{frag:P})},L.loadFragment=function(P,k,D){this._loadFragForPlayback(P,k,D)},L._loadFragForPlayback=function(P,k,D){var O=this;this._doFragLoad(P,k,D,function(M){if(O.fragContextChanged(P))return O.warn("Fragment "+P.sn+(M.part?" p: "+M.part.index:"")+" of level "+P.level+" was dropped during download."),void O.fragmentTracker.removeFragment(P);P.stats.chunkCount++,O._handleFragmentLoadProgress(M)}).then(function(M){if(M){O.fragLoadError=0;var F=O.state;if(!O.fragContextChanged(P))return"payload"in M&&(O.log("Loaded fragment "+P.sn+" of level "+P.level),O.hls.trigger(l.Events.FRAG_LOADED,M),O.state===p.BACKTRACKING)?(O.fragmentTracker.backtrack(P,M),void O.resetFragmentLoading(P)):void O._handleFragmentLoadComplete(M);(F===p.FRAG_LOADING||F===p.BACKTRACKING||!O.fragCurrent&&F===p.PARSING)&&(O.fragmentTracker.removeFragment(P),O.state=p.IDLE)}}).catch(function(M){O.warn(M),O.resetFragmentLoading(P)})},L.flushMainBuffer=function(P,k,D){if(D===void 0&&(D=null),P-k){var O={startOffset:P,endOffset:k,type:D};this.fragLoadError=0,this.hls.trigger(l.Events.BUFFER_FLUSHING,O)}},L._loadInitSegment=function(P){var k=this;this._doFragLoad(P).then(function(D){if(!D||k.fragContextChanged(P)||!k.levels)throw new Error("init load aborted");return D}).then(function(D){var O=k.hls,M=D.payload,F=P.decryptdata;if(M&&M.byteLength>0&&F&&F.key&&F.iv&&F.method==="AES-128"){var N=self.performance.now();return k.decrypter.webCryptoDecrypt(new Uint8Array(M),F.key.buffer,F.iv.buffer).then(function(U){var G=self.performance.now();return O.trigger(l.Events.FRAG_DECRYPTED,{frag:P,payload:U,stats:{tstart:N,tdecrypt:G}}),D.payload=U,D})}return D}).then(function(D){var O=k.fragCurrent,M=k.hls,F=k.levels;if(!F)throw new Error("init load aborted, missing levels");var N=F[P.level].details;console.assert(N,"Level details are defined when init segment is loaded");var U=P.stats;k.state=p.IDLE,k.fragLoadError=0,P.data=new Uint8Array(D.payload),U.parsing.start=U.buffering.start=self.performance.now(),U.parsing.end=U.buffering.end=self.performance.now(),D.frag===O&&M.trigger(l.Events.FRAG_BUFFERED,{stats:U,frag:O,part:null,id:P.type}),k.tick()}).catch(function(D){k.warn(D),k.resetFragmentLoading(P)})},L.fragContextChanged=function(P){var k=this.fragCurrent;return!P||!k||P.level!==k.level||P.sn!==k.sn||P.urlId!==k.urlId},L.fragBufferedComplete=function(P,k){var D=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+P.type+" sn: "+P.sn+(k?" part: "+k.index:"")+" of "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+P.level+" "+m.default.toString(a.BufferHelper.getBuffered(D))),this.state=p.IDLE,this.tick()},L._handleFragmentLoadComplete=function(P){var k=this.transmuxer;if(k){var D=P.frag,O=P.part,M=P.partsLoaded,F=!M||M.length===0||M.some(function(U){return!U}),N=new c.ChunkMetadata(D.level,D.sn,D.stats.chunkCount+1,0,O?O.index:-1,!F);k.flush(N)}},L._handleFragmentLoadProgress=function(P){},L._doFragLoad=function(P,k,D,O){var M=this;if(D===void 0&&(D=null),!this.levels)throw new Error("frag load aborted, missing levels");if(D=Math.max(P.start,D||0),this.config.lowLatencyMode&&k){var F=k.partList;if(F&&O){D>P.end&&k.fragmentHint&&(P=k.fragmentHint);var N=this.getNextPart(F,P,D);if(N>-1){var U=F[N];return this.log("Loading part sn: "+P.sn+" p: "+U.index+" cc: "+P.cc+" of playlist ["+k.startSN+"-"+k.endSN+"] parts [0-"+N+"-"+(F.length-1)+"] "+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+P.level+", target: "+parseFloat(D.toFixed(3))),this.nextLoadPosition=U.start+U.duration,this.state=p.FRAG_LOADING,this.hls.trigger(l.Events.FRAG_LOADING,{frag:P,part:F[N],targetBufferTime:D}),this.doFragPartsLoad(P,F,N,O).catch(function(G){return M.handleFragLoadError(G)})}if(!P.url||this.loadedEndOfParts(F,D))return Promise.resolve(null)}}return this.log("Loading fragment "+P.sn+" cc: "+P.cc+" "+(k?"of ["+k.startSN+"-"+k.endSN+"] ":"")+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+P.level+", target: "+parseFloat(D.toFixed(3))),Object(n.isFiniteNumber)(P.sn)&&!this.bitrateTest&&(this.nextLoadPosition=P.start+P.duration),this.state=p.FRAG_LOADING,this.hls.trigger(l.Events.FRAG_LOADING,{frag:P,targetBufferTime:D}),this.fragmentLoader.load(P,O).catch(function(G){return M.handleFragLoadError(G)})},L.doFragPartsLoad=function(P,k,D,O){var M=this;return new Promise(function(F,N){var U=[];(function G(H){var Z=k[H];M.fragmentLoader.loadPart(P,Z,O).then(function(de){U[Z.index]=de;var ee=de.part;M.hls.trigger(l.Events.FRAG_LOADED,de);var W=k[H+1];if(!W||W.fragment!==P)return F({frag:P,part:ee,partsLoaded:U});G(H+1)}).catch(N)})(D)})},L.handleFragLoadError=function(P){var k=P.data;return k&&k.details===s.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(k.frag,k.part):this.hls.trigger(l.Events.ERROR,k),null},L._handleTransmuxerFlush=function(P){var k=this.getCurrentContext(P);if(k&&this.state===p.PARSING){var D=k.frag,O=k.part,M=k.level,F=self.performance.now();D.stats.parsing.end=F,O&&(O.stats.parsing.end=F),this.updateLevelTiming(D,O,M,P.partial)}else this.fragCurrent||(this.state=p.IDLE)},L.getCurrentContext=function(P){var k=this.levels,D=P.level,O=P.sn,M=P.part;if(!k||!k[D])return this.warn("Levels object was unset while buffering fragment "+O+" of level "+D+". The current chunk will not be buffered."),null;var F=k[D],N=M>-1?Object(v.getPartWith)(F,O,M):null,U=N?N.fragment:Object(v.getFragmentWithSN)(F,O,this.fragCurrent);return U?{frag:U,part:N,level:F}:null},L.bufferFragmentData=function(P,k,D,O){if(P&&this.state===p.PARSING){var M=P.data1,F=P.data2,N=M;if(M&&F&&(N=Object(u.appendUint8Array)(M,F)),N&&N.length){var U={type:P.type,frag:k,part:D,chunkMeta:O,parent:k.type,data:N};this.hls.trigger(l.Events.BUFFER_APPENDING,U),P.dropped&&P.independent&&!D&&this.flushBufferGap(k)}}},L.flushBufferGap=function(P){var k=this.media;if(k)if(a.BufferHelper.isBuffered(k,k.currentTime)){var D=k.currentTime,O=a.BufferHelper.bufferInfo(k,D,0),M=P.duration,F=Math.min(2*this.config.maxFragLookUpTolerance,.25*M),N=Math.max(Math.min(P.start-F,O.end-F),D+F);P.start-N>F&&this.flushMainBuffer(N,P.start)}else this.flushMainBuffer(0,P.start)},L.getFwdBufferInfo=function(P,k){var D=this.config,O=this.getLoadPosition();if(!Object(n.isFiniteNumber)(O))return null;var M=a.BufferHelper.bufferInfo(P,O,D.maxBufferHole);if(M.len===0&&M.nextStart!==void 0){var F=this.fragmentTracker.getBufferedFrag(O,k);if(F&&M.nextStart<F.end)return a.BufferHelper.bufferInfo(P,O,Math.max(M.nextStart,D.maxBufferHole))}return M},L.getMaxBufferLength=function(P){var k,D=this.config;return k=P?Math.max(8*D.maxBufferSize/P,D.maxBufferLength):D.maxBufferLength,Math.min(k,D.maxMaxBufferLength)},L.reduceMaxBufferLength=function(P){var k=this.config,D=P||k.maxBufferLength;return k.maxMaxBufferLength>=D&&(k.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+k.maxMaxBufferLength+"s"),!0)},L.getNextFragment=function(P,k){var D,O,M=k.fragments,F=M.length;if(!F)return null;var N,U=this.config,G=M[0].start;if(k.live){var H=U.initialLiveManifestSize;if(F<H)return this.warn("Not enough fragments to start playback (have: "+F+", need: "+H+")"),null;k.PTSKnown||this.startFragRequested||this.startPosition!==-1||(N=this.getInitialLiveFragment(k,M),this.startPosition=N?this.hls.liveSyncPosition||N.start:P)}else P<=G&&(N=M[0]);if(!N){var Z=U.lowLatencyMode?k.partEnd:k.fragmentEnd;N=this.getFragmentAtPosition(P,Z,k)}return(D=N)===null||D===void 0||!D.initSegment||(O=N)!==null&&O!==void 0&&O.initSegment.data||this.bitrateTest||(N=N.initSegment),N},L.getNextPart=function(P,k,D){for(var O=-1,M=!1,F=!0,N=0,U=P.length;N<U;N++){var G=P[N];if(F=F&&!G.independent,O>-1&&D<G.start)break;var H=G.loaded;!H&&(M||G.independent||F)&&G.fragment===k&&(O=N),M=H}return O},L.loadedEndOfParts=function(P,k){var D=P[P.length-1];return D&&k>D.start&&D.loaded},L.getInitialLiveFragment=function(P,k){var D=this.fragPrevious,O=null;if(D){if(P.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+D.programDateTime),O=Object(_.findFragmentByPDT)(k,D.endProgramDateTime,this.config.maxFragLookUpTolerance)),!O){var M=D.sn+1;if(M>=P.startSN&&M<=P.endSN){var F=k[M-P.startSN];D.cc===F.cc&&(O=F,this.log("Live playlist, switching playlist, load frag with next SN: "+O.sn))}O||(O=Object(_.findFragWithCC)(k,D.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+O.sn)}}else{var N=this.hls.liveSyncPosition;N!==null&&(O=this.getFragmentAtPosition(N,this.bitrateTest?P.fragmentEnd:P.edge,P))}return O},L.getFragmentAtPosition=function(P,k,D){var O,M=this.config,F=this.fragPrevious,N=D.fragments,U=D.endSN,G=D.fragmentHint,H=M.maxFragLookUpTolerance,Z=!!(M.lowLatencyMode&&D.partList&&G);if(Z&&G&&!this.bitrateTest&&(N=N.concat(G),U=G.sn),P<k){var de=P>k-H?0:H;O=Object(_.findFragmentByPTS)(F,N,P,de)}else O=N[N.length-1];if(O){var ee=O.sn-D.startSN,W=F&&O.level===F.level,ae=N[ee+1];if(this.fragmentTracker.getState(O)===i.FragmentState.BACKTRACKED){O=null;for(var q=ee;N[q]&&this.fragmentTracker.getState(N[q])===i.FragmentState.BACKTRACKED;)O=F?N[q--]:N[--q];O||(O=ae)}else F&&O.sn===F.sn&&!Z&&W&&(O.sn<U&&this.fragmentTracker.getState(ae)!==i.FragmentState.OK?(this.log("SN "+O.sn+" just loaded, load next one: "+ae.sn),O=ae):O=null)}return O},L.synchronizeToLiveEdge=function(P){var k=this.config,D=this.media;if(D){var O=this.hls.liveSyncPosition,M=D.currentTime,F=P.fragments[0].start,N=P.edge,U=M>=F-k.maxFragLookUpTolerance&&M<=N;if(O!==null&&D.duration>O&&(M<O||!U)){var G=k.liveMaxLatencyDuration!==void 0?k.liveMaxLatencyDuration:k.liveMaxLatencyDurationCount*P.targetduration;(!U&&D.readyState<4||M<N-G)&&(this.loadedmetadata||(this.nextLoadPosition=O),D.readyState&&(this.warn("Playback: "+M.toFixed(3)+" is located too far from the end of live sliding playlist: "+N+", reset currentTime to : "+O.toFixed(3)),D.currentTime=O))}}},L.alignPlaylists=function(P,k){var D=this.levels,O=this.levelLastLoaded,M=this.fragPrevious,F=O!==null?D[O]:null,N=P.fragments.length;if(!N)return this.warn("No fragments in live playlist"),0;var U=P.fragments[0].start,G=!k,H=P.alignedSliding&&Object(n.isFiniteNumber)(U);if(G||!H&&!U){Object(f.alignStream)(M,F,P);var Z=P.fragments[0].start;return this.log("Live playlist sliding: "+Z.toFixed(2)+" start-sn: "+(k?k.startSN:"na")+"->"+P.startSN+" prev-sn: "+(M?M.sn:"na")+" fragments: "+N),Z}return U},L.waitForCdnTuneIn=function(P){return P.live&&P.canBlockReload&&P.tuneInGoal>Math.max(P.partHoldBack,3*P.partTarget)},L.setStartPosition=function(P,k){var D=this.startPosition;if(D<k&&(D=-1),D===-1||this.lastCurrentTime===-1){var O=P.startTimeOffset;Object(n.isFiniteNumber)(O)?(D=k+O,O<0&&(D+=P.totalduration),D=Math.min(Math.max(k,D),k+P.totalduration),this.log("Start time offset "+O+" found in playlist, adjust startPosition to "+D),this.startPosition=D):P.live?D=this.hls.liveSyncPosition||k:this.startPosition=D=0,this.lastCurrentTime=D}this.nextLoadPosition=D},L.getLoadPosition=function(){var P=this.media,k=0;return this.loadedmetadata&&P?k=P.currentTime:this.nextLoadPosition&&(k=this.nextLoadPosition),k},L.handleFragLoadAborted=function(P,k){this.transmuxer&&P.sn!=="initSegment"&&P.stats.aborted&&(this.warn("Fragment "+P.sn+(k?" part"+k.index:"")+" of level "+P.level+" was aborted"),this.resetFragmentLoading(P))},L.resetFragmentLoading=function(P){this.fragCurrent&&this.fragContextChanged(P)||(this.state=p.IDLE)},L.onFragmentOrKeyLoadError=function(P,k){if(!k.fatal){var D=k.frag;if(D&&D.type===P){var O=this.fragCurrent;console.assert(O&&D.sn===O.sn&&D.level===O.level&&D.urlId===O.urlId,"Frag load error must match current frag to retry");var M=this.config;if(this.fragLoadError+1<=M.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(D.level))return;var F=Math.min(Math.pow(2,this.fragLoadError)*M.fragLoadingRetryDelay,M.fragLoadingMaxRetryTimeout);this.warn("Fragment "+D.sn+" of "+P+" "+D.level+" failed to load, retrying in "+F+"ms"),this.retryDate=self.performance.now()+F,this.fragLoadError++,this.state=p.FRAG_LOADING_WAITING_RETRY}else k.levelRetry?(P===h.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=p.IDLE):(d.logger.error(k.details+" reaches max retry, redispatch as fatal ..."),k.fatal=!0,this.hls.stopLoad(),this.state=p.ERROR)}}},L.afterBufferFlushed=function(P,k,D){if(P){var O=a.BufferHelper.getBuffered(P);this.fragmentTracker.detectEvictedFragments(k,O,D),this.state===p.ENDED&&this.resetLoadingState()}},L.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=p.IDLE},L.resetLiveStartWhenNotLoaded=function(P){if(!this.loadedmetadata){this.startFragRequested=!1;var k=this.levels?this.levels[P].details:null;if(k!=null&&k.live)return this.startPosition=-1,this.setStartPosition(k,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},L.updateLevelTiming=function(P,k,D,O){var M=this,F=D.details;console.assert(!!F,"level.details must be defined"),Object.keys(P.elementaryStreams).reduce(function(N,U){var G=P.elementaryStreams[U];if(G){var H=G.endPTS-G.startPTS;if(H<=0)return M.warn("Could not parse fragment "+P.sn+" "+U+" duration reliably ("+H+") resetting transmuxer to fallback to playlist timing"),M.resetTransmuxer(),N||!1;var Z=O?0:Object(v.updateFragPTSDTS)(F,P,G.startPTS,G.endPTS,G.startDTS,G.endDTS);return M.hls.trigger(l.Events.LEVEL_PTS_UPDATED,{details:F,level:D,drift:Z,type:U,frag:P,start:G.startPTS,end:G.endPTS}),!0}return N},!1)?(this.state=p.PARSED,this.hls.trigger(l.Events.FRAG_PARSED,{frag:P,part:k})):this.resetLoadingState()},L.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},R=E,(T=[{key:"state",get:function(){return this._state},set:function(P){var k=this._state;k!==P&&(this._state=P,this.log(k+"->"+P))}}])&&x(R.prototype,T),E}(o.default)},"./src/controller/buffer-controller.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return _});var n=r("./src/polyfills/number.ts"),o=r("./src/events.ts"),i=r("./src/utils/logger.ts"),a=r("./src/errors.ts"),d=r("./src/utils/buffer-helper.ts"),l=r("./src/utils/mediasource-helper.ts"),s=r("./src/loader/fragment.ts"),c=r("./src/controller/buffer-operation-queue.ts"),u=Object(l.getMediaSource)(),f=/([ha]vc.)(?:\.[^.,]+)+/,_=function(){function v(g){var m=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var h=m.hls,x=m.media,y=m.mediaSource;i.logger.log("[buffer-controller]: Media source opened"),x&&(m.updateMediaElementDuration(),h.trigger(o.Events.MEDIA_ATTACHED,{media:x})),y&&y.removeEventListener("sourceopen",m._onMediaSourceOpen),m.checkPendingTracks()},this._onMediaSourceClose=function(){i.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){i.logger.log("[buffer-controller]: Media source ended")},this.hls=g,this._initSourceBuffer(),this.registerListeners()}var b=v.prototype;return b.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},b.destroy=function(){this.unregisterListeners(),this.details=null},b.registerListeners=function(){var g=this.hls;g.on(o.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),g.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),g.on(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),g.on(o.Events.BUFFER_RESET,this.onBufferReset,this),g.on(o.Events.BUFFER_APPENDING,this.onBufferAppending,this),g.on(o.Events.BUFFER_CODECS,this.onBufferCodecs,this),g.on(o.Events.BUFFER_EOS,this.onBufferEos,this),g.on(o.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),g.on(o.Events.LEVEL_UPDATED,this.onLevelUpdated,this),g.on(o.Events.FRAG_PARSED,this.onFragParsed,this),g.on(o.Events.FRAG_CHANGED,this.onFragChanged,this)},b.unregisterListeners=function(){var g=this.hls;g.off(o.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),g.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),g.off(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),g.off(o.Events.BUFFER_RESET,this.onBufferReset,this),g.off(o.Events.BUFFER_APPENDING,this.onBufferAppending,this),g.off(o.Events.BUFFER_CODECS,this.onBufferCodecs,this),g.off(o.Events.BUFFER_EOS,this.onBufferEos,this),g.off(o.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),g.off(o.Events.LEVEL_UPDATED,this.onLevelUpdated,this),g.off(o.Events.FRAG_PARSED,this.onFragParsed,this),g.off(o.Events.FRAG_CHANGED,this.onFragChanged,this)},b._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new c.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},b.onManifestParsed=function(g,m){var h=2;(m.audio&&!m.video||!m.altAudio)&&(h=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=h,this.details=null,i.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},b.onMediaAttaching=function(g,m){var h=this.media=m.media;if(h&&u){var x=this.mediaSource=new u;x.addEventListener("sourceopen",this._onMediaSourceOpen),x.addEventListener("sourceended",this._onMediaSourceEnded),x.addEventListener("sourceclose",this._onMediaSourceClose),h.src=self.URL.createObjectURL(x),this._objectUrl=h.src}},b.onMediaDetaching=function(){var g=this.media,m=this.mediaSource,h=this._objectUrl;if(m){if(i.logger.log("[buffer-controller]: media source detaching"),m.readyState==="open")try{m.endOfStream()}catch(x){i.logger.warn("[buffer-controller]: onMediaDetaching: "+x.message+" while calling endOfStream")}this.onBufferReset(),m.removeEventListener("sourceopen",this._onMediaSourceOpen),m.removeEventListener("sourceended",this._onMediaSourceEnded),m.removeEventListener("sourceclose",this._onMediaSourceClose),g&&(h&&self.URL.revokeObjectURL(h),g.src===h?(g.removeAttribute("src"),g.load()):i.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(o.Events.MEDIA_DETACHED,void 0)},b.onBufferReset=function(){var g=this;this.getSourceBufferTypes().forEach(function(m){var h=g.sourceBuffer[m];try{h&&(g.removeBufferListeners(m),g.mediaSource&&g.mediaSource.removeSourceBuffer(h),g.sourceBuffer[m]=void 0)}catch(x){i.logger.warn("[buffer-controller]: Failed to reset the "+m+" buffer",x)}}),this._initSourceBuffer()},b.onBufferCodecs=function(g,m){var h=this,x=this.getSourceBufferTypes().length;Object.keys(m).forEach(function(y){if(x){var p=h.tracks[y];if(p&&typeof p.buffer.changeType=="function"){var C=m[y],S=C.codec,w=C.levelCodec,A=C.container;if((p.levelCodec||p.codec).replace(f,"$1")!==(w||S).replace(f,"$1")){var E=A+";codecs="+(w||S);h.appendChangeType(y,E)}}}else h.pendingTracks[y]=m[y]}),x||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},b.appendChangeType=function(g,m){var h=this,x=this.operationQueue,y={execute:function(){var p=h.sourceBuffer[g];p&&(i.logger.log("[buffer-controller]: changing "+g+" sourceBuffer type to "+m),p.changeType(m)),x.shiftAndExecuteNext(g)},onStart:function(){},onComplete:function(){},onError:function(p){i.logger.warn("[buffer-controller]: Failed to change "+g+" SourceBuffer type",p)}};x.append(y,g)},b.onBufferAppending=function(g,m){var h=this,x=this.hls,y=this.operationQueue,p=this.tracks,C=m.data,S=m.type,w=m.frag,A=m.part,E=m.chunkMeta,R=E.buffering[S],T=self.performance.now();R.start=T;var L=w.stats.buffering,P=A?A.stats.buffering:null;L.start===0&&(L.start=T),P&&P.start===0&&(P.start=T);var k=p.audio,D=S==="audio"&&E.id===1&&(k==null?void 0:k.container)==="audio/mpeg",O={execute:function(){if(R.executeStart=self.performance.now(),D){var M=h.sourceBuffer[S];if(M){var F=w.start-M.timestampOffset;Math.abs(F)>=.1&&(i.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+w.start+" (delta: "+F+") sn: "+w.sn+")"),M.timestampOffset=w.start)}}h.appendExecutor(C,S)},onStart:function(){},onComplete:function(){var M=self.performance.now();R.executeEnd=R.end=M,L.first===0&&(L.first=M),P&&P.first===0&&(P.first=M);var F=h.sourceBuffer,N={};for(var U in F)N[U]=d.BufferHelper.getBuffered(F[U]);h.appendError=0,h.hls.trigger(o.Events.BUFFER_APPENDED,{type:S,frag:w,part:A,chunkMeta:E,parent:w.type,timeRanges:N})},onError:function(M){i.logger.error("[buffer-controller]: Error encountered while trying to append to the "+S+" SourceBuffer",M);var F={type:a.ErrorTypes.MEDIA_ERROR,parent:w.type,details:a.ErrorDetails.BUFFER_APPEND_ERROR,err:M,fatal:!1};M.code===DOMException.QUOTA_EXCEEDED_ERR?F.details=a.ErrorDetails.BUFFER_FULL_ERROR:(h.appendError++,F.details=a.ErrorDetails.BUFFER_APPEND_ERROR,h.appendError>x.config.appendErrorMaxRetry&&(i.logger.error("[buffer-controller]: Failed "+x.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),F.fatal=!0)),x.trigger(o.Events.ERROR,F)}};y.append(O,S)},b.onBufferFlushing=function(g,m){var h=this,x=this.operationQueue,y=function(p){return{execute:h.removeExecutor.bind(h,p,m.startOffset,m.endOffset),onStart:function(){},onComplete:function(){h.hls.trigger(o.Events.BUFFER_FLUSHED,{type:p})},onError:function(C){i.logger.warn("[buffer-controller]: Failed to remove from "+p+" SourceBuffer",C)}}};m.type?x.append(y(m.type),m.type):this.getSourceBufferTypes().forEach(function(p){x.append(y(p),p)})},b.onFragParsed=function(g,m){var h=this,x=m.frag,y=m.part,p=[],C=y?y.elementaryStreams:x.elementaryStreams;C[s.ElementaryStreamTypes.AUDIOVIDEO]?p.push("audiovideo"):(C[s.ElementaryStreamTypes.AUDIO]&&p.push("audio"),C[s.ElementaryStreamTypes.VIDEO]&&p.push("video")),p.length===0&&i.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+x.type+" level: "+x.level+" sn: "+x.sn),this.blockBuffers(function(){var S=self.performance.now();x.stats.buffering.end=S,y&&(y.stats.buffering.end=S);var w=y?y.stats:x.stats;h.hls.trigger(o.Events.FRAG_BUFFERED,{frag:x,part:y,stats:w,id:x.type})},p)},b.onFragChanged=function(g,m){this.flushBackBuffer()},b.onBufferEos=function(g,m){var h=this;this.getSourceBufferTypes().reduce(function(x,y){var p=h.sourceBuffer[y];return m.type&&m.type!==y||p&&!p.ended&&(p.ended=!0,i.logger.log("[buffer-controller]: "+y+" sourceBuffer now EOS")),x&&!(p&&!p.ended)},!0)&&this.blockBuffers(function(){var x=h.mediaSource;x&&x.readyState==="open"&&x.endOfStream()})},b.onLevelUpdated=function(g,m){var h=m.details;h.fragments.length&&(this.details=h,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},b.flushBackBuffer=function(){var g=this.hls,m=this.details,h=this.media,x=this.sourceBuffer;if(h&&m!==null){var y=this.getSourceBufferTypes();if(y.length){var p=m.live&&g.config.liveBackBufferLength!==null?g.config.liveBackBufferLength:g.config.backBufferLength;if(Object(n.isFiniteNumber)(p)&&!(p<0)){var C=h.currentTime,S=m.levelTargetDuration,w=Math.max(p,S),A=Math.floor(C/S)*S-w;y.forEach(function(E){var R=x[E];if(R){var T=d.BufferHelper.getBuffered(R);T.length>0&&A>T.start(0)&&(g.trigger(o.Events.BACK_BUFFER_REACHED,{bufferEnd:A}),m.live&&g.trigger(o.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:A}),g.trigger(o.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:A,type:E}))}})}}}},b.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&this.mediaSource.readyState==="open"){var g=this.details,m=this.hls,h=this.media,x=this.mediaSource,y=g.fragments[0].start+g.totalduration,p=h.duration,C=Object(n.isFiniteNumber)(x.duration)?x.duration:0;g.live&&m.config.liveDurationInfinity?(i.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),x.duration=1/0,this.updateSeekableRange(g)):(y>C&&y>p||!Object(n.isFiniteNumber)(p))&&(i.logger.log("[buffer-controller]: Updating Media Source duration to "+y.toFixed(3)),x.duration=y)}},b.updateSeekableRange=function(g){var m=this.mediaSource,h=g.fragments;if(h.length&&g.live&&m!=null&&m.setLiveSeekableRange){var x=Math.max(0,h[0].start),y=Math.max(x,x+g.totalduration);m.setLiveSeekableRange(x,y)}},b.checkPendingTracks=function(){var g=this.bufferCodecEventsExpected,m=this.operationQueue,h=this.pendingTracks,x=Object.keys(h).length;if(x&&!g||x===2){this.createSourceBuffers(h),this.pendingTracks={};var y=this.getSourceBufferTypes();if(y.length===0)return void this.hls.trigger(o.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});y.forEach(function(p){m.executeNext(p)})}},b.createSourceBuffers=function(g){var m=this.sourceBuffer,h=this.mediaSource;if(!h)throw Error("createSourceBuffers called when mediaSource was null");var x=0;for(var y in g)if(!m[y]){var p=g[y];if(!p)throw Error("source buffer exists for track "+y+", however track does not");var C=p.levelCodec||p.codec,S=p.container+";codecs="+C;i.logger.log("[buffer-controller]: creating sourceBuffer("+S+")");try{var w=m[y]=h.addSourceBuffer(S),A=y;this.addBufferListener(A,"updatestart",this._onSBUpdateStart),this.addBufferListener(A,"updateend",this._onSBUpdateEnd),this.addBufferListener(A,"error",this._onSBUpdateError),this.tracks[y]={buffer:w,codec:C,container:p.container,levelCodec:p.levelCodec,id:p.id},x++}catch(E){i.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+E.message),this.hls.trigger(o.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:E,mimeType:S})}}x&&this.hls.trigger(o.Events.BUFFER_CREATED,{tracks:this.tracks})},b._onSBUpdateStart=function(g){this.operationQueue.current(g).onStart()},b._onSBUpdateEnd=function(g){var m=this.operationQueue;m.current(g).onComplete(),m.shiftAndExecuteNext(g)},b._onSBUpdateError=function(g,m){i.logger.error("[buffer-controller]: "+g+" SourceBuffer error",m),this.hls.trigger(o.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var h=this.operationQueue.current(g);h&&h.onError(m)},b.removeExecutor=function(g,m,h){var x=this.media,y=this.mediaSource,p=this.operationQueue,C=this.sourceBuffer[g];if(!x||!y||!C)return i.logger.warn("[buffer-controller]: Attempting to remove from the "+g+" SourceBuffer, but it does not exist"),void p.shiftAndExecuteNext(g);var S=Object(n.isFiniteNumber)(x.duration)?x.duration:1/0,w=Object(n.isFiniteNumber)(y.duration)?y.duration:1/0,A=Math.max(0,m),E=Math.min(h,S,w);E>A?(i.logger.log("[buffer-controller]: Removing ["+A+","+E+"] from the "+g+" SourceBuffer"),console.assert(!C.updating,g+" sourceBuffer must not be updating"),C.remove(A,E)):p.shiftAndExecuteNext(g)},b.appendExecutor=function(g,m){var h=this.operationQueue,x=this.sourceBuffer[m];if(!x)return i.logger.warn("[buffer-controller]: Attempting to append to the "+m+" SourceBuffer, but it does not exist"),void h.shiftAndExecuteNext(m);x.ended=!1,console.assert(!x.updating,m+" sourceBuffer must not be updating"),x.appendBuffer(g)},b.blockBuffers=function(g,m){var h=this;if(m===void 0&&(m=this.getSourceBufferTypes()),!m.length)return i.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(g);var x=this.operationQueue,y=m.map(function(p){return x.appendBlocker(p)});Promise.all(y).then(function(){g(),m.forEach(function(p){var C=h.sourceBuffer[p];C&&C.updating||x.shiftAndExecuteNext(p)})})},b.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},b.addBufferListener=function(g,m,h){var x=this.sourceBuffer[g];if(x){var y=h.bind(this,g);this.listeners[g].push({event:m,listener:y}),x.addEventListener(m,y)}},b.removeBufferListeners=function(g){var m=this.sourceBuffer[g];m&&this.listeners[g].forEach(function(h){m.removeEventListener(h.event,h.listener)})},v}()},"./src/controller/buffer-operation-queue.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return o});var n=r("./src/utils/logger.ts"),o=function(){function i(d){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=d}var a=i.prototype;return a.append=function(d,l){var s=this.queues[l];s.push(d),s.length===1&&this.buffers[l]&&this.executeNext(l)},a.insertAbort=function(d,l){this.queues[l].unshift(d),this.executeNext(l)},a.appendBlocker=function(d){var l,s=new Promise(function(u){l=u}),c={execute:l,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(c,d),s},a.executeNext=function(d){var l=this.buffers,s=this.queues,c=l[d],u=s[d];if(u.length){var f=u[0];try{f.execute()}catch(_){n.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),f.onError(_),c&&c.updating||(u.shift(),this.executeNext(d))}}},a.shiftAndExecuteNext=function(d){this.queues[d].shift(),this.executeNext(d)},a.current=function(d){return this.queues[d][0]},i}()},"./src/controller/cap-level-controller.ts":function(e,t,r){r.r(t);var n=r("./src/events.ts");function o(a,d){for(var l=0;l<d.length;l++){var s=d[l];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}}var i=function(){function a(u){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=u,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var d,l,s,c=a.prototype;return c.setStreamController=function(u){this.streamController=u},c.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},c.registerListeners=function(){var u=this.hls;u.on(n.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),u.on(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),u.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),u.on(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),u.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},c.unregisterListener=function(){var u=this.hls;u.off(n.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),u.off(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),u.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),u.off(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),u.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},c.onFpsDropLevelCapping=function(u,f){a.isLevelAllowed(f.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(f.droppedLevel)},c.onMediaAttaching=function(u,f){this.media=f.media instanceof HTMLVideoElement?f.media:null},c.onManifestParsed=function(u,f){var _=this.hls;this.restrictedLevels=[],this.firstLevel=f.firstLevel,_.config.capLevelToPlayerSize&&f.video&&this.startCapping()},c.onBufferCodecs=function(u,f){this.hls.config.capLevelToPlayerSize&&f.video&&this.startCapping()},c.onMediaDetaching=function(){this.stopCapping()},c.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var u=this.hls.levels;if(u.length){var f=this.hls;f.autoLevelCapping=this.getMaxLevel(u.length-1),f.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=f.autoLevelCapping}}},c.getMaxLevel=function(u){var f=this,_=this.hls.levels;if(!_.length)return-1;var v=_.filter(function(b,g){return a.isLevelAllowed(g,f.restrictedLevels)&&g<=u});return this.clientRect=null,a.getMaxLevelByMediaSize(v,this.mediaWidth,this.mediaHeight)},c.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},c.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},c.getDimensions=function(){if(this.clientRect)return this.clientRect;var u=this.media,f={width:0,height:0};if(u){var _=u.getBoundingClientRect();f.width=_.width,f.height=_.height,f.width||f.height||(f.width=_.right-_.left||u.width||0,f.height=_.bottom-_.top||u.height||0)}return this.clientRect=f,f},a.isLevelAllowed=function(u,f){return f===void 0&&(f=[]),f.indexOf(u)===-1},a.getMaxLevelByMediaSize=function(u,f,_){if(!u||!u.length)return-1;for(var v,b,g=u.length-1,m=0;m<u.length;m+=1){var h=u[m];if((h.width>=f||h.height>=_)&&(v=h,!(b=u[m+1])||v.width!==b.width||v.height!==b.height)){g=m;break}}return g},d=a,s=[{key:"contentScaleFactor",get:function(){var u=1;try{u=self.devicePixelRatio}catch{}return u}}],(l=[{key:"mediaWidth",get:function(){return this.getDimensions().width*a.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*a.contentScaleFactor}}])&&o(d.prototype,l),s&&o(d,s),a}();t.default=i},"./src/controller/eme-controller.ts":function(e,t,r){r.r(t);var n=r("./src/events.ts"),o=r("./src/errors.ts"),i=r("./src/utils/logger.ts"),a=r("./src/utils/mediakeys-helper.ts");function d(s,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(s,f.key,f)}}var l=function(){function s(_){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=_,this._config=_.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var c,u,f=s.prototype;return f.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},f._registerListeners=function(){this.hls.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this)},f._unregisterListeners=function(){this.hls.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this)},f.getLicenseServerUrl=function(_){switch(_){case a.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+_+'"')},f._attemptKeySystemAccess=function(_,v,b){var g=this,m=function(x,y,p,C){switch(x){case a.KeySystems.WIDEVINE:return function(S,w,A){var E={audioCapabilities:[],videoCapabilities:[]};return S.forEach(function(R){E.audioCapabilities.push({contentType:'audio/mp4; codecs="'+R+'"',robustness:A.audioRobustness||""})}),w.forEach(function(R){E.videoCapabilities.push({contentType:'video/mp4; codecs="'+R+'"',robustness:A.videoRobustness||""})}),[E]}(y,p,C);default:throw new Error("Unknown key-system: "+x)}}(_,v,b,this._drmSystemOptions);i.logger.log("Requesting encrypted media key-system access");var h=this.requestMediaKeySystemAccess(_,m);this.mediaKeysPromise=h.then(function(x){return g._onMediaKeySystemAccessObtained(_,x)}),h.catch(function(x){i.logger.error('Failed to obtain key-system "'+_+'" access:',x)})},f._onMediaKeySystemAccessObtained=function(_,v){var b=this;i.logger.log('Access for key-system "'+_+'" obtained');var g={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:v,mediaKeySystemDomain:_};this._mediaKeysList.push(g);var m=Promise.resolve().then(function(){return v.createMediaKeys()}).then(function(h){return g.mediaKeys=h,i.logger.log('Media-keys created for key-system "'+_+'"'),b._onMediaKeysCreated(),h});return m.catch(function(h){i.logger.error("Failed to create media-keys:",h)}),m},f._onMediaKeysCreated=function(){var _=this;this._mediaKeysList.forEach(function(v){v.mediaKeysSession||(v.mediaKeysSession=v.mediaKeys.createSession(),_._onNewMediaKeySession(v.mediaKeysSession))})},f._onNewMediaKeySession=function(_){var v=this;i.logger.log("New key-system session "+_.sessionId),_.addEventListener("message",function(b){v._onKeySessionMessage(_,b.message)},!1)},f._onKeySessionMessage=function(_,v){i.logger.log("Got EME message event, creating license request"),this._requestLicense(v,function(b){i.logger.log("Received license data (length: "+(b&&b.byteLength)+"), updating key-session"),_.update(b)})},f.onMediaEncrypted=function(_){var v=this;if(i.logger.log('Media is encrypted using "'+_.initDataType+'" init data type'),!this.mediaKeysPromise)return i.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var b=function(g){v._media&&(v._attemptSetMediaKeys(g),v._generateRequestWithPreferredKeySession(_.initDataType,_.initData))};this.mediaKeysPromise.then(b).catch(b)},f._attemptSetMediaKeys=function(_){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var v=this._mediaKeysList[0];if(!v||!v.mediaKeys)return i.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});i.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(v.mediaKeys),this._hasSetMediaKeys=!0}},f._generateRequestWithPreferredKeySession=function(_,v){var b=this,g=this._mediaKeysList[0];if(!g)return i.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(g.mediaKeysSessionInitialized)i.logger.warn("Key-Session already initialized but requested again");else{var m=g.mediaKeysSession;if(!m)return i.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!v)return i.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});i.logger.log('Generating key-session request for "'+_+'" init data type'),g.mediaKeysSessionInitialized=!0,m.generateRequest(_,v).then(function(){i.logger.debug("Key-session generation succeeded")}).catch(function(h){i.logger.error("Error generating key-session request:",h),b.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},f._createLicenseXhr=function(_,v,b){var g=new XMLHttpRequest;g.responseType="arraybuffer",g.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,g,_,v,b);var m=this._licenseXhrSetup;if(m)try{m.call(this.hls,g,_),m=void 0}catch(h){i.logger.error(h)}try{g.readyState||g.open("POST",_,!0),m&&m.call(this.hls,g,_)}catch(h){throw new Error("issue setting up KeySystem license XHR "+h)}return g},f._onLicenseRequestReadyStageChange=function(_,v,b,g){switch(_.readyState){case 4:if(_.status===200){this._requestLicenseFailureCount=0,i.logger.log("License request succeeded");var m=_.response,h=this._licenseResponseCallback;if(h)try{m=h.call(this.hls,_,v)}catch(y){i.logger.error(y)}g(m)}else{if(i.logger.error("License Request XHR failed ("+v+"). Status: "+_.status+" ("+_.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var x=3-this._requestLicenseFailureCount+1;i.logger.warn("Retrying license request, "+x+" attempts left"),this._requestLicense(b,g)}}},f._generateLicenseRequestChallenge=function(_,v){switch(_.mediaKeySystemDomain){case a.KeySystems.WIDEVINE:return v}throw new Error("unsupported key-system: "+_.mediaKeySystemDomain)},f._requestLicense=function(_,v){i.logger.log("Requesting content license for key-system");var b=this._mediaKeysList[0];if(!b)return i.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var g=this.getLicenseServerUrl(b.mediaKeySystemDomain),m=this._createLicenseXhr(g,_,v);i.logger.log("Sending license request to URL: "+g);var h=this._generateLicenseRequestChallenge(b,_);m.send(h)}catch(x){i.logger.error("Failure requesting DRM license: "+x),this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},f.onMediaAttached=function(_,v){if(this._emeEnabled){var b=v.media;this._media=b,b.addEventListener("encrypted",this._onMediaEncrypted)}},f.onMediaDetached=function(){var _=this._media,v=this._mediaKeysList;_&&(_.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(v.map(function(b){if(b.mediaKeysSession)return b.mediaKeysSession.close().catch(function(){})})).then(function(){return _.setMediaKeys(null)}).catch(function(){}))},f.onManifestParsed=function(_,v){if(this._emeEnabled){var b=v.levels.map(function(m){return m.audioCodec}).filter(function(m){return!!m}),g=v.levels.map(function(m){return m.videoCodec}).filter(function(m){return!!m});this._attemptKeySystemAccess(a.KeySystems.WIDEVINE,b,g)}},c=s,(u=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&d(c.prototype,u),s}();t.default=l},"./src/controller/fps-controller.ts":function(e,t,r){r.r(t);var n=r("./src/events.ts"),o=r("./src/utils/logger.ts"),i=function(){function a(l){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=l,this.registerListeners()}var d=a.prototype;return d.setStreamController=function(l){this.streamController=l},d.registerListeners=function(){this.hls.on(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},d.unregisterListeners=function(){this.hls.off(n.Events.MEDIA_ATTACHING,this.onMediaAttaching)},d.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},d.onMediaAttaching=function(l,s){var c=this.hls.config;if(c.capLevelOnFPSDrop){var u=s.media instanceof self.HTMLVideoElement?s.media:null;this.media=u,u&&typeof u.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),c.fpsDroppedMonitoringPeriod)}},d.checkFPS=function(l,s,c){var u=performance.now();if(s){if(this.lastTime){var f=u-this.lastTime,_=c-this.lastDroppedFrames,v=s-this.lastDecodedFrames,b=1e3*_/f,g=this.hls;if(g.trigger(n.Events.FPS_DROP,{currentDropped:_,currentDecoded:v,totalDroppedFrames:c}),b>0&&_>g.config.fpsDroppedMonitoringThreshold*v){var m=g.currentLevel;o.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+m),m>0&&(g.autoLevelCapping===-1||g.autoLevelCapping>=m)&&(m-=1,g.trigger(n.Events.FPS_DROP_LEVEL_CAPPING,{level:m,droppedLevel:g.currentLevel}),g.autoLevelCapping=m,this.streamController.nextLevelSwitch())}}this.lastTime=u,this.lastDroppedFrames=c,this.lastDecodedFrames=s}},d.checkFPSInterval=function(){var l=this.media;if(l)if(this.isVideoPlaybackQualityAvailable){var s=l.getVideoPlaybackQuality();this.checkFPS(l,s.totalVideoFrames,s.droppedVideoFrames)}else this.checkFPS(l,l.webkitDecodedFrameCount,l.webkitDroppedFrameCount)},a}();t.default=i},"./src/controller/fragment-finders.ts":function(e,t,r){r.r(t),r.d(t,"findFragmentByPDT",function(){return i}),r.d(t,"findFragmentByPTS",function(){return a}),r.d(t,"fragmentWithinToleranceTest",function(){return d}),r.d(t,"pdtWithinToleranceTest",function(){return l}),r.d(t,"findFragWithCC",function(){return s});var n=r("./src/polyfills/number.ts"),o=r("./src/utils/binary-search.ts");function i(c,u,f){if(u===null||!Array.isArray(c)||!c.length||!Object(n.isFiniteNumber)(u)||u<(c[0].programDateTime||0)||u>=(c[c.length-1].endProgramDateTime||0))return null;f=f||0;for(var _=0;_<c.length;++_){var v=c[_];if(l(u,f,v))return v}return null}function a(c,u,f,_){f===void 0&&(f=0),_===void 0&&(_=0);var v=null;if(c?v=u[c.sn-u[0].sn+1]||null:f===0&&u[0].start===0&&(v=u[0]),v&&d(f,_,v)===0)return v;var b=o.default.search(u,d.bind(null,f,_));return b||v}function d(c,u,f){c===void 0&&(c=0),u===void 0&&(u=0);var _=Math.min(u,f.duration+(f.deltaPTS?f.deltaPTS:0));return f.start+f.duration-_<=c?1:f.start-_>c&&f.start?-1:0}function l(c,u,f){var _=1e3*Math.min(u,f.duration+(f.deltaPTS?f.deltaPTS:0));return(f.endProgramDateTime||0)-_>c}function s(c,u){return o.default.search(c,function(f){return f.cc<u?1:f.cc>u?-1:0})}},"./src/controller/fragment-tracker.ts":function(e,t,r){r.r(t),r.d(t,"FragmentState",function(){return n}),r.d(t,"FragmentTracker",function(){return d});var n,o,i=r("./src/events.ts"),a=r("./src/types/loader.ts");(o=n||(n={})).NOT_LOADED="NOT_LOADED",o.BACKTRACKED="BACKTRACKED",o.APPENDING="APPENDING",o.PARTIAL="PARTIAL",o.OK="OK";var d=function(){function c(f){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=f,this._registerListeners()}var u=c.prototype;return u._registerListeners=function(){var f=this.hls;f.on(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),f.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),f.on(i.Events.FRAG_LOADED,this.onFragLoaded,this)},u._unregisterListeners=function(){var f=this.hls;f.off(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),f.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),f.off(i.Events.FRAG_LOADED,this.onFragLoaded,this)},u.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},u.getAppendedFrag=function(f,_){if(_===a.PlaylistLevelType.MAIN){var v=this.activeFragment,b=this.activeParts;if(!v)return null;if(b)for(var g=b.length;g--;){var m=b[g],h=m?m.end:v.appendedPTS;if(m.start<=f&&h!==void 0&&f<=h)return g>9&&(this.activeParts=b.slice(g-9)),m}else if(v.start<=f&&v.appendedPTS!==void 0&&f<=v.appendedPTS)return v}return this.getBufferedFrag(f,_)},u.getBufferedFrag=function(f,_){for(var v=this.fragments,b=Object.keys(v),g=b.length;g--;){var m=v[b[g]];if((m==null?void 0:m.body.type)===_&&m.buffered){var h=m.body;if(h.start<=f&&f<=h.end)return h}}return null},u.detectEvictedFragments=function(f,_,v){var b=this;Object.keys(this.fragments).forEach(function(g){var m=b.fragments[g];if(m)if(m.buffered){var h=m.range[f];h&&h.time.some(function(x){var y=!b.isTimeBuffered(x.startPTS,x.endPTS,_);return y&&b.removeFragment(m.body),y})}else m.body.type===v&&b.removeFragment(m.body)})},u.detectPartialFragments=function(f){var _=this,v=this.timeRanges,b=f.frag,g=f.part;if(v&&b.sn!=="initSegment"){var m=s(b),h=this.fragments[m];h&&(Object.keys(v).forEach(function(x){var y=b.elementaryStreams[x];if(y){var p=v[x],C=g!==null||y.partial===!0;h.range[x]=_.getBufferedTimes(b,g,C,p)}}),h.backtrack=h.loaded=null,Object.keys(h.range).length?h.buffered=!0:this.removeFragment(h.body))}},u.fragBuffered=function(f){var _=s(f),v=this.fragments[_];v&&(v.backtrack=v.loaded=null,v.buffered=!0)},u.getBufferedTimes=function(f,_,v,b){for(var g={time:[],partial:v},m=_?_.start:f.start,h=_?_.end:f.end,x=f.minEndPTS||h,y=f.maxStartPTS||m,p=0;p<b.length;p++){var C=b.start(p)-this.bufferPadding,S=b.end(p)+this.bufferPadding;if(y>=C&&x<=S){g.time.push({startPTS:Math.max(m,b.start(p)),endPTS:Math.min(h,b.end(p))});break}if(m<S&&h>C)g.partial=!0,g.time.push({startPTS:Math.max(m,b.start(p)),endPTS:Math.min(h,b.end(p))});else if(h<=C)break}return g},u.getPartialFragment=function(f){var _,v,b,g=null,m=0,h=this.bufferPadding,x=this.fragments;return Object.keys(x).forEach(function(y){var p=x[y];p&&l(p)&&(v=p.body.start-h,b=p.body.end+h,f>=v&&f<=b&&(_=Math.min(f-v,b-f),m<=_&&(g=p.body,m=_)))}),g},u.getState=function(f){var _=s(f),v=this.fragments[_];return v?v.buffered?l(v)?n.PARTIAL:n.OK:v.backtrack?n.BACKTRACKED:n.APPENDING:n.NOT_LOADED},u.backtrack=function(f,_){var v=s(f),b=this.fragments[v];if(!b||b.backtrack)return null;var g=b.backtrack=_||b.loaded;return b.loaded=null,g},u.getBacktrackData=function(f){var _=s(f),v=this.fragments[_];if(v){var b,g=v.backtrack;if(g!=null&&(b=g.payload)!==null&&b!==void 0&&b.byteLength)return g;this.removeFragment(f)}return null},u.isTimeBuffered=function(f,_,v){for(var b,g,m=0;m<v.length;m++){if(b=v.start(m)-this.bufferPadding,g=v.end(m)+this.bufferPadding,f>=b&&_<=g)return!0;if(_<=b)return!1}return!1},u.onFragLoaded=function(f,_){var v=_.frag,b=_.part;if(v.sn!=="initSegment"&&!v.bitrateTest&&!b){var g=s(v);this.fragments[g]={body:v,loaded:_,backtrack:null,buffered:!1,range:Object.create(null)}}},u.onBufferAppended=function(f,_){var v=this,b=_.frag,g=_.part,m=_.timeRanges;if(b.type===a.PlaylistLevelType.MAIN)if(this.activeFragment=b,g){var h=this.activeParts;h||(this.activeParts=h=[]),h.push(g)}else this.activeParts=null;this.timeRanges=m,Object.keys(m).forEach(function(x){var y=m[x];if(v.detectEvictedFragments(x,y),!g)for(var p=0;p<y.length;p++)b.appendedPTS=Math.max(y.end(p),b.appendedPTS||0)})},u.onFragBuffered=function(f,_){this.detectPartialFragments(_)},u.hasFragment=function(f){var _=s(f);return!!this.fragments[_]},u.removeFragmentsInRange=function(f,_,v){var b=this;Object.keys(this.fragments).forEach(function(g){var m=b.fragments[g];if(m&&m.buffered){var h=m.body;h.type===v&&h.start<_&&h.end>f&&b.removeFragment(h)}})},u.removeFragment=function(f){var _=s(f);f.stats.loaded=0,f.clearElementaryStreamInfo(),delete this.fragments[_]},u.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},c}();function l(c){var u,f;return c.buffered&&(((u=c.range.video)===null||u===void 0?void 0:u.partial)||((f=c.range.audio)===null||f===void 0?void 0:f.partial))}function s(c){return c.type+"_"+c.level+"_"+c.urlId+"_"+c.sn}},"./src/controller/gap-controller.ts":function(e,t,r){r.r(t),r.d(t,"STALL_MINIMUM_DURATION_MS",function(){return d}),r.d(t,"MAX_START_GAP_JUMP",function(){return l}),r.d(t,"SKIP_BUFFER_HOLE_STEP_SECONDS",function(){return s}),r.d(t,"SKIP_BUFFER_RANGE_START",function(){return c}),r.d(t,"default",function(){return u});var n=r("./src/utils/buffer-helper.ts"),o=r("./src/errors.ts"),i=r("./src/events.ts"),a=r("./src/utils/logger.ts"),d=250,l=2,s=.1,c=.05,u=function(){function f(v,b,g,m){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=v,this.media=b,this.fragmentTracker=g,this.hls=m}var _=f.prototype;return _.destroy=function(){this.hls=this.fragmentTracker=this.media=null},_.poll=function(v){var b=this.config,g=this.media,m=this.stalled,h=g.currentTime,x=g.seeking,y=this.seeking&&!x,p=!this.seeking&&x;if(this.seeking=x,h===v){if((p||y)&&(this.stalled=null),!g.paused&&!g.ended&&g.playbackRate!==0&&n.BufferHelper.getBuffered(g).length){var C=n.BufferHelper.bufferInfo(g,h,0),S=C.len>0,w=C.nextStart||0;if(S||w){if(x){var A=C.len>l,E=!w||w-h>l&&!this.fragmentTracker.getPartialFragment(h);if(A||E)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var R,T=Math.max(w,C.start||0)-h,L=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,P=!(L==null||(R=L.details)===null||R===void 0)&&R.live?2*L.details.targetduration:l;if(T>0&&T<=P)return void this._trySkipBufferHole(null)}var k=self.performance.now();if(m!==null){var D=k-m;!x&&D>=d&&this._reportStall(C.len);var O=n.BufferHelper.bufferInfo(g,h,b.maxBufferHole);this._tryFixBufferStall(O,D)}else this.stalled=k}}}else if(this.moved=!0,m!==null){if(this.stallReported){var M=self.performance.now()-m;a.logger.warn("playback not stuck anymore @"+h+", after "+Math.round(M)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},_._tryFixBufferStall=function(v,b){var g=this.config,m=this.fragmentTracker,h=this.media.currentTime,x=m.getPartialFragment(h);x&&this._trySkipBufferHole(x)||v.len>g.maxBufferHole&&b>1e3*g.highBufferWatchdogPeriod&&(a.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},_._reportStall=function(v){var b=this.hls,g=this.media;this.stallReported||(this.stallReported=!0,a.logger.warn("Playback stalling at @"+g.currentTime+" due to low buffer (buffer="+v+")"),b.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:v}))},_._trySkipBufferHole=function(v){for(var b=this.config,g=this.hls,m=this.media,h=m.currentTime,x=0,y=n.BufferHelper.getBuffered(m),p=0;p<y.length;p++){var C=y.start(p);if(h+b.maxBufferHole>=x&&h<C){var S=Math.max(C+c,m.currentTime+s);return a.logger.warn("skipping hole, adjusting currentTime from "+h+" to "+S),this.moved=!0,this.stalled=null,m.currentTime=S,v&&g.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+h+" to "+S,frag:v}),S}x=y.end(p)}return 0},_._tryNudgeBuffer=function(){var v=this.config,b=this.hls,g=this.media,m=g.currentTime,h=(this.nudgeRetry||0)+1;if(this.nudgeRetry=h,h<v.nudgeMaxRetry){var x=m+h*v.nudgeOffset;a.logger.warn("Nudging 'currentTime' from "+m+" to "+x),g.currentTime=x,b.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else a.logger.error("Playhead still not moving while enough data buffered @"+m+" after "+v.nudgeMaxRetry+" nudges"),b.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},f}()},"./src/controller/id3-track-controller.ts":function(e,t,r){r.r(t);var n=r("./src/events.ts"),o=r("./src/utils/texttrack-utils.ts"),i=r("./src/demux/id3.ts"),a=function(){function d(s){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=s,this._registerListeners()}var l=d.prototype;return l.destroy=function(){this._unregisterListeners()},l._registerListeners=function(){var s=this.hls;s.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),s.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.on(n.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),s.on(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},l._unregisterListeners=function(){var s=this.hls;s.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),s.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),s.off(n.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),s.off(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},l.onMediaAttached=function(s,c){this.media=c.media},l.onMediaDetaching=function(){this.id3Track&&(Object(o.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null)},l.getID3Track=function(s){if(this.media){for(var c=0;c<s.length;c++){var u=s[c];if(u.kind==="metadata"&&u.label==="id3")return Object(o.sendAddTrackEvent)(u,this.media),u}return this.media.addTextTrack("metadata","id3")}},l.onFragParsingMetadata=function(s,c){if(this.media){var u=c.frag,f=c.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var _=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,v=0;v<f.length;v++){var b=i.getID3Frames(f[v].data);if(b){var g=f[v].pts,m=v<f.length-1?f[v+1].pts:u.end;m-g<=0&&(m=g+.25);for(var h=0;h<b.length;h++){var x=b[h];if(!i.isTimeStampFrame(x)){var y=new _(g,m,"");y.value=x,this.id3Track.addCue(y)}}}}}},l.onBufferFlushing=function(s,c){var u=c.startOffset,f=c.endOffset,_=c.type;if(!_||_==="audio"){var v=this.id3Track;v&&Object(o.removeCuesInRange)(v,u,f)}},d}();t.default=a},"./src/controller/latency-controller.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return d});var n=r("./src/errors.ts"),o=r("./src/events.ts"),i=r("./src/utils/logger.ts");function a(l,s){for(var c=0;c<s.length;c++){var u=s[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}var d=function(){function l(f){var _=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return _.timeupdate()},this.hls=f,this.config=f.config,this.registerListeners()}var s,c,u=l.prototype;return u.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},u.registerListeners=function(){this.hls.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(o.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(o.Events.ERROR,this.onError,this)},u.unregisterListeners=function(){this.hls.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(o.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(o.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(o.Events.ERROR,this.onError)},u.onMediaAttached=function(f,_){this.media=_.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},u.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},u.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},u.onLevelUpdated=function(f,_){var v=_.details;this.levelDetails=v,v.advanced&&this.timeupdate(),!v.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},u.onError=function(f,_){_.details===n.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,i.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},u.timeupdate=function(){var f=this.media,_=this.levelDetails;if(f&&_){this.currentTime=f.currentTime;var v=this.computeLatency();if(v!==null){this._latency=v;var b=this.config,g=b.lowLatencyMode,m=b.maxLiveSyncPlaybackRate;if(g&&m!==1){var h=this.targetLatency;if(h!==null){var x=v-h,y=x<Math.min(this.maxLatency,h+_.targetduration);if(_.live&&y&&x>.05&&this.forwardBufferLength>1){var p=Math.min(2,Math.max(1,m)),C=Math.round(2/(1+Math.exp(-.75*x-this.edgeStalled))*20)/20;f.playbackRate=Math.min(p,Math.max(1,C))}else f.playbackRate!==1&&f.playbackRate!==0&&(f.playbackRate=1)}}}}},u.estimateLiveEdge=function(){var f=this.levelDetails;return f===null?null:f.edge+f.age},u.computeLatency=function(){var f=this.estimateLiveEdge();return f===null?null:f-this.currentTime},s=l,(c=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var f=this.config,_=this.levelDetails;return f.liveMaxLatencyDuration!==void 0?f.liveMaxLatencyDuration:_?f.liveMaxLatencyDurationCount*_.targetduration:0}},{key:"targetLatency",get:function(){var f=this.levelDetails;if(f===null)return null;var _=f.holdBack,v=f.partHoldBack,b=f.targetduration,g=this.config,m=g.liveSyncDuration,h=g.liveSyncDurationCount,x=g.lowLatencyMode,y=this.hls.userConfig,p=x&&v||_;(y.liveSyncDuration||y.liveSyncDurationCount||p===0)&&(p=m!==void 0?m:h*b);var C=b;return p+Math.min(1*this.stallCount,C)}},{key:"liveSyncPosition",get:function(){var f=this.estimateLiveEdge(),_=this.targetLatency,v=this.levelDetails;if(f===null||_===null||v===null)return null;var b=v.edge,g=f-_-this.edgeStalled,m=b-v.totalduration,h=b-(this.config.lowLatencyMode&&v.partTarget||v.targetduration);return Math.min(Math.max(m,g),h)}},{key:"drift",get:function(){var f=this.levelDetails;return f===null?1:f.drift}},{key:"edgeStalled",get:function(){var f=this.levelDetails;if(f===null)return 0;var _=3*(this.config.lowLatencyMode&&f.partTarget||f.targetduration);return Math.max(f.age-_,0)}},{key:"forwardBufferLength",get:function(){var f=this.media,_=this.levelDetails;if(!f||!_)return 0;var v=f.buffered.length;return v?f.buffered.end(v-1):_.edge-this.currentTime}}])&&a(s.prototype,c),l}()},"./src/controller/level-controller.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return v});var n=r("./src/types/level.ts"),o=r("./src/events.ts"),i=r("./src/errors.ts"),a=r("./src/utils/codecs.ts"),d=r("./src/controller/level-helper.ts"),l=r("./src/controller/base-playlist-controller.ts"),s=r("./src/types/loader.ts");function c(){return(c=Object.assign||function(b){for(var g=1;g<arguments.length;g++){var m=arguments[g];for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(b[h]=m[h])}return b}).apply(this,arguments)}function u(b,g){for(var m=0;m<g.length;m++){var h=g[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(b,h.key,h)}}function f(b,g){return(f=Object.setPrototypeOf||function(m,h){return m.__proto__=h,m})(b,g)}var _=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),v=function(b){var g,m;function h(C){var S;return(S=b.call(this,C,"[level-controller]")||this)._levels=[],S._firstLevel=-1,S._startLevel=void 0,S.currentLevelIndex=-1,S.manualLevelIndex=-1,S.onParsedComplete=void 0,S._registerListeners(),S}m=b,(g=h).prototype=Object.create(m.prototype),g.prototype.constructor=g,f(g,m);var x,y,p=h.prototype;return p._registerListeners=function(){var C=this.hls;C.on(o.Events.MANIFEST_LOADED,this.onManifestLoaded,this),C.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),C.on(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),C.on(o.Events.FRAG_LOADED,this.onFragLoaded,this),C.on(o.Events.ERROR,this.onError,this)},p._unregisterListeners=function(){var C=this.hls;C.off(o.Events.MANIFEST_LOADED,this.onManifestLoaded,this),C.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),C.off(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),C.off(o.Events.FRAG_LOADED,this.onFragLoaded,this),C.off(o.Events.ERROR,this.onError,this)},p.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,b.prototype.destroy.call(this)},p.startLoad=function(){this._levels.forEach(function(C){C.loadError=0}),b.prototype.startLoad.call(this)},p.onManifestLoaded=function(C,S){var w,A,E=[],R=[],T=[],L={},P=!1,k=!1,D=!1;if(S.levels.forEach(function(N){var U=N.attrs;P=P||!(!N.width||!N.height),k=k||!!N.videoCodec,D=D||!!N.audioCodec,_&&N.audioCodec&&N.audioCodec.indexOf("mp4a.40.34")!==-1&&(N.audioCodec=void 0);var G=N.bitrate+"-"+N.attrs.RESOLUTION+"-"+N.attrs.CODECS;(A=L[G])?A.url.push(N.url):(A=new n.Level(N),L[G]=A,E.push(A)),U&&(U.AUDIO&&Object(d.addGroupId)(A,"audio",U.AUDIO),U.SUBTITLES&&Object(d.addGroupId)(A,"text",U.SUBTITLES))}),(P||k)&&D&&(E=E.filter(function(N){var U=N.videoCodec,G=N.width,H=N.height;return!!U||!(!G||!H)})),E=E.filter(function(N){var U=N.audioCodec,G=N.videoCodec;return(!U||Object(a.isCodecSupportedInMp4)(U,"audio"))&&(!G||Object(a.isCodecSupportedInMp4)(G,"video"))}),S.audioTracks&&(R=S.audioTracks.filter(function(N){return!N.audioCodec||Object(a.isCodecSupportedInMp4)(N.audioCodec,"audio")}),Object(d.assignTrackIdsByGroup)(R)),S.subtitles&&(T=S.subtitles,Object(d.assignTrackIdsByGroup)(T)),E.length>0){w=E[0].bitrate,E.sort(function(N,U){return N.bitrate-U.bitrate}),this._levels=E;for(var O=0;O<E.length;O++)if(E[O].bitrate===w){this._firstLevel=O,this.log("manifest loaded, "+E.length+" level(s) found, first bitrate: "+w);break}var M=D&&!k,F={levels:E,audioTracks:R,subtitleTracks:T,firstLevel:this._firstLevel,stats:S.stats,audio:D,video:k,altAudio:!M&&R.some(function(N){return!!N.url})};this.hls.trigger(o.Events.MANIFEST_PARSED,F),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:S.url,reason:"no level with compatible codecs found in manifest"})},p.onError=function(C,S){if(b.prototype.onError.call(this,C,S),!S.fatal){var w=S.context,A=this._levels[this.currentLevelIndex];if(w&&(w.type===s.PlaylistContextType.AUDIO_TRACK&&A.audioGroupIds&&w.groupId===A.audioGroupIds[A.urlId]||w.type===s.PlaylistContextType.SUBTITLE_TRACK&&A.textGroupIds&&w.groupId===A.textGroupIds[A.urlId]))this.redundantFailover(this.currentLevelIndex);else{var E,R=!1,T=!0;switch(S.details){case i.ErrorDetails.FRAG_LOAD_ERROR:case i.ErrorDetails.FRAG_LOAD_TIMEOUT:case i.ErrorDetails.KEY_LOAD_ERROR:case i.ErrorDetails.KEY_LOAD_TIMEOUT:if(S.frag){var L=this._levels[S.frag.level];L?(L.fragmentError++,L.fragmentError>this.hls.config.fragLoadingMaxRetry&&(E=S.frag.level)):E=S.frag.level}break;case i.ErrorDetails.LEVEL_LOAD_ERROR:case i.ErrorDetails.LEVEL_LOAD_TIMEOUT:w&&(w.deliveryDirectives&&(T=!1),E=w.level),R=!0;break;case i.ErrorDetails.REMUX_ALLOC_ERROR:E=S.level,R=!0}E!==void 0&&this.recoverLevel(S,E,R,T)}}},p.recoverLevel=function(C,S,w,A){var E=C.details,R=this._levels[S];if(R.loadError++,w){if(!this.retryLoadingOrFail(C))return void(this.currentLevelIndex=-1);C.levelRetry=!0}if(A){var T=R.url.length;if(T>1&&R.loadError<T)C.levelRetry=!0,this.redundantFailover(S);else if(this.manualLevelIndex===-1){var L=S===0?this._levels.length-1:S-1;this.currentLevelIndex!==L&&this._levels[L].loadError===0&&(this.warn(E+": switch to "+L),C.levelRetry=!0,this.hls.nextAutoLevel=L)}}},p.redundantFailover=function(C){var S=this._levels[C],w=S.url.length;if(w>1){var A=(S.urlId+1)%w;this.warn("Switching to redundant URL-id "+A),this._levels.forEach(function(E){E.urlId=A}),this.level=C}},p.onFragLoaded=function(C,S){var w=S.frag;if(w!==void 0&&w.type===s.PlaylistLevelType.MAIN){var A=this._levels[w.level];A!==void 0&&(A.fragmentError=0,A.loadError=0)}},p.onLevelLoaded=function(C,S){var w,A,E=S.level,R=S.details,T=this._levels[E];if(!T)return this.warn("Invalid level index "+E),void((A=S.deliveryDirectives)!==null&&A!==void 0&&A.skip&&(R.deltaUpdateFailed=!0));E===this.currentLevelIndex?(T.fragmentError===0&&(T.loadError=0,this.retryCount=0),this.playlistLoaded(E,S,T.details)):(w=S.deliveryDirectives)!==null&&w!==void 0&&w.skip&&(R.deltaUpdateFailed=!0)},p.onAudioTrackSwitched=function(C,S){var w=this.hls.levels[this.currentLevelIndex];if(w&&w.audioGroupIds){for(var A=-1,E=this.hls.audioTracks[S.id].groupId,R=0;R<w.audioGroupIds.length;R++)if(w.audioGroupIds[R]===E){A=R;break}A!==w.urlId&&(w.urlId=A,this.startLoad())}},p.loadPlaylist=function(C){var S=this.currentLevelIndex,w=this._levels[S];if(this.canLoad&&w&&w.url.length>0){var A=w.urlId,E=w.url[A];if(C)try{E=C.addDirectives(E)}catch(R){this.warn("Could not construct new URL with HLS Delivery Directives: "+R)}this.log("Attempt loading level index "+S+(C?" at sn "+C.msn+" part "+C.part:"")+" with URL-id "+A+" "+E),this.clearTimer(),this.hls.trigger(o.Events.LEVEL_LOADING,{url:E,level:S,id:A,deliveryDirectives:C||null})}},p.removeLevel=function(C,S){var w=function(E,R){return R!==S},A=this._levels.filter(function(E,R){return R!==C||E.url.length>1&&S!==void 0&&(E.url=E.url.filter(w),E.audioGroupIds&&(E.audioGroupIds=E.audioGroupIds.filter(w)),E.textGroupIds&&(E.textGroupIds=E.textGroupIds.filter(w)),E.urlId=0,!0)}).map(function(E,R){var T=E.details;return T!=null&&T.fragments&&T.fragments.forEach(function(L){L.level=R}),E});this._levels=A,this.hls.trigger(o.Events.LEVELS_UPDATED,{levels:A})},x=h,(y=[{key:"levels",get:function(){return this._levels.length===0?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(C){var S,w=this._levels;if(w.length!==0&&(this.currentLevelIndex!==C||(S=w[C])===null||S===void 0||!S.details)){if(C<0||C>=w.length){var A=C<0;if(this.hls.trigger(o.Events.ERROR,{type:i.ErrorTypes.OTHER_ERROR,details:i.ErrorDetails.LEVEL_SWITCH_ERROR,level:C,fatal:A,reason:"invalid level idx"}),A)return;C=Math.min(C,w.length-1)}this.clearTimer();var E=this.currentLevelIndex,R=w[E],T=w[C];this.log("switching to level "+C+" from "+E),this.currentLevelIndex=C;var L=c({},T,{level:C,maxBitrate:T.maxBitrate,uri:T.uri,urlId:T.urlId});delete L._urlId,this.hls.trigger(o.Events.LEVEL_SWITCHING,L);var P=T.details;if(!P||P.live){var k=this.switchParams(T.uri,R==null?void 0:R.details);this.loadPlaylist(k)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(C){this.manualLevelIndex=C,this._startLevel===void 0&&(this._startLevel=C),C!==-1&&(this.level=C)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(C){this._firstLevel=C}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var C=this.hls.config.startLevel;return C!==void 0?C:this._firstLevel}return this._startLevel},set:function(C){this._startLevel=C}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(C){this.level=C,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=C)}}])&&u(x.prototype,y),h}(l.default)},"./src/controller/level-helper.ts":function(e,t,r){r.r(t),r.d(t,"addGroupId",function(){return i}),r.d(t,"assignTrackIdsByGroup",function(){return a}),r.d(t,"updatePTS",function(){return d}),r.d(t,"updateFragPTSDTS",function(){return s}),r.d(t,"mergeDetails",function(){return c}),r.d(t,"mapPartIntersection",function(){return u}),r.d(t,"mapFragmentIntersection",function(){return f}),r.d(t,"adjustSliding",function(){return _}),r.d(t,"addSliding",function(){return v}),r.d(t,"computeReloadInterval",function(){return b}),r.d(t,"getFragmentWithSN",function(){return g}),r.d(t,"getPartWith",function(){return m});var n=r("./src/polyfills/number.ts"),o=r("./src/utils/logger.ts");function i(h,x,y){switch(x){case"audio":h.audioGroupIds||(h.audioGroupIds=[]),h.audioGroupIds.push(y);break;case"text":h.textGroupIds||(h.textGroupIds=[]),h.textGroupIds.push(y)}}function a(h){var x={};h.forEach(function(y){var p=y.groupId||"";y.id=x[p]=x[p]||0,x[p]++})}function d(h,x,y){l(h[x],h[y])}function l(h,x){var y=x.startPTS;if(Object(n.isFiniteNumber)(y)){var p,C=0;x.sn>h.sn?(C=y-h.start,p=h):(C=h.start-y,p=x),p.duration!==C&&(p.duration=C)}else x.sn>h.sn?h.cc===x.cc&&h.minEndPTS?x.start=h.start+(h.minEndPTS-h.start):x.start=h.start+h.duration:x.start=Math.max(h.start-x.duration,0)}function s(h,x,y,p,C,S){p-y<=0&&(o.logger.warn("Fragment should have a positive duration",x),p=y+x.duration,S=C+x.duration);var w=y,A=p,E=x.startPTS,R=x.endPTS;if(Object(n.isFiniteNumber)(E)){var T=Math.abs(E-y);Object(n.isFiniteNumber)(x.deltaPTS)?x.deltaPTS=Math.max(T,x.deltaPTS):x.deltaPTS=T,w=Math.max(y,E),y=Math.min(y,E),C=Math.min(C,x.startDTS),A=Math.min(p,R),p=Math.max(p,R),S=Math.max(S,x.endDTS)}x.duration=p-y;var L=y-x.start;x.appendedPTS=p,x.start=x.startPTS=y,x.maxStartPTS=w,x.startDTS=C,x.endPTS=p,x.minEndPTS=A,x.endDTS=S;var P,k=x.sn;if(!h||k<h.startSN||k>h.endSN)return 0;var D=k-h.startSN,O=h.fragments;for(O[D]=x,P=D;P>0;P--)l(O[P],O[P-1]);for(P=D;P<O.length-1;P++)l(O[P],O[P+1]);return h.fragmentHint&&l(O[O.length-1],h.fragmentHint),h.PTSKnown=h.alignedSliding=!0,L}function c(h,x){for(var y=null,p=h.fragments,C=p.length-1;C>=0;C--){var S=p[C].initSegment;if(S){y=S;break}}h.fragmentHint&&delete h.fragmentHint.endPTS;var w,A=0;if(f(h,x,function(k,D){var O;k.relurl&&(A=k.cc-D.cc),Object(n.isFiniteNumber)(k.startPTS)&&Object(n.isFiniteNumber)(k.endPTS)&&(D.start=D.startPTS=k.startPTS,D.startDTS=k.startDTS,D.appendedPTS=k.appendedPTS,D.maxStartPTS=k.maxStartPTS,D.endPTS=k.endPTS,D.endDTS=k.endDTS,D.minEndPTS=k.minEndPTS,D.duration=k.endPTS-k.startPTS,D.duration&&(w=D),x.PTSKnown=x.alignedSliding=!0),D.elementaryStreams=k.elementaryStreams,D.loader=k.loader,D.stats=k.stats,D.urlId=k.urlId,k.initSegment?(D.initSegment=k.initSegment,y=k.initSegment):D.initSegment&&D.initSegment.relurl!=((O=y)===null||O===void 0?void 0:O.relurl)||(D.initSegment=y)}),x.skippedSegments&&(x.deltaUpdateFailed=x.fragments.some(function(k){return!k}),x.deltaUpdateFailed)){o.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var E=x.skippedSegments;E--;)x.fragments.shift();x.startSN=x.fragments[0].sn,x.startCC=x.fragments[0].cc}var R=x.fragments;if(A){o.logger.warn("discontinuity sliding from playlist, take drift into account");for(var T=0;T<R.length;T++)R[T].cc+=A}x.skippedSegments&&(x.startCC=x.fragments[0].cc),u(h.partList,x.partList,function(k,D){D.elementaryStreams=k.elementaryStreams,D.stats=k.stats}),w?s(x,w,w.startPTS,w.endPTS,w.startDTS,w.endDTS):_(h,x),R.length&&(x.totalduration=x.edge-R[0].start),x.driftStartTime=h.driftStartTime,x.driftStart=h.driftStart;var L=x.advancedDateTime;if(x.advanced&&L){var P=x.edge;x.driftStart||(x.driftStartTime=L,x.driftStart=P),x.driftEndTime=L,x.driftEnd=P}else x.driftEndTime=h.driftEndTime,x.driftEnd=h.driftEnd,x.advancedDateTime=h.advancedDateTime}function u(h,x,y){if(h&&x)for(var p=0,C=0,S=h.length;C<=S;C++){var w=h[C],A=x[C+p];w&&A&&w.index===A.index&&w.fragment.sn===A.fragment.sn?y(w,A):p--}}function f(h,x,y){for(var p=x.skippedSegments,C=Math.max(h.startSN,x.startSN)-x.startSN,S=(h.fragmentHint?1:0)+(p?x.endSN:Math.min(h.endSN,x.endSN))-x.startSN,w=x.startSN-h.startSN,A=x.fragmentHint?x.fragments.concat(x.fragmentHint):x.fragments,E=h.fragmentHint?h.fragments.concat(h.fragmentHint):h.fragments,R=C;R<=S;R++){var T=E[w+R],L=A[R];p&&!L&&R<p&&(L=x.fragments[R]=T),T&&L&&y(T,L)}}function _(h,x){var y=x.startSN+x.skippedSegments-h.startSN,p=h.fragments;y<0||y>=p.length||v(x,p[y].start)}function v(h,x){if(x){for(var y=h.fragments,p=h.skippedSegments;p<y.length;p++)y[p].start+=x;h.fragmentHint&&(h.fragmentHint.start+=x)}}function b(h,x){var y,p=1e3*h.levelTargetDuration,C=p/2,S=h.age,w=S>0&&S<3*p,A=x.loading.end-x.loading.start,E=h.availabilityDelay;if(h.updated===!1)if(w){var R=333*h.misses;y=Math.max(Math.min(C,2*A),R),h.availabilityDelay=(h.availabilityDelay||0)+y}else y=C;else w?(E=Math.min(E||p/2,S),h.availabilityDelay=E,y=E+p-S):y=p-A;return Math.round(y)}function g(h,x,y){if(!h||!h.details)return null;var p=h.details,C=p.fragments[x-p.startSN];return C||((C=p.fragmentHint)&&C.sn===x?C:x<p.startSN&&y&&y.sn===x?y:null)}function m(h,x,y){if(!h||!h.details)return null;var p=h.details.partList;if(p)for(var C=p.length;C--;){var S=p[C];if(S.index===y&&S.fragment.sn===x)return S}return null}},"./src/controller/stream-controller.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return h});var n=r("./src/polyfills/number.ts"),o=r("./src/controller/base-stream-controller.ts"),i=r("./src/is-supported.ts"),a=r("./src/events.ts"),d=r("./src/utils/buffer-helper.ts"),l=r("./src/controller/fragment-tracker.ts"),s=r("./src/types/loader.ts"),c=r("./src/loader/fragment.ts"),u=r("./src/demux/transmuxer-interface.ts"),f=r("./src/types/transmuxer.ts"),_=r("./src/controller/gap-controller.ts"),v=r("./src/errors.ts"),b=r("./src/utils/logger.ts");function g(x,y){for(var p=0;p<y.length;p++){var C=y[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(x,C.key,C)}}function m(x,y){return(m=Object.setPrototypeOf||function(p,C){return p.__proto__=C,p})(x,y)}var h=function(x){var y,p;function C(E,R){var T;return(T=x.call(this,E,R,"[stream-controller]")||this).audioCodecSwap=!1,T.gapController=null,T.level=-1,T._forceStartLoad=!1,T.altAudio=!1,T.audioOnly=!1,T.fragPlaying=null,T.onvplaying=null,T.onvseeked=null,T.fragLastKbps=0,T.stalled=!1,T.couldBacktrack=!1,T.audioCodecSwitch=!1,T.videoBuffer=null,T._registerListeners(),T}p=x,(y=C).prototype=Object.create(p.prototype),y.prototype.constructor=y,m(y,p);var S,w,A=C.prototype;return A._registerListeners=function(){var E=this.hls;E.on(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),E.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),E.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),E.on(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),E.on(a.Events.LEVEL_LOADING,this.onLevelLoading,this),E.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),E.on(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),E.on(a.Events.ERROR,this.onError,this),E.on(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),E.on(a.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),E.on(a.Events.BUFFER_CREATED,this.onBufferCreated,this),E.on(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),E.on(a.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),E.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},A._unregisterListeners=function(){var E=this.hls;E.off(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),E.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),E.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),E.off(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),E.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),E.off(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),E.off(a.Events.ERROR,this.onError,this),E.off(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),E.off(a.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),E.off(a.Events.BUFFER_CREATED,this.onBufferCreated,this),E.off(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),E.off(a.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),E.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},A.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},A.startLoad=function(E){if(this.levels){var R=this.lastCurrentTime,T=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var L=T.startLevel;L===-1&&(T.config.testBandwidth?(L=0,this.bitrateTest=!0):L=T.nextAutoLevel),this.level=T.nextLoadLevel=L,this.loadedmetadata=!1}R>0&&E===-1&&(this.log("Override startPosition with lastCurrentTime @"+R.toFixed(3)),E=R),this.state=o.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=E,this.tick()}else this._forceStartLoad=!0,this.state=o.State.STOPPED},A.stopLoad=function(){this._forceStartLoad=!1,x.prototype.stopLoad.call(this)},A.doTick=function(){switch(this.state){case o.State.IDLE:this.doTickIdle();break;case o.State.WAITING_LEVEL:var E,R=this.levels,T=this.level,L=R==null||(E=R[T])===null||E===void 0?void 0:E.details;if(L&&(!L.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(L))break;this.state=o.State.IDLE;break}break;case o.State.FRAG_LOADING_WAITING_RETRY:var P,k=self.performance.now(),D=this.retryDate;(!D||k>=D||(P=this.media)!==null&&P!==void 0&&P.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=o.State.IDLE)}this.onTickEnd()},A.onTickEnd=function(){x.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},A.doTickIdle=function(){var E,R,T=this.hls,L=this.levelLastLoaded,P=this.levels,k=this.media,D=T.config,O=T.nextLoadLevel;if(L!==null&&(k||!this.startFragRequested&&D.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&P&&P[O]){var M=P[O];this.level=T.nextLoadLevel=O;var F=M.details;if(!F||this.state===o.State.WAITING_LEVEL||F.live&&this.levelLastLoaded!==O)this.state=o.State.WAITING_LEVEL;else{var N=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:k,s.PlaylistLevelType.MAIN);if(N!==null&&!(N.len>=this.getMaxBufferLength(M.maxBitrate))){if(this._streamEnded(N,F)){var U={};return this.altAudio&&(U.type="video"),this.hls.trigger(a.Events.BUFFER_EOS,U),void(this.state=o.State.ENDED)}var G=N.end,H=this.getNextFragment(G,F);if(this.couldBacktrack&&!this.fragPrevious&&H&&H.sn!=="initSegment"){var Z=H.sn-F.startSN;Z>1&&(H=F.fragments[Z-1],this.fragmentTracker.removeFragment(H))}if(H&&this.fragmentTracker.getState(H)===l.FragmentState.OK&&this.nextLoadPosition>G){var de=this.audioOnly&&!this.altAudio?c.ElementaryStreamTypes.AUDIO:c.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(k,de,s.PlaylistLevelType.MAIN),H=this.getNextFragment(this.nextLoadPosition,F)}H&&(!H.initSegment||H.initSegment.data||this.bitrateTest||(H=H.initSegment),((E=H.decryptdata)===null||E===void 0?void 0:E.keyFormat)!=="identity"||(R=H.decryptdata)!==null&&R!==void 0&&R.key?this.loadFragment(H,F,G):this.loadKey(H,F))}}}},A.loadFragment=function(E,R,T){var L,P=this.fragmentTracker.getState(E);if(this.fragCurrent=E,P===l.FragmentState.BACKTRACKED){var k=this.fragmentTracker.getBacktrackData(E);if(k)return this._handleFragmentLoadProgress(k),void this._handleFragmentLoadComplete(k);P=l.FragmentState.NOT_LOADED}P===l.FragmentState.NOT_LOADED||P===l.FragmentState.PARTIAL?E.sn==="initSegment"?this._loadInitSegment(E):this.bitrateTest?(E.bitrateTest=!0,this.log("Fragment "+E.sn+" of level "+E.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(E)):(this.startFragRequested=!0,x.prototype.loadFragment.call(this,E,R,T)):P===l.FragmentState.APPENDING?this.reduceMaxBufferLength(E.duration)&&this.fragmentTracker.removeFragment(E):((L=this.media)===null||L===void 0?void 0:L.buffered.length)===0&&this.fragmentTracker.removeAllFragments()},A.getAppendedFrag=function(E){var R=this.fragmentTracker.getAppendedFrag(E,s.PlaylistLevelType.MAIN);return R&&"fragment"in R?R.fragment:R},A.getBufferedFrag=function(E){return this.fragmentTracker.getBufferedFrag(E,s.PlaylistLevelType.MAIN)},A.followingBufferedFrag=function(E){return E?this.getBufferedFrag(E.end+.5):null},A.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},A.nextLevelSwitch=function(){var E=this.levels,R=this.media;if(R!=null&&R.readyState){var T,L=this.getAppendedFrag(R.currentTime);if(L&&L.start>1&&this.flushMainBuffer(0,L.start-1),!R.paused&&E){var P=E[this.hls.nextLoadLevel],k=this.fragLastKbps;T=k&&this.fragCurrent?this.fragCurrent.duration*P.maxBitrate/(1e3*k)+1:0}else T=0;var D=this.getBufferedFrag(R.currentTime+T);if(D){var O=this.followingBufferedFrag(D);if(O){this.abortCurrentFrag();var M=O.maxStartPTS?O.maxStartPTS:O.start,F=O.duration,N=Math.max(D.end,M+Math.min(Math.max(F-this.config.maxFragLookUpTolerance,.5*F),.75*F));this.flushMainBuffer(N,Number.POSITIVE_INFINITY)}}}},A.abortCurrentFrag=function(){var E=this.fragCurrent;this.fragCurrent=null,E!=null&&E.loader&&E.loader.abort(),this.state===o.State.KEY_LOADING&&(this.state=o.State.IDLE),this.nextLoadPosition=this.getLoadPosition()},A.flushMainBuffer=function(E,R){x.prototype.flushMainBuffer.call(this,E,R,this.altAudio?"video":null)},A.onMediaAttached=function(E,R){x.prototype.onMediaAttached.call(this,E,R);var T=R.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),T.addEventListener("playing",this.onvplaying),T.addEventListener("seeked",this.onvseeked),this.gapController=new _.default(this.config,T,this.fragmentTracker,this.hls)},A.onMediaDetaching=function(){var E=this.media;E&&(E.removeEventListener("playing",this.onvplaying),E.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),x.prototype.onMediaDetaching.call(this)},A.onMediaPlaying=function(){this.tick()},A.onMediaSeeked=function(){var E=this.media,R=E?E.currentTime:null;Object(n.isFiniteNumber)(R)&&this.log("Media seeked to "+R.toFixed(3)),this.tick()},A.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(a.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},A.onManifestParsed=function(E,R){var T,L=!1,P=!1;R.levels.forEach(function(k){(T=k.audioCodec)&&(T.indexOf("mp4a.40.2")!==-1&&(L=!0),T.indexOf("mp4a.40.5")!==-1&&(P=!0))}),this.audioCodecSwitch=L&&P&&!Object(i.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=R.levels,this.startFragRequested=!1},A.onLevelLoading=function(E,R){var T=this.levels;if(T&&this.state===o.State.IDLE){var L=T[R.level];(!L.details||L.details.live&&this.levelLastLoaded!==R.level||this.waitForCdnTuneIn(L.details))&&(this.state=o.State.WAITING_LEVEL)}},A.onLevelLoaded=function(E,R){var T,L=this.levels,P=R.level,k=R.details,D=k.totalduration;if(L){this.log("Level "+P+" loaded ["+k.startSN+","+k.endSN+"], cc ["+k.startCC+", "+k.endCC+"] duration:"+D);var O=this.fragCurrent;!O||this.state!==o.State.FRAG_LOADING&&this.state!==o.State.FRAG_LOADING_WAITING_RETRY||O.level!==R.level&&O.loader&&(this.state=o.State.IDLE,O.loader.abort());var M=L[P],F=0;if(k.live||(T=M.details)!==null&&T!==void 0&&T.live){if(k.fragments[0]||(k.deltaUpdateFailed=!0),k.deltaUpdateFailed)return;F=this.alignPlaylists(k,M.details)}if(M.details=k,this.levelLastLoaded=P,this.hls.trigger(a.Events.LEVEL_UPDATED,{details:k,level:P}),this.state===o.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(k))return;this.state=o.State.IDLE}this.startFragRequested?k.live&&this.synchronizeToLiveEdge(k):this.setStartPosition(k,F),this.tick()}else this.warn("Levels were reset while loading level "+P)},A._handleFragmentLoadProgress=function(E){var R,T=E.frag,L=E.part,P=E.payload,k=this.levels;if(k){var D=k[T.level],O=D.details;if(O){var M=D.videoCodec,F=O.PTSKnown||!O.live,N=(R=T.initSegment)===null||R===void 0?void 0:R.data,U=this._getAudioCodec(D),G=this.transmuxer=this.transmuxer||new u.default(this.hls,s.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),H=L?L.index:-1,Z=H!==-1,de=new f.ChunkMetadata(T.level,T.sn,T.stats.chunkCount,P.byteLength,H,Z),ee=this.initPTS[T.cc];G.push(P,N,U,M,T,L,O.totalduration,F,de,ee)}else this.warn("Dropping fragment "+T.sn+" of level "+T.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+T.sn+" of level "+T.level+" will not be buffered")},A.onAudioTrackSwitching=function(E,R){var T=this.altAudio,L=!!R.url,P=R.id;if(!L){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var k=this.fragCurrent;k!=null&&k.loader&&(this.log("Switching to main audio track, cancel main fragment load"),k.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var D=this.hls;T&&D.trigger(a.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),D.trigger(a.Events.AUDIO_TRACK_SWITCHED,{id:P})}},A.onAudioTrackSwitched=function(E,R){var T=R.id,L=!!this.hls.audioTracks[T].url;if(L){var P=this.videoBuffer;P&&this.mediaBuffer!==P&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=P)}this.altAudio=L,this.tick()},A.onBufferCreated=function(E,R){var T,L,P=R.tracks,k=!1;for(var D in P){var O=P[D];if(O.id==="main"){if(L=D,T=O,D==="video"){var M=P[D];M&&(this.videoBuffer=M.buffer)}}else k=!0}k&&T?(this.log("Alternate track found, use "+L+".buffered to schedule main fragment loading"),this.mediaBuffer=T.buffer):this.mediaBuffer=this.media},A.onFragBuffered=function(E,R){var T=R.frag,L=R.part;if(!T||T.type===s.PlaylistLevelType.MAIN){if(this.fragContextChanged(T))return this.warn("Fragment "+T.sn+(L?" p: "+L.index:"")+" of level "+T.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===o.State.PARSED&&(this.state=o.State.IDLE));var P=L?L.stats:T.stats;this.fragLastKbps=Math.round(8*P.total/(P.buffering.end-P.loading.first)),T.sn!=="initSegment"&&(this.fragPrevious=T),this.fragBufferedComplete(T,L)}},A.onError=function(E,R){switch(R.details){case v.ErrorDetails.FRAG_LOAD_ERROR:case v.ErrorDetails.FRAG_LOAD_TIMEOUT:case v.ErrorDetails.KEY_LOAD_ERROR:case v.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(s.PlaylistLevelType.MAIN,R);break;case v.ErrorDetails.LEVEL_LOAD_ERROR:case v.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==o.State.ERROR&&(R.fatal?(this.warn(""+R.details),this.state=o.State.ERROR):R.levelRetry||this.state!==o.State.WAITING_LEVEL||(this.state=o.State.IDLE));break;case v.ErrorDetails.BUFFER_FULL_ERROR:if(R.parent==="main"&&(this.state===o.State.PARSING||this.state===o.State.PARSED)){var T=!0,L=this.getFwdBufferInfo(this.media,s.PlaylistLevelType.MAIN);L&&L.len>.5&&(T=!this.reduceMaxBufferLength(L.len)),T&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},A.checkBuffer=function(){var E=this.media,R=this.gapController;if(E&&R&&E.readyState){var T=d.BufferHelper.getBuffered(E);!this.loadedmetadata&&T.length?(this.loadedmetadata=!0,this.seekToStartPos()):R.poll(this.lastCurrentTime),this.lastCurrentTime=E.currentTime}},A.onFragLoadEmergencyAborted=function(){this.state=o.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},A.onBufferFlushed=function(E,R){var T=R.type;if(T!==c.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var L=(T===c.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(L,T,s.PlaylistLevelType.MAIN)}},A.onLevelsUpdated=function(E,R){this.levels=R.levels},A.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},A.seekToStartPos=function(){var E=this.media,R=E.currentTime,T=this.startPosition;if(T>=0&&R<T){if(E.seeking)return void b.logger.log("could not seek to "+T+", already seeking at "+R);var L=d.BufferHelper.getBuffered(E),P=(L.length?L.start(0):0)-T;P>0&&P<this.config.maxBufferHole&&(b.logger.log("adjusting start position by "+P+" to match buffer start"),T+=P,this.startPosition=T),this.log("seek to target start position "+T+" from current time "+R),E.currentTime=T}},A._getAudioCodec=function(E){var R=this.config.defaultAudioCodec||E.audioCodec;return this.audioCodecSwap&&R&&(this.log("Swapping audio codec"),R=R.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),R},A._loadBitrateTestFrag=function(E){var R=this;this._doFragLoad(E).then(function(T){var L=R.hls;if(T&&!L.nextLoadLevel&&!R.fragContextChanged(E)){R.fragLoadError=0,R.state=o.State.IDLE,R.startFragRequested=!1,R.bitrateTest=!1;var P=E.stats;P.parsing.start=P.parsing.end=P.buffering.start=P.buffering.end=self.performance.now(),L.trigger(a.Events.FRAG_LOADED,T)}})},A._handleTransmuxComplete=function(E){var R,T="main",L=this.hls,P=E.remuxResult,k=E.chunkMeta,D=this.getCurrentContext(k);if(!D)return this.warn("The loading context changed while buffering fragment "+k.sn+" of level "+k.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(k.level);var O=D.frag,M=D.part,F=D.level,N=P.video,U=P.text,G=P.id3,H=P.initSegment,Z=this.altAudio?void 0:P.audio;if(!this.fragContextChanged(O)){if(this.state=o.State.PARSING,H){H.tracks&&(this._bufferInitSegment(F,H.tracks,O,k),L.trigger(a.Events.FRAG_PARSING_INIT_SEGMENT,{frag:O,id:T,tracks:H.tracks}));var de=H.initPTS,ee=H.timescale;Object(n.isFiniteNumber)(de)&&(this.initPTS[O.cc]=de,L.trigger(a.Events.INIT_PTS_FOUND,{frag:O,id:T,initPTS:de,timescale:ee}))}if(N&&P.independent!==!1){if(F.details){var W=N.startPTS,ae=N.endPTS,q=N.startDTS,pe=N.endDTS;if(M)M.elementaryStreams[N.type]={startPTS:W,endPTS:ae,startDTS:q,endDTS:pe};else if(N.firstKeyFrame&&N.independent&&(this.couldBacktrack=!0),N.dropped&&N.independent){if(this.getLoadPosition()+this.config.maxBufferHole<W)return void this.backtrack(O);O.setElementaryStreamInfo(N.type,O.start,ae,O.start,pe,!0)}O.setElementaryStreamInfo(N.type,W,ae,q,pe),this.bufferFragmentData(N,O,M,k)}}else if(P.independent===!1)return void this.backtrack(O);if(Z){var we=Z.startPTS,B=Z.endPTS,$=Z.startDTS,z=Z.endDTS;M&&(M.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:we,endPTS:B,startDTS:$,endDTS:z}),O.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,we,B,$,z),this.bufferFragmentData(Z,O,M,k)}if(G!=null&&(R=G.samples)!==null&&R!==void 0&&R.length){var Y={frag:O,id:T,samples:G.samples};L.trigger(a.Events.FRAG_PARSING_METADATA,Y)}if(U){var j={frag:O,id:T,samples:U.samples};L.trigger(a.Events.FRAG_PARSING_USERDATA,j)}}},A._bufferInitSegment=function(E,R,T,L){var P=this;if(this.state===o.State.PARSING){this.audioOnly=!!R.audio&&!R.video,this.altAudio&&!this.audioOnly&&delete R.audio;var k=R.audio,D=R.video,O=R.audiovideo;if(k){var M=E.audioCodec,F=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(M&&(M=M.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),k.metadata.channelCount!==1&&F.indexOf("firefox")===-1&&(M="mp4a.40.5")),F.indexOf("android")!==-1&&k.container!=="audio/mpeg"&&(M="mp4a.40.2",this.log("Android: force audio codec to "+M)),E.audioCodec&&E.audioCodec!==M&&this.log('Swapping manifest audio codec "'+E.audioCodec+'" for "'+M+'"'),k.levelCodec=M,k.id="main",this.log("Init audio buffer, container:"+k.container+", codecs[selected/level/parsed]=["+(M||"")+"/"+(E.audioCodec||"")+"/"+k.codec+"]")}D&&(D.levelCodec=E.videoCodec,D.id="main",this.log("Init video buffer, container:"+D.container+", codecs[level/parsed]=["+(E.videoCodec||"")+"/"+D.codec+"]")),O&&this.log("Init audiovideo buffer, container:"+O.container+", codecs[level/parsed]=["+(E.attrs.CODECS||"")+"/"+O.codec+"]"),this.hls.trigger(a.Events.BUFFER_CODECS,R),Object.keys(R).forEach(function(N){var U=R[N].initSegment;U!=null&&U.byteLength&&P.hls.trigger(a.Events.BUFFER_APPENDING,{type:N,data:U,frag:T,part:null,chunkMeta:L,parent:T.type})}),this.tick()}},A.backtrack=function(E){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(E);var R=this.fragmentTracker.backtrack(E);this.fragPrevious=null,this.nextLoadPosition=E.start,R?this.resetFragmentLoading(E):this.state=o.State.BACKTRACKING},A.checkFragmentChanged=function(){var E=this.media,R=null;if(E&&E.readyState>1&&E.seeking===!1){var T=E.currentTime;if(d.BufferHelper.isBuffered(E,T)?R=this.getAppendedFrag(T):d.BufferHelper.isBuffered(E,T+.1)&&(R=this.getAppendedFrag(T+.1)),R){var L=this.fragPlaying,P=R.level;L&&R.sn===L.sn&&L.level===P&&R.urlId===L.urlId||(this.hls.trigger(a.Events.FRAG_CHANGED,{frag:R}),L&&L.level===P||this.hls.trigger(a.Events.LEVEL_SWITCHED,{level:P}),this.fragPlaying=R)}}},S=C,(w=[{key:"nextLevel",get:function(){var E=this.nextBufferedFrag;return E?E.level:-1}},{key:"currentLevel",get:function(){var E=this.media;if(E){var R=this.getAppendedFrag(E.currentTime);if(R)return R.level}return-1}},{key:"nextBufferedFrag",get:function(){var E=this.media;if(E){var R=this.getAppendedFrag(E.currentTime);return this.followingBufferedFrag(R)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&g(S.prototype,w),C}(o.default)},"./src/controller/subtitle-stream-controller.ts":function(e,t,r){r.r(t),r.d(t,"SubtitleStreamController",function(){return b});var n=r("./src/events.ts"),o=r("./src/utils/logger.ts"),i=r("./src/utils/buffer-helper.ts"),a=r("./src/controller/fragment-finders.ts"),d=r("./src/utils/discontinuities.ts"),l=r("./src/controller/level-helper.ts"),s=r("./src/controller/fragment-tracker.ts"),c=r("./src/controller/base-stream-controller.ts"),u=r("./src/types/loader.ts"),f=r("./src/types/level.ts");function _(g,m){for(var h=0;h<m.length;h++){var x=m[h];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}function v(g,m){return(v=Object.setPrototypeOf||function(h,x){return h.__proto__=x,h})(g,m)}var b=function(g){var m,h;function x(S,w){var A;return(A=g.call(this,S,w,"[subtitle-stream-controller]")||this).levels=[],A.currentTrackId=-1,A.tracksBuffered=[],A.mainDetails=null,A._registerListeners(),A}h=g,(m=x).prototype=Object.create(h.prototype),m.prototype.constructor=m,v(m,h);var y,p,C=x.prototype;return C.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},C._registerListeners=function(){var S=this.hls;S.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),S.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),S.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),S.on(n.Events.LEVEL_LOADED,this.onLevelLoaded,this),S.on(n.Events.ERROR,this.onError,this),S.on(n.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),S.on(n.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),S.on(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),S.on(n.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),S.on(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},C._unregisterListeners=function(){var S=this.hls;S.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),S.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),S.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),S.off(n.Events.LEVEL_LOADED,this.onLevelLoaded,this),S.off(n.Events.ERROR,this.onError,this),S.off(n.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),S.off(n.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),S.off(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),S.off(n.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),S.off(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},C.startLoad=function(){this.stopLoad(),this.state=c.State.IDLE,this.setInterval(500),this.tick()},C.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},C.onLevelLoaded=function(S,w){this.mainDetails=w.details},C.onSubtitleFragProcessed=function(S,w){var A=w.frag,E=w.success;if(this.fragPrevious=A,this.state=c.State.IDLE,E){var R=this.tracksBuffered[this.currentTrackId];if(R){for(var T,L=A.start,P=0;P<R.length;P++)if(L>=R[P].start&&L<=R[P].end){T=R[P];break}var k=A.start+A.duration;T?T.end=k:(T={start:L,end:k},R.push(T)),this.fragmentTracker.fragBuffered(A)}}},C.onBufferFlushing=function(S,w){var A=w.startOffset,E=w.endOffset;if(A===0&&E!==Number.POSITIVE_INFINITY){var R=this.currentTrackId,T=this.levels;if(!T.length||!T[R]||!T[R].details)return;var L=E-T[R].details.targetduration;if(L<=0)return;w.endOffsetSubtitles=Math.max(0,L),this.tracksBuffered.forEach(function(P){for(var k=0;k<P.length;)if(P[k].end<=L)P.shift();else{if(!(P[k].start<L))break;P[k].start=L,k++}}),this.fragmentTracker.removeFragmentsInRange(A,L,u.PlaylistLevelType.SUBTITLE)}},C.onError=function(S,w){var A,E=w.frag;E&&E.type===u.PlaylistLevelType.SUBTITLE&&((A=this.fragCurrent)!==null&&A!==void 0&&A.loader&&this.fragCurrent.loader.abort(),this.state=c.State.IDLE)},C.onSubtitleTracksUpdated=function(S,w){var A=this,E=w.subtitleTracks;this.tracksBuffered=[],this.levels=E.map(function(R){return new f.Level(R)}),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach(function(R){A.tracksBuffered[R.id]=[]}),this.mediaBuffer=null},C.onSubtitleTrackSwitch=function(S,w){if(this.currentTrackId=w.id,this.levels.length&&this.currentTrackId!==-1){var A=this.levels[this.currentTrackId];A!=null&&A.details?(this.mediaBuffer=this.mediaBufferTimeRanges,this.setInterval(500)):this.mediaBuffer=null}else this.clearInterval()},C.onSubtitleTrackLoaded=function(S,w){var A,E=w.details,R=w.id,T=this.currentTrackId,L=this.levels;if(L.length){var P=L[T];if(!(R>=L.length||R!==T)&&P){if(this.mediaBuffer=this.mediaBufferTimeRanges,E.live||(A=P.details)!==null&&A!==void 0&&A.live){var k=this.mainDetails;if(E.deltaUpdateFailed||!k)return;var D=k.fragments[0];P.details?this.alignPlaylists(E,P.details)===0&&D&&Object(l.addSliding)(E,D.start):E.hasProgramDateTime&&k.hasProgramDateTime?Object(d.alignPDT)(E,k):D&&Object(l.addSliding)(E,D.start)}P.details=E,this.levelLastLoaded=R,this.tick(),E.live&&!this.fragCurrent&&this.media&&this.state===c.State.IDLE&&(Object(a.findFragmentByPTS)(null,E.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),P.details=void 0))}}},C._handleFragmentLoadComplete=function(S){var w=S.frag,A=S.payload,E=w.decryptdata,R=this.hls;if(!this.fragContextChanged(w)&&A&&A.byteLength>0&&E&&E.key&&E.iv&&E.method==="AES-128"){var T=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(A),E.key.buffer,E.iv.buffer).then(function(L){var P=performance.now();R.trigger(n.Events.FRAG_DECRYPTED,{frag:w,payload:L,stats:{tstart:T,tdecrypt:P}})})}},C.doTick=function(){if(this.media){if(this.state===c.State.IDLE){var S,w=this.currentTrackId,A=this.levels;if(!A.length||!A[w]||!A[w].details)return;var E=A[w].details,R=E.targetduration,T=this.config,L=this.media,P=i.BufferHelper.bufferedInfo(this.mediaBufferTimeRanges,L.currentTime-R,T.maxBufferHole),k=P.end;if(P.len>this.getMaxBufferLength()+R)return;console.assert(E,"Subtitle track details are defined on idle subtitle stream controller tick");var D,O=E.fragments,M=O.length,F=E.edge,N=this.fragPrevious;if(k<F){var U=T.maxFragLookUpTolerance;N&&E.hasProgramDateTime&&(D=Object(a.findFragmentByPDT)(O,N.endProgramDateTime,U)),D||!(D=Object(a.findFragmentByPTS)(N,O,k,U))&&N&&N.start<O[0].start&&(D=O[0])}else D=O[M-1];(S=D)!==null&&S!==void 0&&S.encrypted?(o.logger.log("Loading key for "+D.sn),this.state=c.State.KEY_LOADING,this.hls.trigger(n.Events.KEY_LOADING,{frag:D})):D&&this.fragmentTracker.getState(D)===s.FragmentState.NOT_LOADED&&this.loadFragment(D,E,k)}}else this.state=c.State.IDLE},C.loadFragment=function(S,w,A){this.fragCurrent=S,g.prototype.loadFragment.call(this,S,w,A)},y=x,(p=[{key:"mediaBufferTimeRanges",get:function(){return this.tracksBuffered[this.currentTrackId]||[]}}])&&_(y.prototype,p),x}(c.default)},"./src/controller/subtitle-track-controller.ts":function(e,t,r){r.r(t);var n=r("./src/events.ts"),o=r("./src/utils/texttrack-utils.ts"),i=r("./src/controller/base-playlist-controller.ts"),a=r("./src/types/loader.ts");function d(u,f){for(var _=0;_<f.length;_++){var v=f[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(u,v.key,v)}}function l(u,f){return(l=Object.setPrototypeOf||function(_,v){return _.__proto__=v,_})(u,f)}var s=function(u){var f,_;function v(h){var x;return(x=u.call(this,h,"[subtitle-track-controller]")||this).media=null,x.tracks=[],x.groupId=null,x.tracksInGroup=[],x.trackId=-1,x.selectDefaultTrack=!0,x.queuedDefaultTrack=-1,x.trackChangeListener=function(){return x.onTextTracksChanged()},x.asyncPollTrackChange=function(){return x.pollTrackChange(0)},x.useTextTrackPolling=!1,x.subtitlePollingInterval=-1,x.subtitleDisplay=!0,x.registerListeners(),x}_=u,(f=v).prototype=Object.create(_.prototype),f.prototype.constructor=f,l(f,_);var b,g,m=v.prototype;return m.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,u.prototype.destroy.call(this)},m.registerListeners=function(){var h=this.hls;h.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),h.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),h.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),h.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),h.on(n.Events.LEVEL_LOADING,this.onLevelLoading,this),h.on(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),h.on(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),h.on(n.Events.ERROR,this.onError,this)},m.unregisterListeners=function(){var h=this.hls;h.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),h.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),h.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),h.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),h.off(n.Events.LEVEL_LOADING,this.onLevelLoading,this),h.off(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),h.off(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),h.off(n.Events.ERROR,this.onError,this)},m.onMediaAttached=function(h,x){this.media=x.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},m.pollTrackChange=function(h){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,h)},m.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),c(this.media.textTracks).forEach(function(h){Object(o.clearCurrentCues)(h)}),this.subtitleTrack=-1,this.media=null)},m.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},m.onManifestParsed=function(h,x){this.tracks=x.subtitleTracks},m.onSubtitleTrackLoaded=function(h,x){var y=x.id,p=x.details,C=this.trackId,S=this.tracksInGroup[C];if(S){var w=S.details;S.details=x.details,this.log("subtitle track "+y+" loaded ["+p.startSN+"-"+p.endSN+"]"),y===this.trackId&&(this.retryCount=0,this.playlistLoaded(y,x,w))}else this.warn("Invalid subtitle track id "+y)},m.onLevelLoading=function(h,x){this.switchLevel(x.level)},m.onLevelSwitching=function(h,x){this.switchLevel(x.level)},m.switchLevel=function(h){var x=this.hls.levels[h];if(x!=null&&x.textGroupIds){var y=x.textGroupIds[x.urlId];if(this.groupId!==y){var p=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,C=this.tracks.filter(function(A){return!y||A.groupId===y});this.tracksInGroup=C;var S=this.findTrackId(p==null?void 0:p.name)||this.findTrackId();this.groupId=y;var w={subtitleTracks:C};this.log("Updating subtitle tracks, "+C.length+' track(s) found in "'+y+'" group-id'),this.hls.trigger(n.Events.SUBTITLE_TRACKS_UPDATED,w),S!==-1&&this.setSubtitleTrack(S,p)}}},m.findTrackId=function(h){for(var x=this.tracksInGroup,y=0;y<x.length;y++){var p=x[y];if((!this.selectDefaultTrack||p.default)&&(!h||h===p.name))return p.id}return-1},m.onError=function(h,x){u.prototype.onError.call(this,h,x),!x.fatal&&x.context&&x.context.type===a.PlaylistContextType.SUBTITLE_TRACK&&x.context.id===this.trackId&&x.context.groupId===this.groupId&&this.retryLoadingOrFail(x)},m.loadPlaylist=function(h){var x=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(x)){var y=x.id,p=x.groupId,C=x.url;if(h)try{C=h.addDirectives(C)}catch(S){this.warn("Could not construct new URL with HLS Delivery Directives: "+S)}this.log("Loading subtitle playlist for id "+y),this.hls.trigger(n.Events.SUBTITLE_TRACK_LOADING,{url:C,id:y,groupId:p,deliveryDirectives:h||null})}},m.toggleTrackModes=function(h){var x=this,y=this.media,p=this.subtitleDisplay,C=this.trackId;if(y){var S=c(y.textTracks),w=S.filter(function(R){return R.groupId===x.groupId});if(h===-1)[].slice.call(S).forEach(function(R){R.mode="disabled"});else{var A=w[C];A&&(A.mode="disabled")}var E=w[h];E&&(E.mode=p?"showing":"hidden")}},m.setSubtitleTrack=function(h,x){var y,p=this.tracksInGroup;if(this.media){if(this.trackId!==h&&this.toggleTrackModes(h),!(this.trackId===h&&(h===-1||(y=p[h])!==null&&y!==void 0&&y.details)||h<-1||h>=p.length)){this.clearTimer();var C=p[h];if(this.log("Switching to subtitle track "+h),this.trackId=h,C){var S=C.id,w=C.groupId,A=w===void 0?"":w,E=C.name,R=C.type,T=C.url;this.hls.trigger(n.Events.SUBTITLE_TRACK_SWITCH,{id:S,groupId:A,name:E,type:R,url:T});var L=this.switchParams(C.url,x==null?void 0:x.details);this.loadPlaylist(L)}else this.hls.trigger(n.Events.SUBTITLE_TRACK_SWITCH,{id:h})}}else this.queuedDefaultTrack=h},m.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var h=-1,x=c(this.media.textTracks),y=0;y<x.length;y++)if(x[y].mode==="hidden")h=y;else if(x[y].mode==="showing"){h=y;break}this.subtitleTrack!==h&&(this.subtitleTrack=h)}},b=v,(g=[{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(h){this.selectDefaultTrack=!1;var x=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(h,x)}}])&&d(b.prototype,g),v}(i.default);function c(u){for(var f=[],_=0;_<u.length;_++){var v=u[_];v.kind==="subtitles"&&v.label&&f.push(u[_])}return f}t.default=s},"./src/controller/timeline-controller.ts":function(e,t,r){r.r(t),r.d(t,"TimelineController",function(){return f});var n=r("./src/polyfills/number.ts"),o=r("./src/events.ts"),i=r("./src/utils/cea-608-parser.ts"),a=r("./src/utils/output-filter.ts"),d=r("./src/utils/webvtt-parser.ts"),l=r("./src/utils/texttrack-utils.ts"),s=r("./src/utils/imsc1-ttml-parser.ts"),c=r("./src/types/loader.ts"),u=r("./src/utils/logger.ts"),f=function(){function v(g){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this.captionsProperties=void 0,this.hls=g,this.config=g.config,this.Cues=g.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var m=new a.default(this,"textTrack1"),h=new a.default(this,"textTrack2"),x=new a.default(this,"textTrack3"),y=new a.default(this,"textTrack4");this.cea608Parser1=new i.default(1,m,h),this.cea608Parser2=new i.default(3,x,y)}g.on(o.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),g.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),g.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),g.on(o.Events.MANIFEST_LOADED,this.onManifestLoaded,this),g.on(o.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),g.on(o.Events.FRAG_LOADING,this.onFragLoading,this),g.on(o.Events.FRAG_LOADED,this.onFragLoaded,this),g.on(o.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),g.on(o.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),g.on(o.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),g.on(o.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),g.on(o.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var b=v.prototype;return b.destroy=function(){var g=this.hls;g.off(o.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),g.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),g.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),g.off(o.Events.MANIFEST_LOADED,this.onManifestLoaded,this),g.off(o.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),g.off(o.Events.FRAG_LOADING,this.onFragLoading,this),g.off(o.Events.FRAG_LOADED,this.onFragLoaded,this),g.off(o.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),g.off(o.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),g.off(o.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),g.off(o.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),g.off(o.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},b.addCues=function(g,m,h,x,y){for(var p,C,S,w,A=!1,E=y.length;E--;){var R=y[E],T=(p=R[0],C=R[1],S=m,w=h,Math.min(C,w)-Math.max(p,S));if(T>=0&&(R[0]=Math.min(R[0],m),R[1]=Math.max(R[1],h),A=!0,T/(h-m)>.5))return}if(A||y.push([m,h]),this.config.renderTextTracksNatively){var L=this.captionsTracks[g];this.Cues.newCue(L,m,h,x)}else{var P=this.Cues.newCue(null,m,h,x);this.hls.trigger(o.Events.CUES_PARSED,{type:"captions",cues:P,track:g})}},b.onInitPtsFound=function(g,m){var h=this,x=m.frag,y=m.id,p=m.initPTS,C=m.timescale,S=this.unparsedVttFrags;y==="main"&&(this.initPTS[x.cc]=p,this.timescale[x.cc]=C),S.length&&(this.unparsedVttFrags=[],S.forEach(function(w){h.onFragLoaded(o.Events.FRAG_LOADED,w)}))},b.getExistingTrack=function(g){var m=this.media;if(m)for(var h=0;h<m.textTracks.length;h++){var x=m.textTracks[h];if(x[g])return x}return null},b.createCaptionsTrack=function(g){this.config.renderTextTracksNatively?this.createNativeTrack(g):this.createNonNativeTrack(g)},b.createNativeTrack=function(g){if(!this.captionsTracks[g]){var m=this.captionsProperties,h=this.captionsTracks,x=this.media,y=m[g],p=y.label,C=y.languageCode,S=this.getExistingTrack(g);if(S)h[g]=S,Object(l.clearCurrentCues)(h[g]),Object(l.sendAddTrackEvent)(h[g],x);else{var w=this.createTextTrack("captions",p,C);w&&(w[g]=!0,h[g]=w)}}},b.createNonNativeTrack=function(g){if(!this.nonNativeCaptionsTracks[g]){var m=this.captionsProperties[g];if(m){var h={_id:g,label:m.label,kind:"captions",default:!!m.media&&!!m.media.default,closedCaptions:m.media};this.nonNativeCaptionsTracks[g]=h,this.hls.trigger(o.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[h]})}}},b.createTextTrack=function(g,m,h){var x=this.media;if(x)return x.addTextTrack(g,m,h)},b.onMediaAttaching=function(g,m){this.media=m.media,this._cleanTracks()},b.onMediaDetaching=function(){var g=this.captionsTracks;Object.keys(g).forEach(function(m){Object(l.clearCurrentCues)(g[m]),delete g[m]}),this.nonNativeCaptionsTracks={}},b.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},b._cleanTracks=function(){var g=this.media;if(g){var m=g.textTracks;if(m)for(var h=0;h<m.length;h++)Object(l.clearCurrentCues)(m[h])}},b.onSubtitleTracksUpdated=function(g,m){var h=this;this.textTracks=[];var x=m.subtitleTracks||[],y=x.some(function(w){return w.textCodec===s.IMSC1_CODEC});if(this.config.enableWebVTT||y&&this.config.enableIMSC1){var p=this.tracks&&x&&this.tracks.length===x.length;if(this.tracks=x||[],this.config.renderTextTracksNatively){var C=this.media?this.media.textTracks:[];this.tracks.forEach(function(w,A){var E;if(A<C.length){for(var R=null,T=0;T<C.length;T++)if(_(C[T],w)){R=C[T];break}R&&(E=R)}E?Object(l.clearCurrentCues)(E):(E=h.createTextTrack("subtitles",w.name,w.lang))&&(E.mode="disabled"),E&&(E.groupId=w.groupId,h.textTracks.push(E))})}else if(!p&&this.tracks&&this.tracks.length){var S=this.tracks.map(function(w){return{label:w.name,kind:w.type.toLowerCase(),default:w.default,subtitleTrack:w}});this.hls.trigger(o.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:S})}}},b.onManifestLoaded=function(g,m){var h=this;this.config.enableCEA708Captions&&m.captions&&m.captions.forEach(function(x){var y=/(?:CC|SERVICE)([1-4])/.exec(x.instreamId);if(y){var p="textTrack"+y[1],C=h.captionsProperties[p];C&&(C.label=x.name,x.lang&&(C.languageCode=x.lang),C.media=x)}})},b.onFragLoading=function(g,m){var h=this.cea608Parser1,x=this.cea608Parser2,y=this.lastSn;if(this.enabled&&h&&x&&m.frag.type===c.PlaylistLevelType.MAIN){var p=m.frag.sn;p!==y+1&&(h.reset(),x.reset()),this.lastSn=p}},b.onFragLoaded=function(g,m){var h=m.frag,x=m.payload,y=this.initPTS,p=this.unparsedVttFrags;if(h.type===c.PlaylistLevelType.SUBTITLE)if(x.byteLength){if(!Object(n.isFiniteNumber)(y[h.cc]))return p.push(m),void(y.length&&this.hls.trigger(o.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:h,error:new Error("Missing initial subtitle PTS")}));var C=h.decryptdata;if(C==null||C.key==null||C.method!=="AES-128"){var S=this.tracks[h.level],w=this.vttCCs;w[h.cc]||(w[h.cc]={start:h.start,prevCC:this.prevCC,new:!0},this.prevCC=h.cc),S&&S.textCodec===s.IMSC1_CODEC?this._parseIMSC1(h,x):this._parseVTTs(h,x,w)}}else this.hls.trigger(o.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:h,error:new Error("Empty subtitle payload")})},b._parseIMSC1=function(g,m){var h=this,x=this.hls;Object(s.parseIMSC1)(m,this.initPTS[g.cc],this.timescale[g.cc],function(y){h._appendCues(y,g.level),x.trigger(o.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:g})},function(y){u.logger.log("Failed to parse IMSC1: "+y),x.trigger(o.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:g,error:y})})},b._parseVTTs=function(g,m,h){var x=this,y=this.hls;Object(d.parseWebVTT)(m,this.initPTS[g.cc],this.timescale[g.cc],h,g.cc,g.start,function(p){x._appendCues(p,g.level),y.trigger(o.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:g})},function(p){x._fallbackToIMSC1(g,m),u.logger.log("Failed to parse VTT cue: "+p),y.trigger(o.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:g,error:p})})},b._fallbackToIMSC1=function(g,m){var h=this,x=this.tracks[g.level];x.textCodec||Object(s.parseIMSC1)(m,this.initPTS[g.cc],this.timescale[g.cc],function(){x.textCodec=s.IMSC1_CODEC,h._parseIMSC1(g,m)},function(){x.textCodec="wvtt"})},b._appendCues=function(g,m){var h=this.hls;if(this.config.renderTextTracksNatively){var x=this.textTracks[m];if(x.mode==="disabled")return;g.forEach(function(p){return Object(l.addCueToTrack)(x,p)})}else{var y=this.tracks[m].default?"default":"subtitles"+m;h.trigger(o.Events.CUES_PARSED,{type:"subtitles",cues:g,track:y})}},b.onFragDecrypted=function(g,m){var h=m.frag;if(h.type===c.PlaylistLevelType.SUBTITLE){if(!Object(n.isFiniteNumber)(this.initPTS[h.cc]))return void this.unparsedVttFrags.push(m);this.onFragLoaded(o.Events.FRAG_LOADED,m)}},b.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},b.onFragParsingUserdata=function(g,m){var h=this.cea608Parser1,x=this.cea608Parser2;if(this.enabled&&h&&x)for(var y=0;y<m.samples.length;y++){var p=m.samples[y].bytes;if(p){var C=this.extractCea608Data(p);h.addData(m.samples[y].pts,C[0]),x.addData(m.samples[y].pts,C[1])}}},b.onBufferFlushing=function(g,m){var h=m.startOffset,x=m.endOffset,y=m.endOffsetSubtitles,p=m.type,C=this.media;if(C&&!(C.currentTime<x)){if(!p||p==="video"){var S=this.captionsTracks;Object.keys(S).forEach(function(A){return Object(l.removeCuesInRange)(S[A],h,x)})}if(this.config.renderTextTracksNatively&&h===0&&y!==void 0){var w=this.textTracks;Object.keys(w).forEach(function(A){return Object(l.removeCuesInRange)(w[A],h,y)})}}},b.extractCea608Data=function(g){for(var m=31&g[0],h=2,x=[[],[]],y=0;y<m;y++){var p=g[h++],C=127&g[h++],S=127&g[h++],w=3&p;C===0&&S===0||4&p&&(w!==0&&w!==1||(x[w].push(C),x[w].push(S)))}return x},v}();function _(v,b){return v&&v.label===b.name&&!(v.textTrack1||v.textTrack2)}},"./src/crypt/aes-crypto.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return n});var n=function(){function o(i,a){this.subtle=void 0,this.aesIV=void 0,this.subtle=i,this.aesIV=a}return o.prototype.decrypt=function(i,a){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},a,i)},o}()},"./src/crypt/aes-decryptor.ts":function(e,t,r){r.r(t),r.d(t,"removePadding",function(){return o}),r.d(t,"default",function(){return i});var n=r("./src/utils/typed-array.ts");function o(a){var d=a.byteLength,l=d&&new DataView(a.buffer).getUint8(d-1);return l?Object(n.sliceUint8)(a,0,d-l):a}var i=function(){function a(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var d=a.prototype;return d.uint8ArrayToUint32Array_=function(l){for(var s=new DataView(l),c=new Uint32Array(4),u=0;u<4;u++)c[u]=s.getUint32(4*u);return c},d.initTable=function(){var l=this.sBox,s=this.invSBox,c=this.subMix,u=c[0],f=c[1],_=c[2],v=c[3],b=this.invSubMix,g=b[0],m=b[1],h=b[2],x=b[3],y=new Uint32Array(256),p=0,C=0,S=0;for(S=0;S<256;S++)y[S]=S<128?S<<1:S<<1^283;for(S=0;S<256;S++){var w=C^C<<1^C<<2^C<<3^C<<4;w=w>>>8^255&w^99,l[p]=w,s[w]=p;var A=y[p],E=y[A],R=y[E],T=257*y[w]^16843008*w;u[p]=T<<24|T>>>8,f[p]=T<<16|T>>>16,_[p]=T<<8|T>>>24,v[p]=T,T=16843009*R^65537*E^257*A^16843008*p,g[w]=T<<24|T>>>8,m[w]=T<<16|T>>>16,h[w]=T<<8|T>>>24,x[w]=T,p?(p=A^y[y[y[R^A]]],C^=y[y[C]]):p=C=1}},d.expandKey=function(l){for(var s=this.uint8ArrayToUint32Array_(l),c=!0,u=0;u<s.length&&c;)c=s[u]===this.key[u],u++;if(!c){this.key=s;var f=this.keySize=s.length;if(f!==4&&f!==6&&f!==8)throw new Error("Invalid aes key size="+f);var _,v,b,g,m=this.ksRows=4*(f+6+1),h=this.keySchedule=new Uint32Array(m),x=this.invKeySchedule=new Uint32Array(m),y=this.sBox,p=this.rcon,C=this.invSubMix,S=C[0],w=C[1],A=C[2],E=C[3];for(_=0;_<m;_++)_<f?b=h[_]=s[_]:(g=b,_%f==0?(g=y[(g=g<<8|g>>>24)>>>24]<<24|y[g>>>16&255]<<16|y[g>>>8&255]<<8|y[255&g],g^=p[_/f|0]<<24):f>6&&_%f==4&&(g=y[g>>>24]<<24|y[g>>>16&255]<<16|y[g>>>8&255]<<8|y[255&g]),h[_]=b=(h[_-f]^g)>>>0);for(v=0;v<m;v++)_=m-v,g=3&v?h[_]:h[_-4],x[v]=v<4||_<=4?g:S[y[g>>>24]]^w[y[g>>>16&255]]^A[y[g>>>8&255]]^E[y[255&g]],x[v]=x[v]>>>0}},d.networkToHostOrderSwap=function(l){return l<<24|(65280&l)<<8|(16711680&l)>>8|l>>>24},d.decrypt=function(l,s,c){for(var u,f,_,v,b,g,m,h,x,y,p,C,S,w,A=this.keySize+6,E=this.invKeySchedule,R=this.invSBox,T=this.invSubMix,L=T[0],P=T[1],k=T[2],D=T[3],O=this.uint8ArrayToUint32Array_(c),M=O[0],F=O[1],N=O[2],U=O[3],G=new Int32Array(l),H=new Int32Array(G.length),Z=this.networkToHostOrderSwap;s<G.length;){for(x=Z(G[s]),y=Z(G[s+1]),p=Z(G[s+2]),C=Z(G[s+3]),b=x^E[0],g=C^E[1],m=p^E[2],h=y^E[3],S=4,w=1;w<A;w++)u=L[b>>>24]^P[g>>16&255]^k[m>>8&255]^D[255&h]^E[S],f=L[g>>>24]^P[m>>16&255]^k[h>>8&255]^D[255&b]^E[S+1],_=L[m>>>24]^P[h>>16&255]^k[b>>8&255]^D[255&g]^E[S+2],v=L[h>>>24]^P[b>>16&255]^k[g>>8&255]^D[255&m]^E[S+3],b=u,g=f,m=_,h=v,S+=4;u=R[b>>>24]<<24^R[g>>16&255]<<16^R[m>>8&255]<<8^R[255&h]^E[S],f=R[g>>>24]<<24^R[m>>16&255]<<16^R[h>>8&255]<<8^R[255&b]^E[S+1],_=R[m>>>24]<<24^R[h>>16&255]<<16^R[b>>8&255]<<8^R[255&g]^E[S+2],v=R[h>>>24]<<24^R[b>>16&255]<<16^R[g>>8&255]<<8^R[255&m]^E[S+3],H[s]=Z(u^M),H[s+1]=Z(v^F),H[s+2]=Z(_^N),H[s+3]=Z(f^U),M=x,F=y,N=p,U=C,s+=4}return H.buffer},a}()},"./src/crypt/decrypter.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return s});var n=r("./src/crypt/aes-crypto.ts"),o=r("./src/crypt/fast-aes-key.ts"),i=r("./src/crypt/aes-decryptor.ts"),a=r("./src/utils/logger.ts"),d=r("./src/utils/mp4-tools.ts"),l=r("./src/utils/typed-array.ts"),s=function(){function c(f,_,v){var b=(v===void 0?{}:v).removePKCS7Padding,g=b===void 0||b;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=f,this.config=_,this.removePKCS7Padding=g,g)try{var m=self.crypto;m&&(this.subtle=m.subtle||m.webkitSubtle)}catch{}this.subtle===null&&(this.config.enableSoftwareAES=!0)}var u=c.prototype;return u.destroy=function(){this.observer=null},u.isSync=function(){return this.config.enableSoftwareAES},u.flush=function(){var f=this.currentResult;if(f){var _=new Uint8Array(f);return this.reset(),this.removePKCS7Padding?Object(i.removePadding)(_):_}this.reset()},u.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},u.decrypt=function(f,_,v,b){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(f),_,v);var g=this.flush();g&&b(g.buffer)}else this.webCryptoDecrypt(new Uint8Array(f),_,v).then(b)},u.softwareDecrypt=function(f,_,v){var b=this.currentIV,g=this.currentResult,m=this.remainderData;this.logOnce("JS AES decrypt"),m&&(f=Object(d.appendUint8Array)(m,f),this.remainderData=null);var h=this.getValidChunk(f);if(!h.length)return null;b&&(v=b);var x=this.softwareDecrypter;x||(x=this.softwareDecrypter=new i.default),x.expandKey(_);var y=g;return this.currentResult=x.decrypt(h.buffer,0,v),this.currentIV=Object(l.sliceUint8)(h,-16).buffer,y||null},u.webCryptoDecrypt=function(f,_,v){var b=this,g=this.subtle;return this.key===_&&this.fastAesKey||(this.key=_,this.fastAesKey=new o.default(g,_)),this.fastAesKey.expandKey().then(function(m){return g?new n.default(g,v).decrypt(f.buffer,m):Promise.reject(new Error("web crypto not initialized"))}).catch(function(m){return b.onWebCryptoError(m,f,_,v)})},u.onWebCryptoError=function(f,_,v,b){return a.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",f),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(_,v,b)},u.getValidChunk=function(f){var _=f,v=f.length-f.length%16;return v!==f.length&&(_=Object(l.sliceUint8)(f,0,v),this.remainderData=Object(l.sliceUint8)(f,v)),_},u.logOnce=function(f){this.logEnabled&&(a.logger.log("[decrypter.ts]: "+f),this.logEnabled=!1)},c}()},"./src/crypt/fast-aes-key.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return n});var n=function(){function o(i,a){this.subtle=void 0,this.key=void 0,this.subtle=i,this.key=a}return o.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},o}()},"./src/demux/aacdemuxer.ts":function(e,t,r){r.r(t);var n=r("./src/demux/base-audio-demuxer.ts"),o=r("./src/demux/adts.ts"),i=r("./src/utils/logger.ts"),a=r("./src/demux/id3.ts");function d(s,c){return(d=Object.setPrototypeOf||function(u,f){return u.__proto__=f,u})(s,c)}var l=function(s){var c,u;function f(v,b){var g;return(g=s.call(this)||this).observer=void 0,g.config=void 0,g.observer=v,g.config=b,g}u=s,(c=f).prototype=Object.create(u.prototype),c.prototype.constructor=c,d(c,u);var _=f.prototype;return _.resetInitSegment=function(v,b,g){s.prototype.resetInitSegment.call(this,v,b,g),this._audioTrack={container:"audio/adts",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:v,duration:g,inputTimeScale:9e4,dropped:0}},f.probe=function(v){if(!v)return!1;for(var b=(a.getID3Data(v,0)||[]).length,g=v.length;b<g;b++)if(o.probe(v,b))return i.logger.log("ADTS sync word found !"),!0;return!1},_.canParse=function(v,b){return o.canParse(v,b)},_.appendFrame=function(v,b,g){o.initTrackConfig(v,this.observer,b,g,v.manifestCodec);var m=o.appendFrame(v,b,g,this.initPTS,this.frameIndex);if(m&&m.missing===0)return m},f}(n.default);l.minProbeByteLength=9,t.default=l},"./src/demux/adts.ts":function(e,t,r){r.r(t),r.d(t,"getAudioConfig",function(){return a}),r.d(t,"isHeaderPattern",function(){return d}),r.d(t,"getHeaderLength",function(){return l}),r.d(t,"getFullFrameLength",function(){return s}),r.d(t,"canGetFrameLength",function(){return c}),r.d(t,"isHeader",function(){return u}),r.d(t,"canParse",function(){return f}),r.d(t,"probe",function(){return _}),r.d(t,"initTrackConfig",function(){return v}),r.d(t,"getFrameDuration",function(){return b}),r.d(t,"parseFrameHeader",function(){return g}),r.d(t,"appendFrame",function(){return m});var n=r("./src/utils/logger.ts"),o=r("./src/errors.ts"),i=r("./src/events.ts");function a(h,x,y,p){var C,S,w,A,E=navigator.userAgent.toLowerCase(),R=p,T=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];C=1+((192&x[y+2])>>>6);var L=(60&x[y+2])>>>2;if(!(L>T.length-1))return w=(1&x[y+2])<<2,w|=(192&x[y+3])>>>6,n.logger.log("manifest codec:"+p+", ADTS type:"+C+", samplingIndex:"+L),/firefox/i.test(E)?L>=6?(C=5,A=new Array(4),S=L-3):(C=2,A=new Array(2),S=L):E.indexOf("android")!==-1?(C=2,A=new Array(2),S=L):(C=5,A=new Array(4),p&&(p.indexOf("mp4a.40.29")!==-1||p.indexOf("mp4a.40.5")!==-1)||!p&&L>=6?S=L-3:((p&&p.indexOf("mp4a.40.2")!==-1&&(L>=6&&w===1||/vivaldi/i.test(E))||!p&&w===1)&&(C=2,A=new Array(2)),S=L)),A[0]=C<<3,A[0]|=(14&L)>>1,A[1]|=(1&L)<<7,A[1]|=w<<3,C===5&&(A[1]|=(14&S)>>1,A[2]=(1&S)<<7,A[2]|=8,A[3]=0),{config:A,samplerate:T[L],channelCount:w,codec:"mp4a.40."+C,manifestCodec:R};h.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+L})}function d(h,x){return h[x]===255&&(246&h[x+1])==240}function l(h,x){return 1&h[x+1]?7:9}function s(h,x){return(3&h[x+3])<<11|h[x+4]<<3|(224&h[x+5])>>>5}function c(h,x){return x+5<h.length}function u(h,x){return x+1<h.length&&d(h,x)}function f(h,x){return c(h,x)&&d(h,x)&&s(h,x)<=h.length-x}function _(h,x){if(u(h,x)){var y=l(h,x);if(x+y>=h.length)return!1;var p=s(h,x);if(p<=y)return!1;var C=x+p;return C===h.length||u(h,C)}return!1}function v(h,x,y,p,C){if(!h.samplerate){var S=a(x,y,p,C);if(!S)return;h.config=S.config,h.samplerate=S.samplerate,h.channelCount=S.channelCount,h.codec=S.codec,h.manifestCodec=S.manifestCodec,n.logger.log("parsed codec:"+h.codec+", rate:"+S.samplerate+", channels:"+S.channelCount)}}function b(h){return 9216e4/h}function g(h,x,y,p,C){var S=l(h,x),w=s(h,x);if((w-=S)>0)return{headerLength:S,frameLength:w,stamp:y+p*C}}function m(h,x,y,p,C){var S=g(x,y,p,C,b(h.samplerate));if(S){var w,A=S.frameLength,E=S.headerLength,R=S.stamp,T=E+A,L=Math.max(0,y+T-x.length);L?(w=new Uint8Array(T-E)).set(x.subarray(y+E,x.length),0):w=x.subarray(y+E,y+T);var P={unit:w,pts:R};return L||h.samples.push(P),{sample:P,length:T,missing:L}}}},"./src/demux/base-audio-demuxer.ts":function(e,t,r){r.r(t),r.d(t,"initPTSFn",function(){return s});var n=r("./src/polyfills/number.ts"),o=r("./src/demux/id3.ts"),i=r("./src/demux/dummy-demuxed-track.ts"),a=r("./src/utils/mp4-tools.ts"),d=r("./src/utils/typed-array.ts"),l=function(){function c(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var u=c.prototype;return u.resetInitSegment=function(f,_,v){this._id3Track={type:"id3",id:0,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},u.resetTimeStamp=function(){},u.resetContiguity=function(){},u.canParse=function(f,_){return!1},u.appendFrame=function(f,_,v){},u.demux=function(f,_){this.cachedData&&(f=Object(a.appendUint8Array)(this.cachedData,f),this.cachedData=null);var v,b,g=o.getID3Data(f,0),m=g?g.length:0,h=this._audioTrack,x=this._id3Track,y=g?o.getTimeStamp(g):void 0,p=f.length;for(this.frameIndex!==0&&this.initPTS!==null||(this.initPTS=s(y,_)),g&&g.length>0&&x.samples.push({pts:this.initPTS,dts:this.initPTS,data:g}),b=this.initPTS;m<p;){if(this.canParse(f,m)){var C=this.appendFrame(h,f,m);C?(this.frameIndex++,b=C.sample.pts,v=m+=C.length):m=p}else o.canParse(f,m)?(g=o.getID3Data(f,m),x.samples.push({pts:b,dts:b,data:g}),v=m+=g.length):m++;if(m===p&&v!==p){var S=Object(d.sliceUint8)(f,v);this.cachedData?this.cachedData=Object(a.appendUint8Array)(this.cachedData,S):this.cachedData=S}}return{audioTrack:h,avcTrack:Object(i.dummyTrack)(),id3Track:x,textTrack:Object(i.dummyTrack)()}},u.demuxSampleAes=function(f,_,v){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},u.flush=function(f){var _=this.cachedData;return _&&(this.cachedData=null,this.demux(_,0)),this.frameIndex=0,{audioTrack:this._audioTrack,avcTrack:Object(i.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(i.dummyTrack)()}},u.destroy=function(){},c}(),s=function(c,u){return Object(n.isFiniteNumber)(c)?90*c:9e4*u};t.default=l},"./src/demux/chunk-cache.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return n});var n=function(){function o(){this.chunks=[],this.dataLength=0}var i=o.prototype;return i.push=function(a){this.chunks.push(a),this.dataLength+=a.length},i.flush=function(){var a,d=this.chunks,l=this.dataLength;return d.length?(a=d.length===1?d[0]:function(s,c){for(var u=new Uint8Array(c),f=0,_=0;_<s.length;_++){var v=s[_];u.set(v,f),f+=v.length}return u}(d,l),this.reset(),a):new Uint8Array(0)},i.reset=function(){this.chunks.length=0,this.dataLength=0},o}()},"./src/demux/dummy-demuxed-track.ts":function(e,t,r){function n(){return{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}r.r(t),r.d(t,"dummyTrack",function(){return n})},"./src/demux/exp-golomb.ts":function(e,t,r){r.r(t);var n=r("./src/utils/logger.ts"),o=function(){function i(d){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=d,this.bytesAvailable=d.byteLength,this.word=0,this.bitsAvailable=0}var a=i.prototype;return a.loadWord=function(){var d=this.data,l=this.bytesAvailable,s=d.byteLength-l,c=new Uint8Array(4),u=Math.min(4,l);if(u===0)throw new Error("no bytes available");c.set(d.subarray(s,s+u)),this.word=new DataView(c.buffer).getUint32(0),this.bitsAvailable=8*u,this.bytesAvailable-=u},a.skipBits=function(d){var l;this.bitsAvailable>d?(this.word<<=d,this.bitsAvailable-=d):(d-=this.bitsAvailable,d-=(l=d>>3)>>3,this.bytesAvailable-=l,this.loadWord(),this.word<<=d,this.bitsAvailable-=d)},a.readBits=function(d){var l=Math.min(this.bitsAvailable,d),s=this.word>>>32-l;return d>32&&n.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=l,this.bitsAvailable>0?this.word<<=l:this.bytesAvailable>0&&this.loadWord(),(l=d-l)>0&&this.bitsAvailable?s<<l|this.readBits(l):s},a.skipLZ=function(){var d;for(d=0;d<this.bitsAvailable;++d)if(this.word&2147483648>>>d)return this.word<<=d,this.bitsAvailable-=d,d;return this.loadWord(),d+this.skipLZ()},a.skipUEG=function(){this.skipBits(1+this.skipLZ())},a.skipEG=function(){this.skipBits(1+this.skipLZ())},a.readUEG=function(){var d=this.skipLZ();return this.readBits(d+1)-1},a.readEG=function(){var d=this.readUEG();return 1&d?1+d>>>1:-1*(d>>>1)},a.readBoolean=function(){return this.readBits(1)===1},a.readUByte=function(){return this.readBits(8)},a.readUShort=function(){return this.readBits(16)},a.readUInt=function(){return this.readBits(32)},a.skipScalingList=function(d){for(var l=8,s=8,c=0;c<d;c++)s!==0&&(s=(l+this.readEG()+256)%256),l=s===0?l:s},a.readSPS=function(){var d,l,s,c=0,u=0,f=0,_=0,v=this.readUByte.bind(this),b=this.readBits.bind(this),g=this.readUEG.bind(this),m=this.readBoolean.bind(this),h=this.skipBits.bind(this),x=this.skipEG.bind(this),y=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);v();var C=v();if(b(5),h(3),v(),y(),C===100||C===110||C===122||C===244||C===44||C===83||C===86||C===118||C===128){var S=g();if(S===3&&h(1),y(),y(),h(1),m())for(l=S!==3?8:12,s=0;s<l;s++)m()&&p(s<6?16:64)}y();var w=g();if(w===0)g();else if(w===1)for(h(1),x(),x(),d=g(),s=0;s<d;s++)x();y(),h(1);var A=g(),E=g(),R=b(1);R===0&&h(1),h(1),m()&&(c=g(),u=g(),f=g(),_=g());var T=[1,1];if(m()&&m())switch(v()){case 1:T=[1,1];break;case 2:T=[12,11];break;case 3:T=[10,11];break;case 4:T=[16,11];break;case 5:T=[40,33];break;case 6:T=[24,11];break;case 7:T=[20,11];break;case 8:T=[32,11];break;case 9:T=[80,33];break;case 10:T=[18,11];break;case 11:T=[15,11];break;case 12:T=[64,33];break;case 13:T=[160,99];break;case 14:T=[4,3];break;case 15:T=[3,2];break;case 16:T=[2,1];break;case 255:T=[v()<<8|v(),v()<<8|v()]}return{width:Math.ceil(16*(A+1)-2*c-2*u),height:(2-R)*(E+1)*16-(R?2:4)*(f+_),pixelRatio:T}},a.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},i}();t.default=o},"./src/demux/id3.ts":function(e,t,r){r.r(t),r.d(t,"isHeader",function(){return o}),r.d(t,"isFooter",function(){return i}),r.d(t,"getID3Data",function(){return a}),r.d(t,"canParse",function(){return l}),r.d(t,"getTimeStamp",function(){return s}),r.d(t,"isTimeStampFrame",function(){return c}),r.d(t,"getID3Frames",function(){return f}),r.d(t,"decodeFrame",function(){return _}),r.d(t,"utf8ArrayToStr",function(){return h}),r.d(t,"testables",function(){return x});var n,o=function(y,p){return p+10<=y.length&&y[p]===73&&y[p+1]===68&&y[p+2]===51&&y[p+3]<255&&y[p+4]<255&&y[p+6]<128&&y[p+7]<128&&y[p+8]<128&&y[p+9]<128},i=function(y,p){return p+10<=y.length&&y[p]===51&&y[p+1]===68&&y[p+2]===73&&y[p+3]<255&&y[p+4]<255&&y[p+6]<128&&y[p+7]<128&&y[p+8]<128&&y[p+9]<128},a=function(y,p){for(var C=p,S=0;o(y,p);)S+=10,S+=d(y,p+6),i(y,p+10)&&(S+=10),p+=S;if(S>0)return y.subarray(C,C+S)},d=function(y,p){var C=0;return C=(127&y[p])<<21,C|=(127&y[p+1])<<14,C|=(127&y[p+2])<<7,C|=127&y[p+3]},l=function(y,p){return o(y,p)&&d(y,p+6)+10<=y.length-p},s=function(y){for(var p=f(y),C=0;C<p.length;C++){var S=p[C];if(c(S))return m(S)}},c=function(y){return y&&y.key==="PRIV"&&y.info==="com.apple.streaming.transportStreamTimestamp"},u=function(y){var p=String.fromCharCode(y[0],y[1],y[2],y[3]),C=d(y,4);return{type:p,size:C,data:y.subarray(10,10+C)}},f=function(y){for(var p=0,C=[];o(y,p);){for(var S=d(y,p+6),w=(p+=10)+S;p+8<w;){var A=u(y.subarray(p)),E=_(A);E&&C.push(E),p+=A.size+10}i(y,p)&&(p+=10)}return C},_=function(y){return y.type==="PRIV"?v(y):y.type[0]==="W"?g(y):b(y)},v=function(y){if(!(y.size<2)){var p=h(y.data,!0),C=new Uint8Array(y.data.subarray(p.length+1));return{key:y.type,info:p,data:C.buffer}}},b=function(y){if(!(y.size<2)){if(y.type==="TXXX"){var p=1,C=h(y.data.subarray(p),!0);p+=C.length+1;var S=h(y.data.subarray(p));return{key:y.type,info:C,data:S}}var w=h(y.data.subarray(1));return{key:y.type,data:w}}},g=function(y){if(y.type==="WXXX"){if(y.size<2)return;var p=1,C=h(y.data.subarray(p),!0);p+=C.length+1;var S=h(y.data.subarray(p));return{key:y.type,info:C,data:S}}var w=h(y.data);return{key:y.type,data:w}},m=function(y){if(y.data.byteLength===8){var p=new Uint8Array(y.data),C=1&p[3],S=(p[4]<<23)+(p[5]<<15)+(p[6]<<7)+p[7];return S/=45,C&&(S+=4772185884e-2),Math.round(S)}},h=function(y,p){p===void 0&&(p=!1);var C=(n||self.TextDecoder===void 0||(n=new self.TextDecoder("utf-8")),n);if(C){var S=C.decode(y);if(p){var w=S.indexOf("\0");return w!==-1?S.substring(0,w):S}return S.replace(/\0/g,"")}for(var A,E,R,T=y.length,L="",P=0;P<T;){if((A=y[P++])===0&&p)return L;if(A!==0&&A!==3)switch(A>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:L+=String.fromCharCode(A);break;case 12:case 13:E=y[P++],L+=String.fromCharCode((31&A)<<6|63&E);break;case 14:E=y[P++],R=y[P++],L+=String.fromCharCode((15&A)<<12|(63&E)<<6|(63&R)<<0)}}return L},x={decodeTextFrame:b}},"./src/demux/mp3demuxer.ts":function(e,t,r){r.r(t);var n=r("./src/demux/base-audio-demuxer.ts"),o=r("./src/demux/id3.ts"),i=r("./src/utils/logger.ts"),a=r("./src/demux/mpegaudio.ts");function d(s,c){return(d=Object.setPrototypeOf||function(u,f){return u.__proto__=f,u})(s,c)}var l=function(s){var c,u;function f(){return s.apply(this,arguments)||this}u=s,(c=f).prototype=Object.create(u.prototype),c.prototype.constructor=c,d(c,u);var _=f.prototype;return _.resetInitSegment=function(v,b,g){s.prototype.resetInitSegment.call(this,v,b,g),this._audioTrack={container:"audio/mpeg",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:v,duration:g,inputTimeScale:9e4,dropped:0}},f.probe=function(v){if(!v)return!1;for(var b=(o.getID3Data(v,0)||[]).length,g=v.length;b<g;b++)if(a.probe(v,b))return i.logger.log("MPEG Audio sync word found !"),!0;return!1},_.canParse=function(v,b){return a.canParse(v,b)},_.appendFrame=function(v,b,g){if(this.initPTS!==null)return a.appendFrame(v,b,g,this.initPTS,this.frameIndex)},f}(n.default);l.minProbeByteLength=4,t.default=l},"./src/demux/mp4demuxer.ts":function(e,t,r){r.r(t);var n=r("./src/utils/mp4-tools.ts"),o=r("./src/demux/dummy-demuxed-track.ts"),i=function(){function a(l,s){this.remainderData=null,this.config=void 0,this.config=s}var d=a.prototype;return d.resetTimeStamp=function(){},d.resetInitSegment=function(){},d.resetContiguity=function(){},a.probe=function(l){return Object(n.findBox)({data:l,start:0,end:Math.min(l.length,16384)},["moof"]).length>0},d.demux=function(l){var s=l,c=Object(o.dummyTrack)();if(this.config.progressive){this.remainderData&&(s=Object(n.appendUint8Array)(this.remainderData,l));var u=Object(n.segmentValidRange)(s);this.remainderData=u.remainder,c.samples=u.valid||new Uint8Array}else c.samples=s;return{audioTrack:Object(o.dummyTrack)(),avcTrack:c,id3Track:Object(o.dummyTrack)(),textTrack:Object(o.dummyTrack)()}},d.flush=function(){var l=Object(o.dummyTrack)();return l.samples=this.remainderData||new Uint8Array,this.remainderData=null,{audioTrack:Object(o.dummyTrack)(),avcTrack:l,id3Track:Object(o.dummyTrack)(),textTrack:Object(o.dummyTrack)()}},d.demuxSampleAes=function(l,s,c){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},d.destroy=function(){},a}();i.minProbeByteLength=1024,t.default=i},"./src/demux/mpegaudio.ts":function(e,t,r){r.r(t),r.d(t,"appendFrame",function(){return l}),r.d(t,"parseHeader",function(){return s}),r.d(t,"isHeaderPattern",function(){return c}),r.d(t,"isHeader",function(){return u}),r.d(t,"canParse",function(){return f}),r.d(t,"probe",function(){return _});var n=null,o=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],i=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],a=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],d=[0,1,1,4];function l(v,b,g,m,h){if(!(g+24>b.length)){var x=s(b,g);if(x&&g+x.frameLength<=b.length){var y=m+h*(9e4*x.samplesPerFrame/x.sampleRate),p={unit:b.subarray(g,g+x.frameLength),pts:y,dts:y};return v.config=[],v.channelCount=x.channelCount,v.samplerate=x.sampleRate,v.samples.push(p),{sample:p,length:x.frameLength,missing:0}}}}function s(v,b){var g=v[b+1]>>3&3,m=v[b+1]>>1&3,h=v[b+2]>>4&15,x=v[b+2]>>2&3;if(g!==1&&h!==0&&h!==15&&x!==3){var y=v[b+2]>>1&1,p=v[b+3]>>6,C=1e3*o[14*(g===3?3-m:m===3?3:4)+h-1],S=i[3*(g===3?0:g===2?1:2)+x],w=p===3?1:2,A=a[g][m],E=d[m],R=8*A*E,T=Math.floor(A*C/S+y)*E;if(n===null){var L=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);n=L?parseInt(L[1]):0}return n&&n<=87&&m===2&&C>=224e3&&p===0&&(v[b+3]=128|v[b+3]),{sampleRate:S,channelCount:w,frameLength:T,samplesPerFrame:R}}}function c(v,b){return v[b]===255&&(224&v[b+1])==224&&(6&v[b+1])!=0}function u(v,b){return b+1<v.length&&c(v,b)}function f(v,b){return c(v,b)&&4<=v.length-b}function _(v,b){if(b+1<v.length&&c(v,b)){var g=s(v,b),m=4;g!=null&&g.frameLength&&(m=g.frameLength);var h=b+m;return h===v.length||u(v,h)}return!1}},"./src/demux/sample-aes.ts":function(e,t,r){r.r(t);var n=r("./src/crypt/decrypter.ts"),o=r("./src/demux/tsdemuxer.ts"),i=function(){function a(l,s,c){this.keyData=void 0,this.decrypter=void 0,this.keyData=c,this.decrypter=new n.default(l,s,{removePKCS7Padding:!1})}var d=a.prototype;return d.decryptBuffer=function(l,s){this.decrypter.decrypt(l,this.keyData.key.buffer,this.keyData.iv.buffer,s)},d.decryptAacSample=function(l,s,c,u){var f=l[s].unit,_=f.subarray(16,f.length-f.length%16),v=_.buffer.slice(_.byteOffset,_.byteOffset+_.length),b=this;this.decryptBuffer(v,function(g){var m=new Uint8Array(g);f.set(m,16),u||b.decryptAacSamples(l,s+1,c)})},d.decryptAacSamples=function(l,s,c){for(;;s++){if(s>=l.length)return void c();if(!(l[s].unit.length<32)){var u=this.decrypter.isSync();if(this.decryptAacSample(l,s,c,u),!u)return}}},d.getAvcEncryptedData=function(l){for(var s=16*Math.floor((l.length-48)/160)+16,c=new Int8Array(s),u=0,f=32;f<=l.length-16;f+=160,u+=16)c.set(l.subarray(f,f+16),u);return c},d.getAvcDecryptedUnit=function(l,s){for(var c=new Uint8Array(s),u=0,f=32;f<=l.length-16;f+=160,u+=16)l.set(c.subarray(u,u+16),f);return l},d.decryptAvcSample=function(l,s,c,u,f,_){var v=Object(o.discardEPB)(f.data),b=this.getAvcEncryptedData(v),g=this;this.decryptBuffer(b.buffer,function(m){f.data=g.getAvcDecryptedUnit(v,m),_||g.decryptAvcSamples(l,s,c+1,u)})},d.decryptAvcSamples=function(l,s,c,u){if(l instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;s++,c=0){if(s>=l.length)return void u();for(var f=l[s].units;!(c>=f.length);c++){var _=f[c];if(!(_.data.length<=48||_.type!==1&&_.type!==5)){var v=this.decrypter.isSync();if(this.decryptAvcSample(l,s,c,u,_,v),!v)return}}}},a}();t.default=i},"./src/demux/transmuxer-interface.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return u});var n=r("./node_modules/webworkify-webpack/index.js"),o=r("./src/events.ts"),i=r("./src/demux/transmuxer.ts"),a=r("./src/utils/logger.ts"),d=r("./src/errors.ts"),l=r("./src/utils/mediasource-helper.ts"),s=r("./node_modules/eventemitter3/index.js"),c=Object(l.getMediaSource)()||{isTypeSupported:function(){return!1}},u=function(){function f(v,b,g,m){var h=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=v,this.id=b,this.onTransmuxComplete=g,this.onFlush=m;var x=v.config,y=function(w,A){(A=A||{}).frag=h.frag,A.id=h.id,v.trigger(w,A)};this.observer=new s.EventEmitter,this.observer.on(o.Events.FRAG_DECRYPTED,y),this.observer.on(o.Events.ERROR,y);var p={mp4:c.isTypeSupported("video/mp4"),mpeg:c.isTypeSupported("audio/mpeg"),mp3:c.isTypeSupported('audio/mp4; codecs="mp3"')},C=navigator.vendor;if(x.enableWorker&&typeof Worker<"u"){var S;a.logger.log("demuxing in webworker");try{S=this.worker=n("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),S.addEventListener("message",this.onwmsg),S.onerror=function(w){v.trigger(o.Events.ERROR,{type:d.ErrorTypes.OTHER_ERROR,details:d.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(w.message+"  ("+w.filename+":"+w.lineno+")")})},S.postMessage({cmd:"init",typeSupported:p,vendor:C,id:b,config:JSON.stringify(x)})}catch(w){a.logger.warn("Error in worker:",w),a.logger.error("Error while initializing DemuxerWorker, fallback to inline"),S&&self.URL.revokeObjectURL(S.objectURL),this.transmuxer=new i.default(this.observer,p,x,C,b),this.worker=null}}else this.transmuxer=new i.default(this.observer,p,x,C,b)}var _=f.prototype;return _.destroy=function(){var v=this.worker;if(v)v.removeEventListener("message",this.onwmsg),v.terminate(),this.worker=null;else{var b=this.transmuxer;b&&(b.destroy(),this.transmuxer=null)}var g=this.observer;g&&g.removeAllListeners(),this.observer=null},_.push=function(v,b,g,m,h,x,y,p,C,S){var w=this;C.transmuxing.start=self.performance.now();var A=this.transmuxer,E=this.worker,R=x?x.start:h.start,T=h.decryptdata,L=this.frag,P=!(L&&h.cc===L.cc),k=!(L&&C.level===L.level),D=L?C.sn-L.sn:-1,O=this.part?C.part-this.part.index:1,M=!k&&(D===1||D===0&&O===1),F=self.performance.now();(k||D||h.stats.parsing.start===0)&&(h.stats.parsing.start=F),!x||!O&&M||(x.stats.parsing.start=F);var N=new i.TransmuxState(P,M,p,k,R);if(!M||P){a.logger.log("[transmuxer-interface, "+h.type+"]: Starting new transmux session for sn: "+C.sn+" p: "+C.part+" level: "+C.level+" id: "+C.id+`
        discontinuity: `+P+`
        trackSwitch: `+k+`
        contiguous: `+M+`
        accurateTimeOffset: `+p+`
        timeOffset: `+R);var U=new i.TransmuxConfig(g,m,b,y,S);this.configureTransmuxer(U)}if(this.frag=h,this.part=x,E)E.postMessage({cmd:"demux",data:v,decryptdata:T,chunkMeta:C,state:N},v instanceof ArrayBuffer?[v]:[]);else if(A){var G=A.push(v,T,C,N);Object(i.isPromise)(G)?G.then(function(H){w.handleTransmuxComplete(H)}):this.handleTransmuxComplete(G)}},_.flush=function(v){var b=this;v.transmuxing.start=self.performance.now();var g=this.transmuxer,m=this.worker;if(m)m.postMessage({cmd:"flush",chunkMeta:v});else if(g){var h=g.flush(v);Object(i.isPromise)(h)?h.then(function(x){b.handleFlushResult(x,v)}):this.handleFlushResult(h,v)}},_.handleFlushResult=function(v,b){var g=this;v.forEach(function(m){g.handleTransmuxComplete(m)}),this.onFlush(b)},_.onWorkerMessage=function(v){var b=v.data,g=this.hls;switch(b.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(b.data);break;case"flush":this.onFlush(b.data);break;default:b.data=b.data||{},b.data.frag=this.frag,b.data.id=this.id,g.trigger(b.event,b.data)}},_.configureTransmuxer=function(v){var b=this.worker,g=this.transmuxer;b?b.postMessage({cmd:"configure",config:v}):g&&g.configure(v)},_.handleTransmuxComplete=function(v){v.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(v)},f}()},"./src/demux/transmuxer-worker.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return d});var n=r("./src/demux/transmuxer.ts"),o=r("./src/events.ts"),i=r("./src/utils/logger.ts"),a=r("./node_modules/eventemitter3/index.js");function d(u){var f=new a.EventEmitter,_=function(v,b){u.postMessage({event:v,data:b})};f.on(o.Events.FRAG_DECRYPTED,_),f.on(o.Events.ERROR,_),u.addEventListener("message",function(v){var b=v.data;switch(b.cmd){case"init":var g=JSON.parse(b.config);u.transmuxer=new n.default(f,b.typeSupported,g,b.vendor,b.id),Object(i.enableLogs)(g.debug),_("init",null);break;case"configure":u.transmuxer.configure(b.config);break;case"demux":var m=u.transmuxer.push(b.data,b.decryptdata,b.chunkMeta,b.state);Object(n.isPromise)(m)?m.then(function(y){l(u,y)}):l(u,m);break;case"flush":var h=b.chunkMeta,x=u.transmuxer.flush(h);Object(n.isPromise)(x)?x.then(function(y){c(u,y,h)}):c(u,x,h)}})}function l(u,f){if((_=f.remuxResult).audio||_.video||_.text||_.id3||_.initSegment){var _,v=[],b=f.remuxResult,g=b.audio,m=b.video;g&&s(v,g),m&&s(v,m),u.postMessage({event:"transmuxComplete",data:f},v)}}function s(u,f){f.data1&&u.push(f.data1.buffer),f.data2&&u.push(f.data2.buffer)}function c(u,f,_){f.forEach(function(v){l(u,v)}),u.postMessage({event:"flush",data:_})}},"./src/demux/transmuxer.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return h}),r.d(t,"isPromise",function(){return y}),r.d(t,"TransmuxConfig",function(){return p}),r.d(t,"TransmuxState",function(){return C});var n,o=r("./src/events.ts"),i=r("./src/errors.ts"),a=r("./src/crypt/decrypter.ts"),d=r("./src/demux/aacdemuxer.ts"),l=r("./src/demux/mp4demuxer.ts"),s=r("./src/demux/tsdemuxer.ts"),c=r("./src/demux/mp3demuxer.ts"),u=r("./src/remux/mp4-remuxer.ts"),f=r("./src/remux/passthrough-remuxer.ts"),_=r("./src/demux/chunk-cache.ts"),v=r("./src/utils/mp4-tools.ts"),b=r("./src/utils/logger.ts");try{n=self.performance.now.bind(self.performance)}catch{b.logger.debug("Unable to use Performance API on this environment"),n=self.Date.now}var g=[{demux:s.default,remux:u.default},{demux:l.default,remux:f.default},{demux:d.default,remux:u.default},{demux:c.default,remux:u.default}],m=1024;g.forEach(function(S){var w=S.demux;m=Math.max(m,w.minProbeByteLength)});var h=function(){function S(A,E,R,T,L){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new _.default,this.observer=A,this.typeSupported=E,this.config=R,this.vendor=T,this.id=L}var w=S.prototype;return w.configure=function(A){this.transmuxConfig=A,this.decrypter&&this.decrypter.reset()},w.push=function(A,E,R,T){var L=this,P=R.transmuxing;P.executeStart=n();var k=new Uint8Array(A),D=this.cache,O=this.config,M=this.currentTransmuxState,F=this.transmuxConfig;T&&(this.currentTransmuxState=T);var N=function(K,te){var re=null;return K.byteLength>0&&te!=null&&te.key!=null&&te.iv!==null&&te.method!=null&&(re=te),re}(k,E);if(N&&N.method==="AES-128"){var U=this.getDecrypter();if(!O.enableSoftwareAES)return this.decryptionPromise=U.webCryptoDecrypt(k,N.key.buffer,N.iv.buffer).then(function(K){var te=L.push(K,null,R);return L.decryptionPromise=null,te}),this.decryptionPromise;var G=U.softwareDecrypt(k,N.key.buffer,N.iv.buffer);if(!G)return P.executeEnd=n(),x(R);k=new Uint8Array(G)}var H=T||M,Z=H.contiguous,de=H.discontinuity,ee=H.trackSwitch,W=H.accurateTimeOffset,ae=H.timeOffset,q=F.audioCodec,pe=F.videoCodec,we=F.defaultInitPts,B=F.duration,$=F.initSegmentData;if((de||ee)&&this.resetInitSegment($,q,pe,B),de&&this.resetInitialTimestamp(we),Z||this.resetContiguity(),this.needsProbing(k,de,ee)){if(D.dataLength){var z=D.flush();k=Object(v.appendUint8Array)(z,k)}this.configureTransmuxer(k,F)}var Y=this.transmux(k,N,ae,W,R),j=this.currentTransmuxState;return j.contiguous=!0,j.discontinuity=!1,j.trackSwitch=!1,P.executeEnd=n(),Y},w.flush=function(A){var E=this,R=A.transmuxing;R.executeStart=n();var T=this.decrypter,L=this.cache,P=this.currentTransmuxState,k=this.decryptionPromise;if(k)return k.then(function(){return E.flush(A)});var D=[],O=P.timeOffset;if(T){var M=T.flush();M&&D.push(this.push(M,null,A))}var F=L.dataLength;L.reset();var N=this.demuxer,U=this.remuxer;if(!N||!U)return F>=m&&this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),R.executeEnd=n(),[x(A)];var G=N.flush(O);return y(G)?G.then(function(H){return E.flushRemux(D,H,A),D}):(this.flushRemux(D,G,A),D)},w.flushRemux=function(A,E,R){var T=E.audioTrack,L=E.avcTrack,P=E.id3Track,k=E.textTrack,D=this.currentTransmuxState,O=D.accurateTimeOffset,M=D.timeOffset;b.logger.log("[transmuxer.ts]: Flushed fragment "+R.sn+(R.part>-1?" p: "+R.part:"")+" of level "+R.level);var F=this.remuxer.remux(T,L,P,k,M,O,!0,this.id);A.push({remuxResult:F,chunkMeta:R}),R.transmuxing.executeEnd=n()},w.resetInitialTimestamp=function(A){var E=this.demuxer,R=this.remuxer;E&&R&&(E.resetTimeStamp(A),R.resetTimeStamp(A))},w.resetContiguity=function(){var A=this.demuxer,E=this.remuxer;A&&E&&(A.resetContiguity(),E.resetNextTimestamp())},w.resetInitSegment=function(A,E,R,T){var L=this.demuxer,P=this.remuxer;L&&P&&(L.resetInitSegment(E,R,T),P.resetInitSegment(A,E,R))},w.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},w.transmux=function(A,E,R,T,L){return E&&E.method==="SAMPLE-AES"?this.transmuxSampleAes(A,E,R,T,L):this.transmuxUnencrypted(A,R,T,L)},w.transmuxUnencrypted=function(A,E,R,T){var L=this.demuxer.demux(A,E,!1,!this.config.progressive),P=L.audioTrack,k=L.avcTrack,D=L.id3Track,O=L.textTrack;return{remuxResult:this.remuxer.remux(P,k,D,O,E,R,!1,this.id),chunkMeta:T}},w.transmuxSampleAes=function(A,E,R,T,L){var P=this;return this.demuxer.demuxSampleAes(A,E,R).then(function(k){return{remuxResult:P.remuxer.remux(k.audioTrack,k.avcTrack,k.id3Track,k.textTrack,R,T,!1,P.id),chunkMeta:L}})},w.configureTransmuxer=function(A,E){for(var R,T=this.config,L=this.observer,P=this.typeSupported,k=this.vendor,D=E.audioCodec,O=E.defaultInitPts,M=E.duration,F=E.initSegmentData,N=E.videoCodec,U=0,G=g.length;U<G;U++)if(g[U].demux.probe(A)){R=g[U];break}R||(b.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),R={demux:l.default,remux:f.default});var H=this.demuxer,Z=this.remuxer,de=R.remux,ee=R.demux;Z&&Z instanceof de||(this.remuxer=new de(L,T,P,k)),H&&H instanceof ee||(this.demuxer=new ee(L,T,P),this.probe=ee.probe),this.resetInitSegment(F,D,N,M),this.resetInitialTimestamp(O)},w.needsProbing=function(A,E,R){return!this.demuxer||!this.remuxer||E||R},w.getDecrypter=function(){var A=this.decrypter;return A||(A=this.decrypter=new a.default(this.observer,this.config)),A},S}(),x=function(S){return{remuxResult:{},chunkMeta:S}};function y(S){return"then"in S&&S.then instanceof Function}var p=function(S,w,A,E,R){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=S,this.videoCodec=w,this.initSegmentData=A,this.duration=E,this.defaultInitPts=R},C=function(S,w,A,E,R){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.discontinuity=S,this.contiguous=w,this.accurateTimeOffset=A,this.trackSwitch=E,this.timeOffset=R}},"./src/demux/tsdemuxer.ts":function(e,t,r){r.r(t),r.d(t,"discardEPB",function(){return y});var n=r("./src/demux/adts.ts"),o=r("./src/demux/mpegaudio.ts"),i=r("./src/demux/exp-golomb.ts"),a=r("./src/demux/id3.ts"),d=r("./src/demux/sample-aes.ts"),l=r("./src/events.ts"),s=r("./src/utils/mp4-tools.ts"),c=r("./src/utils/logger.ts"),u=r("./src/errors.ts"),f={video:1,audio:2,id3:3,text:4},_=function(){function p(S,w,A){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this.aacLastPTS=null,this._initPTS=null,this._initDTS=null,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=S,this.config=w,this.typeSupported=A}p.probe=function(S){var w=p.syncOffset(S);return!(w<0||(w&&c.logger.warn("MPEG2-TS detected but first sync word found @ offset "+w+", junk ahead ?"),0))},p.syncOffset=function(S){for(var w=Math.min(1e3,S.length-564),A=0;A<w;){if(S[A]===71&&S[A+188]===71&&S[A+376]===71)return A;A++}return-1},p.createTrack=function(S,w){return{container:S==="video"||S==="audio"?"video/mp2t":void 0,type:S,id:f[S],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:S==="audio"?w:void 0}};var C=p.prototype;return C.resetInitSegment=function(S,w,A){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=p.createTrack("video",A),this._audioTrack=p.createTrack("audio",A),this._id3Track=p.createTrack("id3",A),this._txtTrack=p.createTrack("text",A),this._audioTrack.isAAC=!0,this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=S,this.videoCodec=w,this._duration=A},C.resetTimeStamp=function(){},C.resetContiguity=function(){var S=this._audioTrack,w=this._avcTrack,A=this._id3Track;S&&(S.pesData=null),w&&(w.pesData=null),A&&(A.pesData=null),this.aacOverFlow=null,this.aacLastPTS=null},C.demux=function(S,w,A,E){var R;A===void 0&&(A=!1),E===void 0&&(E=!1),A||(this.sampleAes=null);var T=this._avcTrack,L=this._audioTrack,P=this._id3Track,k=T.pid,D=T.pesData,O=L.pid,M=P.pid,F=L.pesData,N=P.pesData,U=!1,G=this.pmtParsed,H=this._pmtId,Z=S.length;if(this.remainderData&&(Z=(S=Object(s.appendUint8Array)(this.remainderData,S)).length,this.remainderData=null),Z<188&&!E)return this.remainderData=S,{audioTrack:L,avcTrack:T,id3Track:P,textTrack:this._txtTrack};var de=Math.max(0,p.syncOffset(S));(Z-=(Z+de)%188)<S.byteLength&&!E&&(this.remainderData=new Uint8Array(S.buffer,Z,S.buffer.byteLength-Z));for(var ee=de;ee<Z;ee+=188)if(S[ee]===71){var W=!!(64&S[ee+1]),ae=((31&S[ee+1])<<8)+S[ee+2],q=void 0;if((48&S[ee+3])>>4>1){if((q=ee+5+S[ee+4])===ee+188)continue}else q=ee+4;switch(ae){case k:W&&(D&&(R=m(D))&&this.parseAVCPES(R,!1),D={data:[],size:0}),D&&(D.data.push(S.subarray(q,ee+188)),D.size+=ee+188-q);break;case O:W&&(F&&(R=m(F))&&(L.isAAC?this.parseAACPES(R):this.parseMPEGPES(R)),F={data:[],size:0}),F&&(F.data.push(S.subarray(q,ee+188)),F.size+=ee+188-q);break;case M:W&&(N&&(R=m(N))&&this.parseID3PES(R),N={data:[],size:0}),N&&(N.data.push(S.subarray(q,ee+188)),N.size+=ee+188-q);break;case 0:W&&(q+=S[q]+1),H=this._pmtId=b(S,q);break;case H:W&&(q+=S[q]+1);var pe=g(S,q,this.typeSupported.mpeg===!0||this.typeSupported.mp3===!0,A);(k=pe.avc)>0&&(T.pid=k),(O=pe.audio)>0&&(L.pid=O,L.isAAC=pe.isAAC),(M=pe.id3)>0&&(P.pid=M),U&&!G&&(c.logger.log("reparse from beginning"),U=!1,ee=de-188),G=this.pmtParsed=!0;break;case 17:case 8191:break;default:U=!0}}else this.observer.emit(l.Events.ERROR,l.Events.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});T.pesData=D,L.pesData=F,P.pesData=N;var we={audioTrack:L,avcTrack:T,id3Track:P,textTrack:this._txtTrack};return E&&this.extractRemainingSamples(we),we},C.flush=function(){var S,w=this.remainderData;return this.remainderData=null,S=w?this.demux(w,-1,!1,!0):{audioTrack:this._audioTrack,avcTrack:this._avcTrack,textTrack:this._txtTrack,id3Track:this._id3Track},this.extractRemainingSamples(S),this.sampleAes?this.decrypt(S,this.sampleAes):S},C.extractRemainingSamples=function(S){var w,A=S.audioTrack,E=S.avcTrack,R=S.id3Track,T=E.pesData,L=A.pesData,P=R.pesData;T&&(w=m(T))?(this.parseAVCPES(w,!0),E.pesData=null):E.pesData=T,L&&(w=m(L))?(A.isAAC?this.parseAACPES(w):this.parseMPEGPES(w),A.pesData=null):(L!=null&&L.size&&c.logger.log("last AAC PES packet truncated,might overlap between fragments"),A.pesData=L),P&&(w=m(P))?(this.parseID3PES(w),R.pesData=null):R.pesData=P},C.demuxSampleAes=function(S,w,A){var E=this.demux(S,A,!0,!this.config.progressive),R=this.sampleAes=new d.default(this.observer,this.config,w);return this.decrypt(E,R)},C.decrypt=function(S,w){return new Promise(function(A){var E=S.audioTrack,R=S.avcTrack;E.samples&&E.isAAC?w.decryptAacSamples(E.samples,0,function(){R.samples?w.decryptAvcSamples(R.samples,0,0,function(){A(S)}):A(S)}):R.samples&&w.decryptAvcSamples(R.samples,0,0,function(){A(S)})})},C.destroy=function(){this._initPTS=this._initDTS=null,this._duration=0},C.parseAVCPES=function(S,w){var A,E=this,R=this._avcTrack,T=this.parseAVCNALu(S.data),L=this.avcSample,P=!1;S.data=null,L&&T.length&&!R.audFound&&(h(L,R),L=this.avcSample=v(!1,S.pts,S.dts,"")),T.forEach(function(k){switch(k.type){case 1:A=!0,L||(L=E.avcSample=v(!0,S.pts,S.dts,"")),L.frame=!0;var D=k.data;if(P&&D.length>4){var O=new i.default(D).readSliceType();O!==2&&O!==4&&O!==7&&O!==9||(L.key=!0)}break;case 5:A=!0,L||(L=E.avcSample=v(!0,S.pts,S.dts,"")),L.key=!0,L.frame=!0;break;case 6:A=!0;var M=new i.default(y(k.data));M.readUByte();for(var F=0,N=0,U=!1,G=0;!U&&M.bytesAvailable>1;){F=0;do F+=G=M.readUByte();while(G===255);N=0;do N+=G=M.readUByte();while(G===255);if(F===4&&M.bytesAvailable!==0){if(U=!0,M.readUByte()===181&&M.readUShort()===49&&M.readUInt()===1195456820&&M.readUByte()===3){for(var H=M.readUByte(),Z=31&H,de=[H,M.readUByte()],ee=0;ee<Z;ee++)de.push(M.readUByte()),de.push(M.readUByte()),de.push(M.readUByte());x(E._txtTrack.samples,{type:3,pts:S.pts,bytes:de})}}else if(F===5&&M.bytesAvailable!==0){if(U=!0,N>16){for(var W=[],ae=0;ae<16;ae++)W.push(M.readUByte().toString(16)),ae!==3&&ae!==5&&ae!==7&&ae!==9||W.push("-");for(var q=N-16,pe=new Uint8Array(q),we=0;we<q;we++)pe[we]=M.readUByte();x(E._txtTrack.samples,{pts:S.pts,payloadType:F,uuid:W.join(""),userData:Object(a.utf8ArrayToStr)(pe),userDataBytes:pe})}}else if(N<M.bytesAvailable)for(var B=0;B<N;B++)M.readUByte()}break;case 7:if(A=!0,P=!0,!R.sps){var $=new i.default(k.data).readSPS();R.width=$.width,R.height=$.height,R.pixelRatio=$.pixelRatio,R.sps=[k.data],R.duration=E._duration;for(var z=k.data.subarray(1,4),Y="avc1.",j=0;j<3;j++){var K=z[j].toString(16);K.length<2&&(K="0"+K),Y+=K}R.codec=Y}break;case 8:A=!0,R.pps||(R.pps=[k.data]);break;case 9:A=!1,R.audFound=!0,L&&h(L,R),L=E.avcSample=v(!1,S.pts,S.dts,"");break;case 12:A=!1;break;default:A=!1,L&&(L.debug+="unknown NAL "+k.type+" ")}L&&A&&L.units.push(k)}),w&&L&&(h(L,R),this.avcSample=null)},C.getLastNalUnit=function(){var S,w,A=this.avcSample;if(!A||A.units.length===0){var E=this._avcTrack.samples;A=E[E.length-1]}if((S=A)!==null&&S!==void 0&&S.units){var R=A.units;w=R[R.length-1]}return w},C.parseAVCNALu=function(S){var w,A,E=S.byteLength,R=this._avcTrack,T=R.naluState||0,L=T,P=[],k=0,D=-1,O=0;for(T===-1&&(D=0,O=31&S[0],T=0,k=1);k<E;)if(w=S[k++],T)if(T!==1)if(w)if(w===1){if(D>=0){var M={data:S.subarray(D,k-T-1),type:O};P.push(M)}else{var F=this.getLastNalUnit();if(F&&(L&&k<=4-L&&F.state&&(F.data=F.data.subarray(0,F.data.byteLength-L)),(A=k-T-1)>0)){var N=new Uint8Array(F.data.byteLength+A);N.set(F.data,0),N.set(S.subarray(0,A),F.data.byteLength),F.data=N}}k<E?(D=k,O=31&S[k],T=0):T=-1}else T=0;else T=3;else T=w?0:2;else T=w?0:1;if(D>=0&&T>=0){var U={data:S.subarray(D,E),type:O,state:T};P.push(U)}if(P.length===0){var G=this.getLastNalUnit();if(G){var H=new Uint8Array(G.data.byteLength+S.byteLength);H.set(G.data,0),H.set(S,G.data.byteLength),G.data=H}}return R.naluState=T,P},C.parseAACPES=function(S){var w,A,E,R,T,L=0,P=this._audioTrack,k=this.aacOverFlow,D=S.data;if(k){this.aacOverFlow=null;var O=k.sample.unit.byteLength,M=Math.min(k.missing,O),F=O-M;k.sample.unit.set(D.subarray(0,M),F),P.samples.push(k.sample),L=k.missing}for(w=L,A=D.length;w<A-1&&!n.isHeader(D,w);w++);if(w===L||(w<A-1?(E="AAC PES did not start with ADTS header,offset:"+w,R=!1):(E="no ADTS header found in AAC PES",R=!0),c.logger.warn("parsing error:"+E),this.observer.emit(l.Events.ERROR,l.Events.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:R,reason:E}),!R)){if(n.initTrackConfig(P,this.observer,D,w,this.audioCodec),S.pts!==void 0)T=S.pts;else{if(!k)return void c.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var N=n.getFrameDuration(P.samplerate);T=k.sample.pts+N}for(var U=0;w<A;){if(n.isHeader(D,w)){if(w+5<A){var G=n.appendFrame(P,D,w,T,U);if(G){if(!G.missing){w+=G.length,U++;continue}this.aacOverFlow=G}}break}w++}}},C.parseMPEGPES=function(S){var w=S.data,A=w.length,E=0,R=0,T=S.pts;if(T!==void 0)for(;R<A;)if(o.isHeader(w,R)){var L=o.appendFrame(this._audioTrack,w,R,T,E);if(!L)break;R+=L.length,E++}else R++;else c.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},C.parseID3PES=function(S){S.pts!==void 0?this._id3Track.samples.push(S):c.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},p}();function v(p,C,S,w){return{key:p,frame:!1,pts:C,dts:S,units:[],debug:w,length:0}}function b(p,C){return(31&p[C+10])<<8|p[C+11]}function g(p,C,S,w){var A={audio:-1,avc:-1,id3:-1,isAAC:!0},E=C+3+((15&p[C+1])<<8|p[C+2])-4;for(C+=12+((15&p[C+10])<<8|p[C+11]);C<E;){var R=(31&p[C+1])<<8|p[C+2];switch(p[C]){case 207:if(!w){c.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:A.audio===-1&&(A.audio=R);break;case 21:A.id3===-1&&(A.id3=R);break;case 219:if(!w){c.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:A.avc===-1&&(A.avc=R);break;case 3:case 4:S?A.audio===-1&&(A.audio=R,A.isAAC=!1):c.logger.log("MPEG audio found, not supported in this browser");break;case 36:c.logger.warn("Unsupported HEVC stream type found")}C+=5+((15&p[C+3])<<8|p[C+4])}return A}function m(p){var C,S,w,A,E,R=0,T=p.data;if(!p||p.size===0)return null;for(;T[0].length<19&&T.length>1;){var L=new Uint8Array(T[0].length+T[1].length);L.set(T[0]),L.set(T[1],T[0].length),T[0]=L,T.splice(1,1)}if(((C=T[0])[0]<<16)+(C[1]<<8)+C[2]===1){if((S=(C[4]<<8)+C[5])&&S>p.size-6)return null;var P=C[7];192&P&&(A=536870912*(14&C[9])+4194304*(255&C[10])+16384*(254&C[11])+128*(255&C[12])+(254&C[13])/2,64&P?A-(E=536870912*(14&C[14])+4194304*(255&C[15])+16384*(254&C[16])+128*(255&C[17])+(254&C[18])/2)>54e5&&(c.logger.warn(Math.round((A-E)/9e4)+"s delta between PTS and DTS, align them"),A=E):E=A);var k=(w=C[8])+9;if(p.size<=k)return null;p.size-=k;for(var D=new Uint8Array(p.size),O=0,M=T.length;O<M;O++){var F=(C=T[O]).byteLength;if(k){if(k>F){k-=F;continue}C=C.subarray(k),F-=k,k=0}D.set(C,R),R+=F}return S&&(S-=w+3),{data:D,pts:A,dts:E,len:S}}return null}function h(p,C){if(p.units.length&&p.frame){if(p.pts===void 0){var S=C.samples,w=S.length;if(!w)return void C.dropped++;var A=S[w-1];p.pts=A.pts,p.dts=A.dts}C.samples.push(p)}p.debug.length&&c.logger.log(p.pts+"/"+p.dts+":"+p.debug)}function x(p,C){var S=p.length;if(S>0){if(C.pts>=p[S-1].pts)p.push(C);else for(var w=S-1;w>=0;w--)if(C.pts<p[w].pts){p.splice(w,0,C);break}}else p.push(C)}function y(p){for(var C=p.byteLength,S=[],w=1;w<C-2;)p[w]===0&&p[w+1]===0&&p[w+2]===3?(S.push(w+2),w+=2):w++;if(S.length===0)return p;var A=C-S.length,E=new Uint8Array(A),R=0;for(w=0;w<A;R++,w++)R===S[0]&&(R++,S.shift()),E[w]=p[R];return E}_.minProbeByteLength=188,t.default=_},"./src/errors.ts":function(e,t,r){var n,o,i,a;r.r(t),r.d(t,"ErrorTypes",function(){return n}),r.d(t,"ErrorDetails",function(){return i}),(o=n||(n={})).NETWORK_ERROR="networkError",o.MEDIA_ERROR="mediaError",o.KEY_SYSTEM_ERROR="keySystemError",o.MUX_ERROR="muxError",o.OTHER_ERROR="otherError",(a=i||(i={})).KEY_SYSTEM_NO_KEYS="keySystemNoKeys",a.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",a.KEY_SYSTEM_NO_SESSION="keySystemNoSession",a.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",a.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",a.MANIFEST_LOAD_ERROR="manifestLoadError",a.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",a.MANIFEST_PARSING_ERROR="manifestParsingError",a.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",a.LEVEL_EMPTY_ERROR="levelEmptyError",a.LEVEL_LOAD_ERROR="levelLoadError",a.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",a.LEVEL_SWITCH_ERROR="levelSwitchError",a.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",a.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",a.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",a.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",a.FRAG_LOAD_ERROR="fragLoadError",a.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",a.FRAG_DECRYPT_ERROR="fragDecryptError",a.FRAG_PARSING_ERROR="fragParsingError",a.REMUX_ALLOC_ERROR="remuxAllocError",a.KEY_LOAD_ERROR="keyLoadError",a.KEY_LOAD_TIMEOUT="keyLoadTimeOut",a.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",a.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",a.BUFFER_APPEND_ERROR="bufferAppendError",a.BUFFER_APPENDING_ERROR="bufferAppendingError",a.BUFFER_STALLED_ERROR="bufferStalledError",a.BUFFER_FULL_ERROR="bufferFullError",a.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",a.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",a.INTERNAL_EXCEPTION="internalException",a.INTERNAL_ABORTED="aborted",a.UNKNOWN="unknown"},"./src/events.ts":function(e,t,r){var n,o;r.r(t),r.d(t,"Events",function(){return n}),(o=n||(n={})).MEDIA_ATTACHING="hlsMediaAttaching",o.MEDIA_ATTACHED="hlsMediaAttached",o.MEDIA_DETACHING="hlsMediaDetaching",o.MEDIA_DETACHED="hlsMediaDetached",o.BUFFER_RESET="hlsBufferReset",o.BUFFER_CODECS="hlsBufferCodecs",o.BUFFER_CREATED="hlsBufferCreated",o.BUFFER_APPENDING="hlsBufferAppending",o.BUFFER_APPENDED="hlsBufferAppended",o.BUFFER_EOS="hlsBufferEos",o.BUFFER_FLUSHING="hlsBufferFlushing",o.BUFFER_FLUSHED="hlsBufferFlushed",o.MANIFEST_LOADING="hlsManifestLoading",o.MANIFEST_LOADED="hlsManifestLoaded",o.MANIFEST_PARSED="hlsManifestParsed",o.LEVEL_SWITCHING="hlsLevelSwitching",o.LEVEL_SWITCHED="hlsLevelSwitched",o.LEVEL_LOADING="hlsLevelLoading",o.LEVEL_LOADED="hlsLevelLoaded",o.LEVEL_UPDATED="hlsLevelUpdated",o.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",o.LEVELS_UPDATED="hlsLevelsUpdated",o.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",o.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",o.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",o.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",o.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",o.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",o.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",o.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",o.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",o.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",o.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",o.CUES_PARSED="hlsCuesParsed",o.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",o.INIT_PTS_FOUND="hlsInitPtsFound",o.FRAG_LOADING="hlsFragLoading",o.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",o.FRAG_LOADED="hlsFragLoaded",o.FRAG_DECRYPTED="hlsFragDecrypted",o.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",o.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",o.FRAG_PARSING_METADATA="hlsFragParsingMetadata",o.FRAG_PARSED="hlsFragParsed",o.FRAG_BUFFERED="hlsFragBuffered",o.FRAG_CHANGED="hlsFragChanged",o.FPS_DROP="hlsFpsDrop",o.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",o.ERROR="hlsError",o.DESTROYING="hlsDestroying",o.KEY_LOADING="hlsKeyLoading",o.KEY_LOADED="hlsKeyLoaded",o.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",o.BACK_BUFFER_REACHED="hlsBackBufferReached"},"./src/hls.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return h});var n=r("./node_modules/url-toolkit/src/url-toolkit.js"),o=r("./src/loader/playlist-loader.ts"),i=r("./src/loader/key-loader.ts"),a=r("./src/controller/id3-track-controller.ts"),d=r("./src/controller/latency-controller.ts"),l=r("./src/controller/level-controller.ts"),s=r("./src/controller/fragment-tracker.ts"),c=r("./src/controller/stream-controller.ts"),u=r("./src/is-supported.ts"),f=r("./src/utils/logger.ts"),_=r("./src/config.ts"),v=r("./node_modules/eventemitter3/index.js"),b=r("./src/events.ts"),g=r("./src/errors.ts");function m(x,y){for(var p=0;p<y.length;p++){var C=y[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(x,C.key,C)}}var h=function(){function x(w){w===void 0&&(w={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new v.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this._media=null,this.url=null;var A=this.config=Object(_.mergeConfig)(x.DefaultConfig,w);this.userConfig=w,Object(f.enableLogs)(A.debug),this._autoLevelCapping=-1,A.progressive&&Object(_.enableStreamingMode)(A);var E=A.abrController,R=A.bufferController,T=A.capLevelController,L=A.fpsController,P=this.abrController=new E(this),k=this.bufferController=new R(this),D=this.capLevelController=new T(this),O=new L(this),M=new o.default(this),F=new i.default(this),N=new a.default(this),U=this.levelController=new l.default(this),G=new s.FragmentTracker(this),H=this.streamController=new c.default(this,G);D.setStreamController(H),O.setStreamController(H);var Z=[U,H];this.networkControllers=Z;var de=[M,F,P,k,D,O,N,G];this.audioTrackController=this.createController(A.audioTrackController,null,Z),this.createController(A.audioStreamController,G,Z),this.subtitleTrackController=this.createController(A.subtitleTrackController,null,Z),this.createController(A.subtitleStreamController,G,Z),this.createController(A.timelineController,null,de),this.emeController=this.createController(A.emeController,null,de),this.latencyController=this.createController(d.default,null,de),this.coreComponents=de}x.isSupported=function(){return Object(u.isSupported)()};var y,p,C,S=x.prototype;return S.createController=function(w,A,E){if(w){var R=A?new w(this,A):new w(this);return E&&E.push(R),R}return null},S.on=function(w,A,E){E===void 0&&(E=this),this._emitter.on(w,A,E)},S.once=function(w,A,E){E===void 0&&(E=this),this._emitter.once(w,A,E)},S.removeAllListeners=function(w){this._emitter.removeAllListeners(w)},S.off=function(w,A,E,R){E===void 0&&(E=this),this._emitter.off(w,A,E,R)},S.listeners=function(w){return this._emitter.listeners(w)},S.emit=function(w,A,E){return this._emitter.emit(w,A,E)},S.trigger=function(w,A){if(this.config.debug)return this.emit(w,w,A);try{return this.emit(w,w,A)}catch(E){f.logger.error("An internal error happened while handling event "+w+'. Error message: "'+E.message+'". Here is a stacktrace:',E),this.trigger(b.Events.ERROR,{type:g.ErrorTypes.OTHER_ERROR,details:g.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:w,error:E})}return!1},S.listenerCount=function(w){return this._emitter.listenerCount(w)},S.destroy=function(){f.logger.log("destroy"),this.trigger(b.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(w){return w.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(w){return w.destroy()}),this.coreComponents.length=0},S.attachMedia=function(w){f.logger.log("attachMedia"),this._media=w,this.trigger(b.Events.MEDIA_ATTACHING,{media:w})},S.detachMedia=function(){f.logger.log("detachMedia"),this.trigger(b.Events.MEDIA_DETACHING,void 0),this._media=null},S.loadSource=function(w){this.stopLoad();var A=this.media,E=this.url,R=this.url=n.buildAbsoluteURL(self.location.href,w,{alwaysNormalize:!0});f.logger.log("loadSource:"+R),A&&E&&E!==R&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(A)),this.trigger(b.Events.MANIFEST_LOADING,{url:w})},S.startLoad=function(w){w===void 0&&(w=-1),f.logger.log("startLoad("+w+")"),this.networkControllers.forEach(function(A){A.startLoad(w)})},S.stopLoad=function(){f.logger.log("stopLoad"),this.networkControllers.forEach(function(w){w.stopLoad()})},S.swapAudioCodec=function(){f.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},S.recoverMediaError=function(){f.logger.log("recoverMediaError");var w=this._media;this.detachMedia(),w&&this.attachMedia(w)},S.removeLevel=function(w,A){A===void 0&&(A=0),this.levelController.removeLevel(w,A)},y=x,C=[{key:"version",get:function(){return"1.0.10"}},{key:"Events",get:function(){return b.Events}},{key:"ErrorTypes",get:function(){return g.ErrorTypes}},{key:"ErrorDetails",get:function(){return g.ErrorDetails}},{key:"DefaultConfig",get:function(){return x.defaultConfig?x.defaultConfig:_.hlsDefaultConfig},set:function(w){x.defaultConfig=w}}],(p=[{key:"levels",get:function(){var w=this.levelController.levels;return w||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(w){f.logger.log("set currentLevel:"+w),this.loadLevel=w,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(w){f.logger.log("set nextLevel:"+w),this.levelController.manualLevel=w,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(w){f.logger.log("set loadLevel:"+w),this.levelController.manualLevel=w}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(w){this.levelController.nextLoadLevel=w}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(w){f.logger.log("set firstLevel:"+w),this.levelController.firstLevel=w}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(w){f.logger.log("set startLevel:"+w),w!==-1&&(w=Math.max(w,this.minAutoLevel)),this.levelController.startLevel=w}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(w){var A=!!w;A!==this.config.capLevelToPlayerSize&&(A?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=A)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(w){this._autoLevelCapping!==w&&(f.logger.log("set autoLevelCapping:"+w),this._autoLevelCapping=w)}},{key:"bandwidthEstimate",get:function(){var w=this.abrController.bwEstimator;return w?w.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var w=this.levels,A=this.config.minAutoBitrate;if(!w)return 0;for(var E=w.length,R=0;R<E;R++)if(w[R].maxBitrate>A)return R;return 0}},{key:"maxAutoLevel",get:function(){var w=this.levels,A=this.autoLevelCapping;return A===-1&&w&&w.length?w.length-1:A}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(w){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,w)}},{key:"audioTracks",get:function(){var w=this.audioTrackController;return w?w.audioTracks:[]}},{key:"audioTrack",get:function(){var w=this.audioTrackController;return w?w.audioTrack:-1},set:function(w){var A=this.audioTrackController;A&&(A.audioTrack=w)}},{key:"subtitleTracks",get:function(){var w=this.subtitleTrackController;return w?w.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var w=this.subtitleTrackController;return w?w.subtitleTrack:-1},set:function(w){var A=this.subtitleTrackController;A&&(A.subtitleTrack=w)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var w=this.subtitleTrackController;return!!w&&w.subtitleDisplay},set:function(w){var A=this.subtitleTrackController;A&&(A.subtitleDisplay=w)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(w){this.config.lowLatencyMode=w}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&m(y.prototype,p),C&&m(y,C),x}();h.defaultConfig=void 0},"./src/is-supported.ts":function(e,t,r){r.r(t),r.d(t,"isSupported",function(){return i}),r.d(t,"changeTypeSupported",function(){return a});var n=r("./src/utils/mediasource-helper.ts");function o(){return self.SourceBuffer||self.WebKitSourceBuffer}function i(){var d=Object(n.getMediaSource)();if(!d)return!1;var l=o(),s=d&&typeof d.isTypeSupported=="function"&&d.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),c=!l||l.prototype&&typeof l.prototype.appendBuffer=="function"&&typeof l.prototype.remove=="function";return!!s&&!!c}function a(){var d,l=o();return typeof(l==null||(d=l.prototype)===null||d===void 0?void 0:d.changeType)=="function"}},"./src/loader/fragment-loader.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return u}),r.d(t,"LoadError",function(){return _});var n=r("./src/polyfills/number.ts"),o=r("./src/errors.ts");function i(v){var b=typeof Map=="function"?new Map:void 0;return(i=function(g){if(g===null||(m=g,Function.toString.call(m).indexOf("[native code]")===-1))return g;var m;if(typeof g!="function")throw new TypeError("Super expression must either be null or a function");if(b!==void 0){if(b.has(g))return b.get(g);b.set(g,h)}function h(){return a(g,arguments,s(this).constructor)}return h.prototype=Object.create(g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),l(h,g)})(v)}function a(v,b,g){return(a=d()?Reflect.construct:function(m,h,x){var y=[null];y.push.apply(y,h);var p=new(Function.bind.apply(m,y));return x&&l(p,x.prototype),p}).apply(null,arguments)}function d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l(v,b){return(l=Object.setPrototypeOf||function(g,m){return g.__proto__=m,g})(v,b)}function s(v){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(v)}var c=Math.pow(2,17),u=function(){function v(g){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=g}var b=v.prototype;return b.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},b.abort=function(){this.loader&&this.loader.abort()},b.load=function(g,m){var h=this,x=g.url;if(!x)return Promise.reject(new _({type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:g,networkDetails:null},"Fragment does not have a "+(x?"part list":"url")));this.abort();var y=this.config,p=y.fLoader,C=y.loader;return new Promise(function(S,w){h.loader&&h.loader.destroy();var A=h.loader=g.loader=p?new p(y):new C(y),E=f(g),R={timeout:y.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:y.fragLoadingMaxRetryTimeout,highWaterMark:c};g.stats=A.stats,A.load(E,R,{onSuccess:function(T,L,P,k){h.resetLoader(g,A),S({frag:g,part:null,payload:T.data,networkDetails:k})},onError:function(T,L,P){h.resetLoader(g,A),w(new _({type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:g,response:T,networkDetails:P}))},onAbort:function(T,L,P){h.resetLoader(g,A),w(new _({type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:g,networkDetails:P}))},onTimeout:function(T,L,P){h.resetLoader(g,A),w(new _({type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:g,networkDetails:P}))},onProgress:function(T,L,P,k){m&&m({frag:g,part:null,payload:P,networkDetails:k})}})})},b.loadPart=function(g,m,h){var x=this;this.abort();var y=this.config,p=y.fLoader,C=y.loader;return new Promise(function(S,w){x.loader&&x.loader.destroy();var A=x.loader=g.loader=p?new p(y):new C(y),E=f(g,m),R={timeout:y.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:y.fragLoadingMaxRetryTimeout,highWaterMark:c};m.stats=A.stats,A.load(E,R,{onSuccess:function(T,L,P,k){x.resetLoader(g,A),x.updateStatsFromPart(g,m);var D={frag:g,part:m,payload:T.data,networkDetails:k};h(D),S(D)},onError:function(T,L,P){x.resetLoader(g,A),w(new _({type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:g,part:m,response:T,networkDetails:P}))},onAbort:function(T,L,P){g.stats.aborted=m.stats.aborted,x.resetLoader(g,A),w(new _({type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:g,part:m,networkDetails:P}))},onTimeout:function(T,L,P){x.resetLoader(g,A),w(new _({type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:g,part:m,networkDetails:P}))}})})},b.updateStatsFromPart=function(g,m){var h=g.stats,x=m.stats,y=x.total;if(h.loaded+=x.loaded,y){var p=Math.round(g.duration/m.duration),C=Math.min(Math.round(h.loaded/y),p),S=(p-C)*Math.round(h.loaded/C);h.total=h.loaded+S}else h.total=Math.max(h.loaded,h.total);var w=h.loading,A=x.loading;w.start?w.first+=A.first-A.start:(w.start=A.start,w.first=A.first),w.end=A.end},b.resetLoader=function(g,m){g.loader=null,this.loader===m&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),m.destroy()},v}();function f(v,b){b===void 0&&(b=null);var g=b||v,m={frag:v,part:b,responseType:"arraybuffer",url:g.url,rangeStart:0,rangeEnd:0},h=g.byteRangeStartOffset,x=g.byteRangeEndOffset;return Object(n.isFiniteNumber)(h)&&Object(n.isFiniteNumber)(x)&&(m.rangeStart=h,m.rangeEnd=x),m}var _=function(v){var b,g;function m(h){for(var x,y=arguments.length,p=new Array(y>1?y-1:0),C=1;C<y;C++)p[C-1]=arguments[C];return(x=v.call.apply(v,[this].concat(p))||this).data=void 0,x.data=h,x}return g=v,(b=m).prototype=Object.create(g.prototype),b.prototype.constructor=b,l(b,g),m}(i(Error))},"./src/loader/fragment.ts":function(e,t,r){r.r(t),r.d(t,"ElementaryStreamTypes",function(){return n}),r.d(t,"BaseSegment",function(){return v}),r.d(t,"Fragment",function(){return b}),r.d(t,"Part",function(){return g});var n,o,i=r("./src/polyfills/number.ts"),a=r("./node_modules/url-toolkit/src/url-toolkit.js"),d=r("./src/utils/logger.ts"),l=r("./src/loader/level-key.ts"),s=r("./src/loader/load-stats.ts");function c(m,h){m.prototype=Object.create(h.prototype),m.prototype.constructor=m,u(m,h)}function u(m,h){return(u=Object.setPrototypeOf||function(x,y){return x.__proto__=y,x})(m,h)}function f(m,h){for(var x=0;x<h.length;x++){var y=h[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}function _(m,h,x){return h&&f(m.prototype,h),x&&f(m,x),m}(o=n||(n={})).AUDIO="audio",o.VIDEO="video",o.AUDIOVIDEO="audiovideo";var v=function(){function m(h){var x;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((x={})[n.AUDIO]=null,x[n.VIDEO]=null,x[n.AUDIOVIDEO]=null,x),this.baseurl=h}return m.prototype.setByteRange=function(h,x){var y=h.split("@",2),p=[];y.length===1?p[0]=x?x.byteRangeEndOffset:0:p[0]=parseInt(y[1]),p[1]=parseInt(y[0])+p[0],this._byteRange=p},_(m,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(a.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(h){this._url=h}}]),m}(),b=function(m){function h(y,p){var C;return(C=m.call(this,p)||this)._decryptdata=null,C.rawProgramDateTime=null,C.programDateTime=null,C.tagList=[],C.duration=0,C.sn=0,C.levelkey=void 0,C.type=void 0,C.loader=null,C.level=-1,C.cc=0,C.startPTS=void 0,C.endPTS=void 0,C.appendedPTS=void 0,C.startDTS=void 0,C.endDTS=void 0,C.start=0,C.deltaPTS=void 0,C.maxStartPTS=void 0,C.minEndPTS=void 0,C.stats=new s.LoadStats,C.urlId=0,C.data=void 0,C.bitrateTest=!1,C.title=null,C.initSegment=null,C.type=y,C}c(h,m);var x=h.prototype;return x.createInitializationVector=function(y){for(var p=new Uint8Array(16),C=12;C<16;C++)p[C]=y>>8*(15-C)&255;return p},x.setDecryptDataFromLevelKey=function(y,p){var C=y;return(y==null?void 0:y.method)==="AES-128"&&y.uri&&!y.iv&&((C=l.LevelKey.fromURI(y.uri)).method=y.method,C.iv=this.createInitializationVector(p),C.keyFormat="identity"),C},x.setElementaryStreamInfo=function(y,p,C,S,w,A){A===void 0&&(A=!1);var E=this.elementaryStreams,R=E[y];R?(R.startPTS=Math.min(R.startPTS,p),R.endPTS=Math.max(R.endPTS,C),R.startDTS=Math.min(R.startDTS,S),R.endDTS=Math.max(R.endDTS,w)):E[y]={startPTS:p,endPTS:C,startDTS:S,endDTS:w,partial:A}},x.clearElementaryStreamInfo=function(){var y=this.elementaryStreams;y[n.AUDIO]=null,y[n.VIDEO]=null,y[n.AUDIOVIDEO]=null},_(h,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var y=this.sn;typeof y!="number"&&(this.levelkey&&this.levelkey.method==="AES-128"&&!this.levelkey.iv&&d.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),y=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,y)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!Object(i.isFiniteNumber)(this.programDateTime))return null;var y=Object(i.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*y}},{key:"encrypted",get:function(){var y;return!((y=this.decryptdata)===null||y===void 0||!y.keyFormat||!this.decryptdata.uri)}}]),h}(v),g=function(m){function h(x,y,p,C,S){var w;(w=m.call(this,p)||this).fragOffset=0,w.duration=0,w.gap=!1,w.independent=!1,w.relurl=void 0,w.fragment=void 0,w.index=void 0,w.stats=new s.LoadStats,w.duration=x.decimalFloatingPoint("DURATION"),w.gap=x.bool("GAP"),w.independent=x.bool("INDEPENDENT"),w.relurl=x.enumeratedString("URI"),w.fragment=y,w.index=C;var A=x.enumeratedString("BYTERANGE");return A&&w.setByteRange(A,S),S&&(w.fragOffset=S.fragOffset+S.duration),w}return c(h,m),_(h,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var x=this.elementaryStreams;return!!(x.audio||x.video||x.audiovideo)}}]),h}(v)},"./src/loader/key-loader.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return a});var n=r("./src/events.ts"),o=r("./src/errors.ts"),i=r("./src/utils/logger.ts"),a=function(){function d(s){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=s,this._registerListeners()}var l=d.prototype;return l._registerListeners=function(){this.hls.on(n.Events.KEY_LOADING,this.onKeyLoading,this)},l._unregisterListeners=function(){this.hls.off(n.Events.KEY_LOADING,this.onKeyLoading)},l.destroy=function(){for(var s in this._unregisterListeners(),this.loaders){var c=this.loaders[s];c&&c.destroy()}this.loaders={}},l.onKeyLoading=function(s,c){var u=c.frag,f=u.type,_=this.loaders[f];if(u.decryptdata){var v=u.decryptdata.uri;if(v!==this.decrypturl||this.decryptkey===null){var b=this.hls.config;if(_&&(i.logger.warn("abort previous key loader for type:"+f),_.abort()),!v)return void i.logger.warn("key uri is falsy");var g=b.loader,m=u.loader=this.loaders[f]=new g(b);this.decrypturl=v,this.decryptkey=null;var h={url:v,frag:u,responseType:"arraybuffer"},x={timeout:b.fragLoadingTimeOut,maxRetry:0,retryDelay:b.fragLoadingRetryDelay,maxRetryDelay:b.fragLoadingMaxRetryTimeout,highWaterMark:0},y={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};m.load(h,x,y)}else this.decryptkey&&(u.decryptdata.key=this.decryptkey,this.hls.trigger(n.Events.KEY_LOADED,{frag:u}))}else i.logger.warn("Missing decryption data on fragment in onKeyLoading")},l.loadsuccess=function(s,c,u){var f=u.frag;f.decryptdata?(this.decryptkey=f.decryptdata.key=new Uint8Array(s.data),f.loader=null,delete this.loaders[f.type],this.hls.trigger(n.Events.KEY_LOADED,{frag:f})):i.logger.error("after key load, decryptdata unset")},l.loaderror=function(s,c){var u=c.frag,f=u.loader;f&&f.abort(),delete this.loaders[u.type],this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:u,response:s})},l.loadtimeout=function(s,c){var u=c.frag,f=u.loader;f&&f.abort(),delete this.loaders[u.type],this.hls.trigger(n.Events.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:u})},d}()},"./src/loader/level-details.ts":function(e,t,r){r.r(t),r.d(t,"LevelDetails",function(){return i});var n=r("./src/polyfills/number.ts");function o(a,d){for(var l=0;l<d.length;l++){var s=d[l];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}}var i=function(){function a(s){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=s}var d,l;return a.prototype.reloaded=function(s){if(!s)return this.advanced=!0,void(this.updated=!0);var c=this.lastPartSn-s.lastPartSn,u=this.lastPartIndex-s.lastPartIndex;this.updated=this.endSN!==s.endSN||!!u||!!c,this.advanced=this.endSN>s.endSN||c>0||c===0&&u>0,this.updated||this.advanced?this.misses=Math.floor(.6*s.misses):this.misses=s.misses+1,this.availabilityDelay=s.availabilityDelay},d=a,(l=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(n.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var s=this.driftEndTime-this.driftStartTime;return s>0?1e3*(this.driftEnd-this.driftStart)/s:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var s;return(s=this.partList)!==null&&s!==void 0&&s.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var s;return(s=this.fragments)!==null&&s!==void 0&&s.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var s;return(s=this.partList)!==null&&s!==void 0&&s.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var s;return(s=this.partList)!==null&&s!==void 0&&s.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&o(d.prototype,l),a}()},"./src/loader/level-key.ts":function(e,t,r){r.r(t),r.d(t,"LevelKey",function(){return i});var n=r("./node_modules/url-toolkit/src/url-toolkit.js");function o(a,d){for(var l=0;l<d.length;l++){var s=d[l];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}}var i=function(){function a(s,c){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=c?Object(n.buildAbsoluteURL)(s,c,{alwaysNormalize:!0}):s}var d,l;return a.fromURL=function(s,c){return new a(s,c)},a.fromURI=function(s){return new a(s)},d=a,(l=[{key:"uri",get:function(){return this._uri}}])&&o(d.prototype,l),a}()},"./src/loader/load-stats.ts":function(e,t,r){r.r(t),r.d(t,"LoadStats",function(){return n});var n=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return g});var n=r("./src/polyfills/number.ts"),o=r("./node_modules/url-toolkit/src/url-toolkit.js"),i=r("./src/loader/fragment.ts"),a=r("./src/loader/level-details.ts"),d=r("./src/loader/level-key.ts"),l=r("./src/utils/attr-list.ts"),s=r("./src/utils/logger.ts"),c=r("./src/utils/codecs.ts"),u=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,f=/#EXT-X-MEDIA:(.*)/g,_=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),v=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),b=/\.(mp4|m4s|m4v|m4a)$/i,g=function(){function y(){}return y.findGroup=function(p,C){for(var S=0;S<p.length;S++){var w=p[S];if(w.id===C)return w}},y.convertAVC1ToAVCOTI=function(p){var C=p.split(".");if(C.length>2){var S=C.shift()+".";return S+=parseInt(C.shift()).toString(16),S+=("000"+parseInt(C.shift()).toString(16)).substr(-4)}return p},y.resolve=function(p,C){return o.buildAbsoluteURL(C,p,{alwaysNormalize:!0})},y.parseMasterPlaylist=function(p,C){var S,w=[],A={},E=!1;for(u.lastIndex=0;(S=u.exec(p))!=null;)if(S[1]){var R=new l.AttrList(S[1]),T={attrs:R,bitrate:R.decimalInteger("AVERAGE-BANDWIDTH")||R.decimalInteger("BANDWIDTH"),name:R.NAME,url:y.resolve(S[2],C)},L=R.decimalResolution("RESOLUTION");L&&(T.width=L.width,T.height=L.height),m((R.CODECS||"").split(/[ ,]+/).filter(function(k){return k}),T),T.videoCodec&&T.videoCodec.indexOf("avc1")!==-1&&(T.videoCodec=y.convertAVC1ToAVCOTI(T.videoCodec)),w.push(T)}else if(S[3]){var P=new l.AttrList(S[3]);P["DATA-ID"]&&(E=!0,A[P["DATA-ID"]]=P)}return{levels:w,sessionData:E?A:null}},y.parseMasterPlaylistMedia=function(p,C,S,w){var A;w===void 0&&(w=[]);var E=[],R=0;for(f.lastIndex=0;(A=f.exec(p))!==null;){var T=new l.AttrList(A[1]);if(T.TYPE===S){var L={attrs:T,bitrate:0,id:R++,groupId:T["GROUP-ID"],instreamId:T["INSTREAM-ID"],name:T.NAME||T.LANGUAGE||"",type:S,default:T.bool("DEFAULT"),autoselect:T.bool("AUTOSELECT"),forced:T.bool("FORCED"),lang:T.LANGUAGE,url:T.URI?y.resolve(T.URI,C):""};if(w.length){var P=y.findGroup(w,L.groupId)||w[0];h(L,P,"audioCodec"),h(L,P,"textCodec")}E.push(L)}}return E},y.parseLevelPlaylist=function(p,C,S,w,A){var E,R,T,L=new a.LevelDetails(C),P=L.fragments,k=null,D=0,O=0,M=0,F=0,N=null,U=new i.Fragment(w,C),G=-1,H=!1;for(_.lastIndex=0,L.m3u8=p;(E=_.exec(p))!==null;){H&&(H=!1,(U=new i.Fragment(w,C)).start=M,U.sn=D,U.cc=F,U.level=S,k&&(U.initSegment=k,U.rawProgramDateTime=k.rawProgramDateTime));var Z=E[1];if(Z){U.duration=parseFloat(Z);var de=(" "+E[2]).slice(1);U.title=de||null,U.tagList.push(de?["INF",Z,de]:["INF",Z])}else if(E[3])Object(n.isFiniteNumber)(U.duration)&&(U.start=M,T&&(U.levelkey=T),U.sn=D,U.level=S,U.cc=F,U.urlId=A,P.push(U),U.relurl=(" "+E[3]).slice(1),x(U,N),N=U,M+=U.duration,D++,O=0,H=!0);else if(E[4]){var ee=(" "+E[4]).slice(1);N?U.setByteRange(ee,N):U.setByteRange(ee)}else if(E[5])U.rawProgramDateTime=(" "+E[5]).slice(1),U.tagList.push(["PROGRAM-DATE-TIME",U.rawProgramDateTime]),G===-1&&(G=P.length);else{if(!(E=E[0].match(v))){s.logger.warn("No matches on slow regex match for level playlist!");continue}for(R=1;R<E.length&&E[R]===void 0;R++);var W=(" "+E[R]).slice(1),ae=(" "+E[R+1]).slice(1),q=E[R+2]?(" "+E[R+2]).slice(1):"";switch(W){case"PLAYLIST-TYPE":L.type=ae.toUpperCase();break;case"MEDIA-SEQUENCE":D=L.startSN=parseInt(ae);break;case"SKIP":var pe=new l.AttrList(ae),we=pe.decimalInteger("SKIPPED-SEGMENTS");if(Object(n.isFiniteNumber)(we)){L.skippedSegments=we;for(var B=we;B--;)P.unshift(null);D+=we}var $=pe.enumeratedString("RECENTLY-REMOVED-DATERANGES");$&&(L.recentlyRemovedDateranges=$.split("	"));break;case"TARGETDURATION":L.targetduration=parseFloat(ae);break;case"VERSION":L.version=parseInt(ae);break;case"EXTM3U":break;case"ENDLIST":L.live=!1;break;case"#":(ae||q)&&U.tagList.push(q?[ae,q]:[ae]);break;case"DIS":F++;case"GAP":U.tagList.push([W]);break;case"BITRATE":U.tagList.push([W,ae]);break;case"DISCONTINUITY-SEQ":F=parseInt(ae);break;case"KEY":var z,Y=new l.AttrList(ae),j=Y.enumeratedString("METHOD"),K=Y.URI,te=Y.hexadecimalInteger("IV"),re=Y.enumeratedString("KEYFORMATVERSIONS"),ue=Y.enumeratedString("KEYID"),ie=(z=Y.enumeratedString("KEYFORMAT"))!=null?z:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(ie)>-1){s.logger.warn("Keyformat "+ie+" is not supported from the manifest");continue}if(ie!=="identity")continue;j&&(T=d.LevelKey.fromURL(C,K),K&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(j)>=0&&(T.method=j,T.keyFormat=ie,ue&&(T.keyID=ue),re&&(T.keyFormatVersions=re),T.iv=te));break;case"START":var _e=new l.AttrList(ae).decimalFloatingPoint("TIME-OFFSET");Object(n.isFiniteNumber)(_e)&&(L.startTimeOffset=_e);break;case"MAP":var Se=new l.AttrList(ae);U.relurl=Se.URI,Se.BYTERANGE&&U.setByteRange(Se.BYTERANGE),U.level=S,U.sn="initSegment",T&&(U.levelkey=T),U.initSegment=null,k=U,H=!0;break;case"SERVER-CONTROL":var Ee=new l.AttrList(ae);L.canBlockReload=Ee.bool("CAN-BLOCK-RELOAD"),L.canSkipUntil=Ee.optionalFloat("CAN-SKIP-UNTIL",0),L.canSkipDateRanges=L.canSkipUntil>0&&Ee.bool("CAN-SKIP-DATERANGES"),L.partHoldBack=Ee.optionalFloat("PART-HOLD-BACK",0),L.holdBack=Ee.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var Me=new l.AttrList(ae);L.partTarget=Me.decimalFloatingPoint("PART-TARGET");break;case"PART":var Ue=L.partList;Ue||(Ue=L.partList=[]);var Ve=O>0?Ue[Ue.length-1]:void 0,Ne=O++,Ze=new i.Part(new l.AttrList(ae),U,C,Ne,Ve);Ue.push(Ze),U.duration+=Ze.duration;break;case"PRELOAD-HINT":var se=new l.AttrList(ae);L.preloadHint=se;break;case"RENDITION-REPORT":var me=new l.AttrList(ae);L.renditionReports=L.renditionReports||[],L.renditionReports.push(me);break;default:s.logger.warn("line parsed but not handled: "+E)}}}N&&!N.relurl?(P.pop(),M-=N.duration,L.partList&&(L.fragmentHint=N)):L.partList&&(x(U,N),U.cc=F,L.fragmentHint=U);var xe=P.length,Le=P[0],Fe=P[xe-1];if((M+=L.skippedSegments*L.targetduration)>0&&xe&&Fe){L.averagetargetduration=M/xe;var Oe=Fe.sn;L.endSN=Oe!=="initSegment"?Oe:0,Le&&(L.startCC=Le.cc,Le.initSegment||L.fragments.every(function(ce){return ce.relurl&&(Re=ce.relurl,b.test((De=(Ke=o.parseURL(Re))===null||Ke===void 0?void 0:Ke.path)!=null?De:""));var Re,De,Ke})&&(s.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(U=new i.Fragment(w,C)).relurl=Fe.relurl,U.level=S,U.sn="initSegment",Le.initSegment=U,L.needSidxRanges=!0))}else L.endSN=0,L.startCC=0;return L.fragmentHint&&(M+=L.fragmentHint.duration),L.totalduration=M,L.endCC=F,G>0&&function(ce,Re){for(var De=ce[Re],Ke=Re;Ke--;){var Je=ce[Ke];if(!Je)return;Je.programDateTime=De.programDateTime-1e3*Je.duration,De=Je}}(P,G),L},y}();function m(y,p){["video","audio","text"].forEach(function(C){var S=y.filter(function(A){return Object(c.isCodecType)(A,C)});if(S.length){var w=S.filter(function(A){return A.lastIndexOf("avc1",0)===0||A.lastIndexOf("mp4a",0)===0});p[C+"Codec"]=w.length>0?w[0]:S[0],y=y.filter(function(A){return S.indexOf(A)===-1})}}),p.unknownCodecs=y}function h(y,p,C){var S=p[C];S&&(y[C]=S)}function x(y,p){y.rawProgramDateTime?y.programDateTime=Date.parse(y.rawProgramDateTime):p!=null&&p.programDateTime&&(y.programDateTime=p.endProgramDateTime),Object(n.isFiniteNumber)(y.programDateTime)||(y.programDateTime=null,y.rawProgramDateTime=null)}},"./src/loader/playlist-loader.ts":function(e,t,r){r.r(t);var n=r("./src/polyfills/number.ts"),o=r("./src/events.ts"),i=r("./src/errors.ts"),a=r("./src/utils/logger.ts"),d=r("./src/utils/mp4-tools.ts"),l=r("./src/loader/m3u8-parser.ts"),s=r("./src/types/loader.ts"),c=r("./src/utils/attr-list.ts");function u(_,v){var b=_.url;return b!==void 0&&b.indexOf("data:")!==0||(b=v.url),b}var f=function(){function _(b){this.hls=void 0,this.loaders=Object.create(null),this.hls=b,this.registerListeners()}var v=_.prototype;return v.registerListeners=function(){var b=this.hls;b.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),b.on(o.Events.LEVEL_LOADING,this.onLevelLoading,this),b.on(o.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),b.on(o.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},v.unregisterListeners=function(){var b=this.hls;b.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),b.off(o.Events.LEVEL_LOADING,this.onLevelLoading,this),b.off(o.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),b.off(o.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},v.createInternalLoader=function(b){var g=this.hls.config,m=g.pLoader,h=g.loader,x=new(m||h)(g);return b.loader=x,this.loaders[b.type]=x,x},v.getInternalLoader=function(b){return this.loaders[b.type]},v.resetInternalLoader=function(b){this.loaders[b]&&delete this.loaders[b]},v.destroyInternalLoaders=function(){for(var b in this.loaders){var g=this.loaders[b];g&&g.destroy(),this.resetInternalLoader(b)}},v.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},v.onManifestLoading=function(b,g){var m=g.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:s.PlaylistContextType.MANIFEST,url:m,deliveryDirectives:null})},v.onLevelLoading=function(b,g){var m=g.id,h=g.level,x=g.url,y=g.deliveryDirectives;this.load({id:m,groupId:null,level:h,responseType:"text",type:s.PlaylistContextType.LEVEL,url:x,deliveryDirectives:y})},v.onAudioTrackLoading=function(b,g){var m=g.id,h=g.groupId,x=g.url,y=g.deliveryDirectives;this.load({id:m,groupId:h,level:null,responseType:"text",type:s.PlaylistContextType.AUDIO_TRACK,url:x,deliveryDirectives:y})},v.onSubtitleTrackLoading=function(b,g){var m=g.id,h=g.groupId,x=g.url,y=g.deliveryDirectives;this.load({id:m,groupId:h,level:null,responseType:"text",type:s.PlaylistContextType.SUBTITLE_TRACK,url:x,deliveryDirectives:y})},v.load=function(b){var g,m,h,x,y,p,C=this.hls.config,S=this.getInternalLoader(b);if(S){var w=S.context;if(w&&w.url===b.url)return void a.logger.trace("[playlist-loader]: playlist request ongoing");a.logger.log("[playlist-loader]: aborting previous loader for type: "+b.type),S.abort()}switch(b.type){case s.PlaylistContextType.MANIFEST:m=C.manifestLoadingMaxRetry,h=C.manifestLoadingTimeOut,x=C.manifestLoadingRetryDelay,y=C.manifestLoadingMaxRetryTimeout;break;case s.PlaylistContextType.LEVEL:case s.PlaylistContextType.AUDIO_TRACK:case s.PlaylistContextType.SUBTITLE_TRACK:m=0,h=C.levelLoadingTimeOut;break;default:m=C.levelLoadingMaxRetry,h=C.levelLoadingTimeOut,x=C.levelLoadingRetryDelay,y=C.levelLoadingMaxRetryTimeout}if(S=this.createInternalLoader(b),(g=b.deliveryDirectives)!==null&&g!==void 0&&g.part&&(b.type===s.PlaylistContextType.LEVEL&&b.level!==null?p=this.hls.levels[b.level].details:b.type===s.PlaylistContextType.AUDIO_TRACK&&b.id!==null?p=this.hls.audioTracks[b.id].details:b.type===s.PlaylistContextType.SUBTITLE_TRACK&&b.id!==null&&(p=this.hls.subtitleTracks[b.id].details),p)){var A=p.partTarget,E=p.targetduration;A&&E&&(h=Math.min(1e3*Math.max(3*A,.8*E),h))}var R={timeout:h,maxRetry:m,retryDelay:x,maxRetryDelay:y,highWaterMark:0},T={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};S.load(b,R,T)},v.loadsuccess=function(b,g,m,h){if(h===void 0&&(h=null),m.isSidxRequest)return this.handleSidxRequest(b,m),void this.handlePlaylistLoaded(b,g,m,h);this.resetInternalLoader(m.type);var x=b.data;x.indexOf("#EXTM3U")===0?(g.parsing.start=performance.now(),x.indexOf("#EXTINF:")>0||x.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(b,g,m,h):this.handleMasterPlaylist(b,g,m,h)):this.handleManifestParsingError(b,m,"no EXTM3U delimiter",h)},v.loaderror=function(b,g,m){m===void 0&&(m=null),this.handleNetworkError(g,m,!1,b)},v.loadtimeout=function(b,g,m){m===void 0&&(m=null),this.handleNetworkError(g,m,!0)},v.handleMasterPlaylist=function(b,g,m,h){var x=this.hls,y=b.data,p=u(b,m),C=l.default.parseMasterPlaylist(y,p),S=C.levels,w=C.sessionData;if(S.length){var A=S.map(function(P){return{id:P.attrs.AUDIO,audioCodec:P.audioCodec}}),E=S.map(function(P){return{id:P.attrs.SUBTITLES,textCodec:P.textCodec}}),R=l.default.parseMasterPlaylistMedia(y,p,"AUDIO",A),T=l.default.parseMasterPlaylistMedia(y,p,"SUBTITLES",E),L=l.default.parseMasterPlaylistMedia(y,p,"CLOSED-CAPTIONS");R.length&&(R.some(function(P){return!P.url})||!S[0].audioCodec||S[0].attrs.AUDIO||(a.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),R.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new c.AttrList({}),bitrate:0,url:""}))),x.trigger(o.Events.MANIFEST_LOADED,{levels:S,audioTracks:R,subtitles:T,captions:L,url:p,stats:g,networkDetails:h,sessionData:w})}else this.handleManifestParsingError(b,m,"no level found in manifest",h)},v.handleTrackOrLevelPlaylist=function(b,g,m,h){var x=this.hls,y=m.id,p=m.level,C=m.type,S=u(b,m),w=Object(n.isFiniteNumber)(y)?y:0,A=Object(n.isFiniteNumber)(p)?p:w,E=function(k){switch(k.type){case s.PlaylistContextType.AUDIO_TRACK:return s.PlaylistLevelType.AUDIO;case s.PlaylistContextType.SUBTITLE_TRACK:return s.PlaylistLevelType.SUBTITLE;default:return s.PlaylistLevelType.MAIN}}(m),R=l.default.parseLevelPlaylist(b.data,S,A,E,w);if(R.fragments.length){if(C===s.PlaylistContextType.MANIFEST){var T={attrs:new c.AttrList({}),bitrate:0,details:R,name:"",url:S};x.trigger(o.Events.MANIFEST_LOADED,{levels:[T],audioTracks:[],url:S,stats:g,networkDetails:h,sessionData:null})}if(g.parsing.end=performance.now(),R.needSidxRanges){var L,P=(L=R.fragments[0].initSegment)===null||L===void 0?void 0:L.url;this.load({url:P,isSidxRequest:!0,type:C,level:p,levelDetails:R,id:y,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else m.levelDetails=R,this.handlePlaylistLoaded(b,g,m,h)}else x.trigger(o.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:S,reason:"no fragments found in level",level:typeof m.level=="number"?m.level:void 0})},v.handleSidxRequest=function(b,g){var m=Object(d.parseSegmentIndex)(new Uint8Array(b.data));if(m){var h=m.references,x=g.levelDetails;h.forEach(function(y,p){var C=y.info,S=x.fragments[p];S.byteRange.length===0&&S.setByteRange(String(1+C.end-C.start)+"@"+String(C.start)),S.initSegment&&S.initSegment.setByteRange(String(m.moovEndOffset)+"@0")})}},v.handleManifestParsingError=function(b,g,m,h){this.hls.trigger(o.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:g.type===s.PlaylistContextType.MANIFEST,url:b.url,reason:m,response:b,context:g,networkDetails:h})},v.handleNetworkError=function(b,g,m,h){m===void 0&&(m=!1),a.logger.warn("[playlist-loader]: A network "+(m?"timeout":"error")+" occurred while loading "+b.type+" level: "+b.level+" id: "+b.id+' group-id: "'+b.groupId+'"');var x=i.ErrorDetails.UNKNOWN,y=!1,p=this.getInternalLoader(b);switch(b.type){case s.PlaylistContextType.MANIFEST:x=m?i.ErrorDetails.MANIFEST_LOAD_TIMEOUT:i.ErrorDetails.MANIFEST_LOAD_ERROR,y=!0;break;case s.PlaylistContextType.LEVEL:x=m?i.ErrorDetails.LEVEL_LOAD_TIMEOUT:i.ErrorDetails.LEVEL_LOAD_ERROR,y=!1;break;case s.PlaylistContextType.AUDIO_TRACK:x=m?i.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:i.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,y=!1;break;case s.PlaylistContextType.SUBTITLE_TRACK:x=m?i.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:i.ErrorDetails.SUBTITLE_LOAD_ERROR,y=!1}p&&this.resetInternalLoader(b.type);var C={type:i.ErrorTypes.NETWORK_ERROR,details:x,fatal:y,url:b.url,loader:p,context:b,networkDetails:g};h&&(C.response=h),this.hls.trigger(o.Events.ERROR,C)},v.handlePlaylistLoaded=function(b,g,m,h){var x=m.type,y=m.level,p=m.id,C=m.groupId,S=m.loader,w=m.levelDetails,A=m.deliveryDirectives;if(w!=null&&w.targetduration){if(S)switch(w.live&&(S.getCacheAge&&(w.ageHeader=S.getCacheAge()||0),S.getCacheAge&&!isNaN(w.ageHeader)||(w.ageHeader=0)),x){case s.PlaylistContextType.MANIFEST:case s.PlaylistContextType.LEVEL:this.hls.trigger(o.Events.LEVEL_LOADED,{details:w,level:y||0,id:p||0,stats:g,networkDetails:h,deliveryDirectives:A});break;case s.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(o.Events.AUDIO_TRACK_LOADED,{details:w,id:p||0,groupId:C||"",stats:g,networkDetails:h,deliveryDirectives:A});break;case s.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(o.Events.SUBTITLE_TRACK_LOADED,{details:w,id:p||0,groupId:C||"",stats:g,networkDetails:h,deliveryDirectives:A})}}else this.handleManifestParsingError(b,m,"invalid target duration",h)},_}();t.default=f},"./src/polyfills/number.ts":function(e,t,r){r.r(t),r.d(t,"isFiniteNumber",function(){return n}),r.d(t,"MAX_SAFE_INTEGER",function(){return o});var n=Number.isFinite||function(i){return typeof i=="number"&&isFinite(i)},o=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":function(e,t,r){r.r(t);var n=function(){function o(){}return o.getSilentFrame=function(i,a){switch(i){case"mp4a.40.2":if(a===1)return new Uint8Array([0,200,0,128,35,128]);if(a===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(a===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(a===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(a===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(a===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(a===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(a===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(a===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},o}();t.default=n},"./src/remux/mp4-generator.ts":function(e,t,r){r.r(t);var n=Math.pow(2,32)-1,o=function(){function i(){}return i.init=function(){var a;for(a in i.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},i.types)i.types.hasOwnProperty(a)&&(i.types[a]=[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3)]);var d=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),l=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);i.HDLR_TYPES={video:d,audio:l};var s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),c=new Uint8Array([0,0,0,0,0,0,0,0]);i.STTS=i.STSC=i.STCO=c,i.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),i.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),i.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),i.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var u=new Uint8Array([105,115,111,109]),f=new Uint8Array([97,118,99,49]),_=new Uint8Array([0,0,0,1]);i.FTYP=i.box(i.types.ftyp,u,_,u,f),i.DINF=i.box(i.types.dinf,i.box(i.types.dref,s))},i.box=function(a){for(var d=8,l=arguments.length,s=new Array(l>1?l-1:0),c=1;c<l;c++)s[c-1]=arguments[c];for(var u=s.length,f=u;u--;)d+=s[u].byteLength;var _=new Uint8Array(d);for(_[0]=d>>24&255,_[1]=d>>16&255,_[2]=d>>8&255,_[3]=255&d,_.set(a,4),u=0,d=8;u<f;u++)_.set(s[u],d),d+=s[u].byteLength;return _},i.hdlr=function(a){return i.box(i.types.hdlr,i.HDLR_TYPES[a])},i.mdat=function(a){return i.box(i.types.mdat,a)},i.mdhd=function(a,d){d*=a;var l=Math.floor(d/(n+1)),s=Math.floor(d%(n+1));return i.box(i.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,a>>24&255,a>>16&255,a>>8&255,255&a,l>>24,l>>16&255,l>>8&255,255&l,s>>24,s>>16&255,s>>8&255,255&s,85,196,0,0]))},i.mdia=function(a){return i.box(i.types.mdia,i.mdhd(a.timescale,a.duration),i.hdlr(a.type),i.minf(a))},i.mfhd=function(a){return i.box(i.types.mfhd,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a]))},i.minf=function(a){return a.type==="audio"?i.box(i.types.minf,i.box(i.types.smhd,i.SMHD),i.DINF,i.stbl(a)):i.box(i.types.minf,i.box(i.types.vmhd,i.VMHD),i.DINF,i.stbl(a))},i.moof=function(a,d,l){return i.box(i.types.moof,i.mfhd(a),i.traf(l,d))},i.moov=function(a){for(var d=a.length,l=[];d--;)l[d]=i.trak(a[d]);return i.box.apply(null,[i.types.moov,i.mvhd(a[0].timescale,a[0].duration)].concat(l).concat(i.mvex(a)))},i.mvex=function(a){for(var d=a.length,l=[];d--;)l[d]=i.trex(a[d]);return i.box.apply(null,[i.types.mvex].concat(l))},i.mvhd=function(a,d){d*=a;var l=Math.floor(d/(n+1)),s=Math.floor(d%(n+1)),c=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,a>>24&255,a>>16&255,a>>8&255,255&a,l>>24,l>>16&255,l>>8&255,255&l,s>>24,s>>16&255,s>>8&255,255&s,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i.box(i.types.mvhd,c)},i.sdtp=function(a){var d,l,s=a.samples||[],c=new Uint8Array(4+s.length);for(d=0;d<s.length;d++)l=s[d].flags,c[d+4]=l.dependsOn<<4|l.isDependedOn<<2|l.hasRedundancy;return i.box(i.types.sdtp,c)},i.stbl=function(a){return i.box(i.types.stbl,i.stsd(a),i.box(i.types.stts,i.STTS),i.box(i.types.stsc,i.STSC),i.box(i.types.stsz,i.STSZ),i.box(i.types.stco,i.STCO))},i.avc1=function(a){var d,l,s,c=[],u=[];for(d=0;d<a.sps.length;d++)s=(l=a.sps[d]).byteLength,c.push(s>>>8&255),c.push(255&s),c=c.concat(Array.prototype.slice.call(l));for(d=0;d<a.pps.length;d++)s=(l=a.pps[d]).byteLength,u.push(s>>>8&255),u.push(255&s),u=u.concat(Array.prototype.slice.call(l));var f=i.box(i.types.avcC,new Uint8Array([1,c[3],c[4],c[5],255,224|a.sps.length].concat(c).concat([a.pps.length]).concat(u))),_=a.width,v=a.height,b=a.pixelRatio[0],g=a.pixelRatio[1];return i.box(i.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,_>>8&255,255&_,v>>8&255,255&v,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),f,i.box(i.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),i.box(i.types.pasp,new Uint8Array([b>>24,b>>16&255,b>>8&255,255&b,g>>24,g>>16&255,g>>8&255,255&g])))},i.esds=function(a){var d=a.config.length;return new Uint8Array([0,0,0,0,3,23+d,0,1,0,4,15+d,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([d]).concat(a.config).concat([6,1,2]))},i.mp4a=function(a){var d=a.samplerate;return i.box(i.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,a.channelCount,0,16,0,0,0,0,d>>8&255,255&d,0,0]),i.box(i.types.esds,i.esds(a)))},i.mp3=function(a){var d=a.samplerate;return i.box(i.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,a.channelCount,0,16,0,0,0,0,d>>8&255,255&d,0,0]))},i.stsd=function(a){return a.type==="audio"?a.isAAC||a.codec!=="mp3"?i.box(i.types.stsd,i.STSD,i.mp4a(a)):i.box(i.types.stsd,i.STSD,i.mp3(a)):i.box(i.types.stsd,i.STSD,i.avc1(a))},i.tkhd=function(a){var d=a.id,l=a.duration*a.timescale,s=a.width,c=a.height,u=Math.floor(l/(n+1)),f=Math.floor(l%(n+1));return i.box(i.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,d>>24&255,d>>16&255,d>>8&255,255&d,0,0,0,0,u>>24,u>>16&255,u>>8&255,255&u,f>>24,f>>16&255,f>>8&255,255&f,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,s>>8&255,255&s,0,0,c>>8&255,255&c,0,0]))},i.traf=function(a,d){var l=i.sdtp(a),s=a.id,c=Math.floor(d/(n+1)),u=Math.floor(d%(n+1));return i.box(i.types.traf,i.box(i.types.tfhd,new Uint8Array([0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s])),i.box(i.types.tfdt,new Uint8Array([1,0,0,0,c>>24,c>>16&255,c>>8&255,255&c,u>>24,u>>16&255,u>>8&255,255&u])),i.trun(a,l.length+16+20+8+16+8+8),l)},i.trak=function(a){return a.duration=a.duration||4294967295,i.box(i.types.trak,i.tkhd(a),i.mdia(a))},i.trex=function(a){var d=a.id;return i.box(i.types.trex,new Uint8Array([0,0,0,0,d>>24,d>>16&255,d>>8&255,255&d,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},i.trun=function(a,d){var l,s,c,u,f,_,v=a.samples||[],b=v.length,g=12+16*b,m=new Uint8Array(g);for(d+=8+g,m.set([0,0,15,1,b>>>24&255,b>>>16&255,b>>>8&255,255&b,d>>>24&255,d>>>16&255,d>>>8&255,255&d],0),l=0;l<b;l++)c=(s=v[l]).duration,u=s.size,f=s.flags,_=s.cts,m.set([c>>>24&255,c>>>16&255,c>>>8&255,255&c,u>>>24&255,u>>>16&255,u>>>8&255,255&u,f.isLeading<<2|f.dependsOn,f.isDependedOn<<6|f.hasRedundancy<<4|f.paddingValue<<1|f.isNonSync,61440&f.degradPrio,15&f.degradPrio,_>>>24&255,_>>>16&255,_>>>8&255,255&_],12+16*l);return i.box(i.types.trun,m)},i.initSegment=function(a){i.types||i.init();var d=i.moov(a),l=new Uint8Array(i.FTYP.byteLength+d.byteLength);return l.set(i.FTYP),l.set(d,i.FTYP.byteLength),l},i}();o.types=void 0,o.HDLR_TYPES=void 0,o.STTS=void 0,o.STSC=void 0,o.STCO=void 0,o.STSZ=void 0,o.VMHD=void 0,o.SMHD=void 0,o.STSD=void 0,o.FTYP=void 0,o.DINF=void 0,t.default=o},"./src/remux/mp4-remuxer.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return b}),r.d(t,"normalizePts",function(){return g});var n=r("./src/polyfills/number.ts"),o=r("./src/remux/aac-helper.ts"),i=r("./src/remux/mp4-generator.ts"),a=r("./src/events.ts"),d=r("./src/errors.ts"),l=r("./src/utils/logger.ts"),s=r("./src/types/loader.ts"),c=r("./src/utils/timescale-conversion.ts");function u(){return(u=Object.assign||function(x){for(var y=1;y<arguments.length;y++){var p=arguments[y];for(var C in p)Object.prototype.hasOwnProperty.call(p,C)&&(x[C]=p[C])}return x}).apply(this,arguments)}var f=null,_=null,v=!1,b=function(){function x(p,C,S,w){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=p,this.config=C,this.typeSupported=S,this.ISGenerated=!1,f===null){var A=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);f=A?parseInt(A[1]):0}if(_===null){var E=navigator.userAgent.match(/Safari\/(\d+)/i);_=E?parseInt(E[1]):0}v=!!f&&f<75||!!_&&_<600}var y=x.prototype;return y.destroy=function(){},y.resetTimeStamp=function(p){l.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=p},y.resetNextTimestamp=function(){l.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},y.resetInitSegment=function(){l.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},y.getVideoStartPts=function(p){var C=!1,S=p.reduce(function(w,A){var E=A.pts-w;return E<-4294967296?(C=!0,g(w,A.pts)):E>0?w:A.pts},p[0].pts);return C&&l.logger.debug("PTS rollover detected"),S},y.remux=function(p,C,S,w,A,E,R,T){var L,P,k,D,O,M,F=A,N=A,U=p.pid>-1,G=C.pid>-1,H=C.samples.length,Z=p.samples.length>0,de=H>1;if((!U||Z)&&(!G||de)||this.ISGenerated||R){this.ISGenerated||(k=this.generateIS(p,C,A));var ee=this.isVideoContiguous,W=-1;if(de&&(W=function(B){for(var $=0;$<B.length;$++)if(B[$].key)return $;return-1}(C.samples),!ee&&this.config.forceKeyFrameOnDiscontinuity))if(M=!0,W>0){l.logger.warn("[mp4-remuxer]: Dropped "+W+" out of "+H+" video samples due to a missing keyframe");var ae=this.getVideoStartPts(C.samples);C.samples=C.samples.slice(W),C.dropped+=W,N+=(C.samples[0].pts-ae)/(C.timescale||9e4)}else W===-1&&(l.logger.warn("[mp4-remuxer]: No keyframe found out of "+H+" video samples"),M=!1);if(this.ISGenerated){if(Z&&de){var q=this.getVideoStartPts(C.samples),pe=(g(p.samples[0].pts,q)-q)/C.inputTimeScale;F+=Math.max(0,pe),N+=Math.max(0,-pe)}if(Z){if(p.samplerate||(l.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),k=this.generateIS(p,C,A)),P=this.remuxAudio(p,F,this.isAudioContiguous,E,G||de||T===s.PlaylistLevelType.AUDIO?N:void 0),de){var we=P?P.endPTS-P.startPTS:0;C.inputTimeScale||(l.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),k=this.generateIS(p,C,A)),L=this.remuxVideo(C,N,ee,we)}}else de&&(L=this.remuxVideo(C,N,ee,0));L&&(L.firstKeyFrame=W,L.independent=W!==-1)}}return this.ISGenerated&&(S.samples.length&&(O=this.remuxID3(S,A)),w.samples.length&&(D=this.remuxText(w,A))),{audio:P,video:L,initSegment:k,independent:M,text:D,id3:O}},y.generateIS=function(p,C,S){var w,A,E,R=p.samples,T=C.samples,L=this.typeSupported,P={},k=!Object(n.isFiniteNumber)(this._initPTS),D="audio/mp4";if(k&&(w=A=1/0),p.config&&R.length&&(p.timescale=p.samplerate,p.isAAC||(L.mpeg?(D="audio/mpeg",p.codec=""):L.mp3&&(p.codec="mp3")),P.audio={id:"audio",container:D,codec:p.codec,initSegment:!p.isAAC&&L.mpeg?new Uint8Array(0):i.default.initSegment([p]),metadata:{channelCount:p.channelCount}},k&&(E=p.inputTimeScale,w=A=R[0].pts-Math.round(E*S))),C.sps&&C.pps&&T.length&&(C.timescale=C.inputTimeScale,P.video={id:"main",container:"video/mp4",codec:C.codec,initSegment:i.default.initSegment([C]),metadata:{width:C.width,height:C.height}},k)){E=C.inputTimeScale;var O=this.getVideoStartPts(T),M=Math.round(E*S);A=Math.min(A,g(T[0].dts,O)-M),w=Math.min(w,O-M)}if(Object.keys(P).length)return this.ISGenerated=!0,k&&(this._initPTS=w,this._initDTS=A),{tracks:P,initPTS:w,timescale:E}},y.remuxVideo=function(p,C,S,w){var A,E,R,T=p.inputTimeScale,L=p.samples,P=[],k=L.length,D=this._initPTS,O=this.nextAvcDts,M=8,F=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY,U=0,G=!1;S&&O!==null||(O=C*T-(L[0].pts-g(L[0].dts,L[0].pts)));for(var H=0;H<k;H++){var Z=L[H];Z.pts=g(Z.pts-D,O),Z.dts=g(Z.dts-D,O),Z.dts>Z.pts&&(U=Math.max(Math.min(U,Z.pts-Z.dts),-18e3)),Z.dts<L[H>0?H-1:H].dts&&(G=!0)}G&&L.sort(function(Ke,Je){var At=Ke.dts-Je.dts,Bt=Ke.pts-Je.pts;return At||Bt}),E=L[0].dts,R=L[L.length-1].dts;var de=Math.round((R-E)/(k-1));if(U<0){if(U<-2*de){l.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(c.toMsFromMpegTsClock)(-de,!0)+" ms");for(var ee=U,W=0;W<k;W++)L[W].dts=ee=Math.max(ee,L[W].pts-de),L[W].pts=Math.max(ee,L[W].pts)}else{l.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(c.toMsFromMpegTsClock)(U,!0)+" ms to overcome this issue");for(var ae=0;ae<k;ae++)L[ae].dts=L[ae].dts+U}E=L[0].dts}if(S){var q=E-O,pe=q>de;if(pe||q<-1){pe?l.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(q,!0)+" ms ("+q+"dts) hole between fragments detected, filling it"):l.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(-q,!0)+" ms ("+q+"dts) overlapping between fragments detected"),E=O;var we=L[0].pts-q;L[0].dts=E,L[0].pts=we,l.logger.log("Video: First PTS/DTS adjusted: "+Object(c.toMsFromMpegTsClock)(we,!0)+"/"+Object(c.toMsFromMpegTsClock)(E,!0)+", delta: "+Object(c.toMsFromMpegTsClock)(q,!0)+" ms")}}v&&(E=Math.max(0,E));for(var B=0,$=0,z=0;z<k;z++){for(var Y=L[z],j=Y.units,K=j.length,te=0,re=0;re<K;re++)te+=j[re].data.length;$+=te,B+=K,Y.length=te,Y.dts=Math.max(Y.dts,E),Y.pts=Math.max(Y.pts,Y.dts,0),F=Math.min(Y.pts,F),N=Math.max(Y.pts,N)}R=L[k-1].dts;var ue,ie=$+4*B+8;try{ue=new Uint8Array(ie)}catch{return void this.observer.emit(a.Events.ERROR,a.Events.ERROR,{type:d.ErrorTypes.MUX_ERROR,details:d.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:ie,reason:"fail allocating video mdat "+ie})}var _e=new DataView(ue.buffer);_e.setUint32(0,ie),ue.set(i.default.types.mdat,4);for(var Se=0;Se<k;Se++){for(var Ee=L[Se],Me=Ee.units,Ue=0,Ve=0,Ne=Me.length;Ve<Ne;Ve++){var Ze=Me[Ve],se=Ze.data,me=Ze.data.byteLength;_e.setUint32(M,me),M+=4,ue.set(se,M),M+=me,Ue+=4+me}if(Se<k-1)A=L[Se+1].dts-Ee.dts;else{var xe=this.config,Le=Ee.dts-L[Se>0?Se-1:Se].dts;if(xe.stretchShortVideoTrack&&this.nextAudioPts!==null){var Fe=Math.floor(xe.maxBufferHole*T),Oe=(w?F+w*T:this.nextAudioPts)-Ee.pts;Oe>Fe?((A=Oe-Le)<0&&(A=Le),l.logger.log("[mp4-remuxer]: It is approximately "+Oe/90+" ms to the next segment; using duration "+A/90+" ms for the last video frame.")):A=Le}else A=Le}var ce=Math.round(Ee.pts-Ee.dts);P.push(new m(Ee.key,A,Ue,ce))}if(P.length&&f&&f<70){var Re=P[0].flags;Re.dependsOn=2,Re.isNonSync=0}console.assert(A!==void 0,"mp4SampleDuration must be computed"),this.nextAvcDts=O=R+A,this.isVideoContiguous=!0;var De={data1:i.default.moof(p.sequenceNumber++,E,u({},p,{samples:P})),data2:ue,startPTS:F/T,endPTS:(N+A)/T,startDTS:E/T,endDTS:O/T,type:"video",hasAudio:!1,hasVideo:!0,nb:P.length,dropped:p.dropped};return p.samples=[],p.dropped=0,console.assert(ue.length,"MDAT length must not be zero"),De},y.remuxAudio=function(p,C,S,w,A){var E=p.inputTimeScale,R=E/(p.samplerate?p.samplerate:E),T=p.isAAC?1024:1152,L=T*R,P=this._initPTS,k=!p.isAAC&&this.typeSupported.mpeg,D=[],O=p.samples,M=k?0:8,F=this.nextAudioPts||-1,N=C*E;if(this.isAudioContiguous=S=S||O.length&&F>0&&(w&&Math.abs(N-F)<9e3||Math.abs(g(O[0].pts-P,N)-F)<20*L),O.forEach(function(se){se.pts=g(se.pts-P,N)}),!S||F<0){if(!(O=O.filter(function(se){return se.pts>=0})).length)return;F=A===0?0:w?Math.max(0,N):O[0].pts}if(p.isAAC)for(var U=A!==void 0,G=this.config.maxAudioFramesDrift,H=0,Z=F;H<O.length;H++){var de=O[H],ee=de.pts,W=ee-Z,ae=Math.abs(1e3*W/E);if(W<=-G*L&&U)H===0&&(l.logger.warn("Audio frame @ "+(ee/E).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*W/E)+" ms."),this.nextAudioPts=F=Z=ee);else if(W>=G*L&&ae<1e4&&U){var q=Math.round(W/L);(Z=ee-q*L)<0&&(q--,Z+=L),H===0&&(this.nextAudioPts=F=Z),l.logger.warn("[mp4-remuxer]: Injecting "+q+" audio frame @ "+(Z/E).toFixed(3)+"s due to "+Math.round(1e3*W/E)+" ms gap.");for(var pe=0;pe<q;pe++){var we=Math.max(Z,0),B=o.default.getSilentFrame(p.manifestCodec||p.codec,p.channelCount);B||(l.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),B=de.unit.subarray()),O.splice(H,0,{unit:B,pts:we}),Z+=L,H++}}de.pts=Z,Z+=L}for(var $,z=null,Y=null,j=0,K=O.length;K--;)j+=O[K].unit.byteLength;for(var te=0,re=O.length;te<re;te++){var ue=O[te],ie=ue.unit,_e=ue.pts;if(Y!==null)D[te-1].duration=Math.round((_e-Y)/R);else{if(S&&p.isAAC&&(_e=F),z=_e,!(j>0))return;j+=M;try{$=new Uint8Array(j)}catch{return void this.observer.emit(a.Events.ERROR,a.Events.ERROR,{type:d.ErrorTypes.MUX_ERROR,details:d.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:j,reason:"fail allocating audio mdat "+j})}k||(new DataView($.buffer).setUint32(0,j),$.set(i.default.types.mdat,4))}$.set(ie,M);var Se=ie.byteLength;M+=Se,D.push(new m(!0,T,Se,0)),Y=_e}var Ee=D.length;if(Ee){var Me=D[D.length-1];this.nextAudioPts=F=Y+R*Me.duration;var Ue=k?new Uint8Array(0):i.default.moof(p.sequenceNumber++,z/R,u({},p,{samples:D}));p.samples=[];var Ve=z/E,Ne=F/E,Ze={data1:Ue,data2:$,startPTS:Ve,endPTS:Ne,startDTS:Ve,endDTS:Ne,type:"audio",hasAudio:!0,hasVideo:!1,nb:Ee};return this.isAudioContiguous=!0,console.assert($.length,"MDAT length must not be zero"),Ze}},y.remuxEmptyAudio=function(p,C,S,w){var A=p.inputTimeScale,E=A/(p.samplerate?p.samplerate:A),R=this.nextAudioPts,T=(R!==null?R:w.startDTS*A)+this._initDTS,L=w.endDTS*A+this._initDTS,P=1024*E,k=Math.ceil((L-T)/P),D=o.default.getSilentFrame(p.manifestCodec||p.codec,p.channelCount);if(l.logger.warn("[mp4-remuxer]: remux empty Audio"),D){for(var O=[],M=0;M<k;M++){var F=T+M*P;O.push({unit:D,pts:F,dts:F})}return p.samples=O,this.remuxAudio(p,C,S,!1)}l.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},y.remuxID3=function(p,C){var S=p.samples.length;if(S){for(var w=p.inputTimeScale,A=this._initPTS,E=this._initDTS,R=0;R<S;R++){var T=p.samples[R];T.pts=g(T.pts-A,C*w)/w,T.dts=g(T.dts-E,C*w)/w}var L=p.samples;return p.samples=[],{samples:L}}},y.remuxText=function(p,C){var S=p.samples.length;if(S){for(var w=p.inputTimeScale,A=this._initPTS,E=0;E<S;E++){var R=p.samples[E];R.pts=g(R.pts-A,C*w)/w}p.samples.sort(function(L,P){return L.pts-P.pts});var T=p.samples;return p.samples=[],{samples:T}}},x}();function g(x,y){var p;if(y===null)return x;for(p=y<x?-8589934592:8589934592;Math.abs(x-y)>4294967296;)x+=p;return x}var m=function(x,y,p,C){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=y,this.size=p,this.cts=C,this.flags=new h(x)},h=function(x){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=x?2:1,this.isNonSync=x?0:1}},"./src/remux/passthrough-remuxer.ts":function(e,t,r){r.r(t);var n=r("./src/polyfills/number.ts"),o=r("./src/utils/mp4-tools.ts"),i=r("./src/loader/fragment.ts"),a=r("./src/utils/logger.ts"),d=function(){function c(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var u=c.prototype;return u.destroy=function(){},u.resetTimeStamp=function(f){this.initPTS=f,this.lastEndDTS=null},u.resetNextTimestamp=function(){this.lastEndDTS=null},u.resetInitSegment=function(f,_,v){this.audioCodec=_,this.videoCodec=v,this.generateInitSegment(f),this.emitInitSegment=!0},u.generateInitSegment=function(f){var _=this.audioCodec,v=this.videoCodec;if(!f||!f.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var b=this.initData=Object(o.parseInitSegment)(f);_||(_=s(b.audio,i.ElementaryStreamTypes.AUDIO)),v||(v=s(b.video,i.ElementaryStreamTypes.VIDEO));var g={};b.audio&&b.video?g.audiovideo={container:"video/mp4",codec:_+","+v,initSegment:f,id:"main"}:b.audio?g.audio={container:"audio/mp4",codec:_,initSegment:f,id:"audio"}:b.video?g.video={container:"video/mp4",codec:v,initSegment:f,id:"main"}:a.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=g},u.remux=function(f,_,v,b,g){var m=this.initPTS,h=this.lastEndDTS,x={audio:void 0,video:void 0,text:b,id3:v,initSegment:void 0};Object(n.isFiniteNumber)(h)||(h=this.lastEndDTS=g||0);var y=_.samples;if(!y||!y.length)return x;var p={initPTS:void 0,timescale:1},C=this.initData;if(C&&C.length||(this.generateInitSegment(y),C=this.initData),!C||!C.length)return a.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),x;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1),Object(n.isFiniteNumber)(m)||(this.initPTS=p.initPTS=m=l(C,y,h));var S=Object(o.getDuration)(y,C),w=h,A=S+w;Object(o.offsetStartDTS)(C,y,m),S>0?this.lastEndDTS=A:(a.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var E=!!C.audio,R=!!C.video,T="";E&&(T+="audio"),R&&(T+="video");var L={data1:y,startPTS:w,startDTS:w,endPTS:A,endDTS:A,type:T,hasAudio:E,hasVideo:R,nb:1,dropped:0};return x.audio=L.type==="audio"?L:void 0,x.video=L.type!=="audio"?L:void 0,x.text=b,x.id3=v,x.initSegment=p,x},c}(),l=function(c,u,f){return Object(o.getStartDTS)(c,u)-f};function s(c,u){var f=c==null?void 0:c.codec;return f&&f.length>4?f:f==="hvc1"?"hvc1.1.c.L120.90":f==="av01"?"av01.0.04M.08":f==="avc1"||u===i.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}t.default=d},"./src/task-loop.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return n});var n=function(){function o(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var i=o.prototype;return i.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},i.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},i.onHandlerDestroyed=function(){},i.hasInterval=function(){return!!this._tickInterval},i.hasNextTick=function(){return!!this._tickTimer},i.setInterval=function(a){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,a),!0)},i.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},i.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},i.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},i.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},i.doTick=function(){},o}()},"./src/types/level.ts":function(e,t,r){function n(s,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(s,f.key,f)}}var o,i;function a(s,c){var u=s.canSkipUntil,f=s.canSkipDateRanges,_=s.endSN;return u&&(c!==void 0?c-_:0)<u?f?o.v2:o.Yes:o.No}r.r(t),r.d(t,"HlsSkip",function(){return o}),r.d(t,"getSkipValue",function(){return a}),r.d(t,"HlsUrlParameters",function(){return d}),r.d(t,"Level",function(){return l}),(i=o||(o={})).No="",i.Yes="YES",i.v2="v2";var d=function(){function s(c,u,f){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=c,this.part=u,this.skip=f}return s.prototype.addDirectives=function(c){var u=new self.URL(c);return this.msn!==void 0&&u.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&u.searchParams.set("_HLS_part",this.part.toString()),this.skip&&u.searchParams.set("_HLS_skip",this.skip),u.toString()},s}(),l=function(){function s(f){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[f.url],this.attrs=f.attrs,this.bitrate=f.bitrate,f.details&&(this.details=f.details),this.id=f.id||0,this.name=f.name,this.width=f.width||0,this.height=f.height||0,this.audioCodec=f.audioCodec,this.videoCodec=f.videoCodec,this.unknownCodecs=f.unknownCodecs,this.codecSet=[f.videoCodec,f.audioCodec].filter(function(_){return _}).join(",").replace(/\.[^.,]+/g,"")}var c,u;return c=s,(u=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(f){var _=f%this.url.length;this._urlId!==_&&(this.details=void 0,this._urlId=_)}}])&&n(c.prototype,u),s}()},"./src/types/loader.ts":function(e,t,r){var n,o,i,a;r.r(t),r.d(t,"PlaylistContextType",function(){return n}),r.d(t,"PlaylistLevelType",function(){return i}),(o=n||(n={})).MANIFEST="manifest",o.LEVEL="level",o.AUDIO_TRACK="audioTrack",o.SUBTITLE_TRACK="subtitleTrack",(a=i||(i={})).MAIN="main",a.AUDIO="audio",a.SUBTITLE="subtitle"},"./src/types/transmuxer.ts":function(e,t,r){r.r(t),r.d(t,"ChunkMetadata",function(){return n});var n=function(o,i,a,d,l,s){d===void 0&&(d=0),l===void 0&&(l=-1),s===void 0&&(s=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=o,this.sn=i,this.id=a,this.size=d,this.part=l,this.partial=s}},"./src/utils/attr-list.ts":function(e,t,r){r.r(t),r.d(t,"AttrList",function(){return i});var n=/^(\d+)x(\d+)$/,o=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,i=function(){function a(l){for(var s in typeof l=="string"&&(l=a.parseAttrList(l)),l)l.hasOwnProperty(s)&&(this[s]=l[s])}var d=a.prototype;return d.decimalInteger=function(l){var s=parseInt(this[l],10);return s>Number.MAX_SAFE_INTEGER?1/0:s},d.hexadecimalInteger=function(l){if(this[l]){var s=(this[l]||"0x").slice(2);s=(1&s.length?"0":"")+s;for(var c=new Uint8Array(s.length/2),u=0;u<s.length/2;u++)c[u]=parseInt(s.slice(2*u,2*u+2),16);return c}return null},d.hexadecimalIntegerAsNumber=function(l){var s=parseInt(this[l],16);return s>Number.MAX_SAFE_INTEGER?1/0:s},d.decimalFloatingPoint=function(l){return parseFloat(this[l])},d.optionalFloat=function(l,s){var c=this[l];return c?parseFloat(c):s},d.enumeratedString=function(l){return this[l]},d.bool=function(l){return this[l]==="YES"},d.decimalResolution=function(l){var s=n.exec(this[l]);if(s!==null)return{width:parseInt(s[1],10),height:parseInt(s[2],10)}},a.parseAttrList=function(l){var s,c={};for(o.lastIndex=0;(s=o.exec(l))!==null;){var u=s[2];u.indexOf('"')===0&&u.lastIndexOf('"')===u.length-1&&(u=u.slice(1,-1)),c[s[1]]=u}return c},a}()},"./src/utils/binary-search.ts":function(e,t,r){r.r(t),t.default={search:function(n,o){for(var i=0,a=n.length-1,d=null,l=null;i<=a;){var s=o(l=n[d=(i+a)/2|0]);if(s>0)i=d+1;else{if(!(s<0))return l;a=d-1}}return null}}},"./src/utils/buffer-helper.ts":function(e,t,r){r.r(t),r.d(t,"BufferHelper",function(){return i});var n=r("./src/utils/logger.ts"),o={length:0,start:function(){return 0},end:function(){return 0}},i=function(){function a(){}return a.isBuffered=function(d,l){try{if(d){for(var s=a.getBuffered(d),c=0;c<s.length;c++)if(l>=s.start(c)&&l<=s.end(c))return!0}}catch{}return!1},a.bufferInfo=function(d,l,s){try{if(d){var c,u=a.getBuffered(d),f=[];for(c=0;c<u.length;c++)f.push({start:u.start(c),end:u.end(c)});return this.bufferedInfo(f,l,s)}}catch{}return{len:0,start:l,end:l,nextStart:void 0}},a.bufferedInfo=function(d,l,s){l=Math.max(0,l),d.sort(function(p,C){var S=p.start-C.start;return S||C.end-p.end});var c=[];if(s)for(var u=0;u<d.length;u++){var f=c.length;if(f){var _=c[f-1].end;d[u].start-_<s?d[u].end>_&&(c[f-1].end=d[u].end):c.push(d[u])}else c.push(d[u])}else c=d;for(var v,b=0,g=l,m=l,h=0;h<c.length;h++){var x=c[h].start,y=c[h].end;if(l+s>=x&&l<y)g=x,b=(m=y)-l;else if(l+s<x){v=x;break}}return{len:b,start:g||0,end:m||0,nextStart:v}},a.getBuffered=function(d){try{return d.buffered}catch(l){return n.logger.log("failed to get media.buffered",l),o}},a}()},"./src/utils/cea-608-parser.ts":function(e,t,r){r.r(t),r.d(t,"Row",function(){return x}),r.d(t,"CaptionScreen",function(){return y});var n,o,i=r("./src/utils/logger.ts"),a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},d=function(A){var E=A;return a.hasOwnProperty(A)&&(E=a[A]),String.fromCharCode(E)},l=15,s=100,c={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},u={17:2,18:4,21:6,22:8,23:10,19:13,20:15},f={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},_={25:2,26:4,29:6,30:8,31:10,27:13,28:15},v=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];(o=n||(n={}))[o.ERROR=0]="ERROR",o[o.TEXT=1]="TEXT",o[o.WARNING=2]="WARNING",o[o.INFO=2]="INFO",o[o.DEBUG=3]="DEBUG",o[o.DATA=3]="DATA";var b=function(){function A(){this.time=null,this.verboseLevel=n.ERROR}return A.prototype.log=function(E,R){this.verboseLevel>=E&&i.logger.log(this.time+" ["+E+"] "+R)},A}(),g=function(A){for(var E=[],R=0;R<A.length;R++)E.push(A[R].toString(16));return E},m=function(){function A(R,T,L,P,k){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=R||"white",this.underline=T||!1,this.italics=L||!1,this.background=P||"black",this.flash=k||!1}var E=A.prototype;return E.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},E.setStyles=function(R){for(var T=["foreground","underline","italics","background","flash"],L=0;L<T.length;L++){var P=T[L];R.hasOwnProperty(P)&&(this[P]=R[P])}},E.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},E.equals=function(R){return this.foreground===R.foreground&&this.underline===R.underline&&this.italics===R.italics&&this.background===R.background&&this.flash===R.flash},E.copy=function(R){this.foreground=R.foreground,this.underline=R.underline,this.italics=R.italics,this.background=R.background,this.flash=R.flash},E.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},A}(),h=function(){function A(R,T,L,P,k,D){this.uchar=void 0,this.penState=void 0,this.uchar=R||" ",this.penState=new m(T,L,P,k,D)}var E=A.prototype;return E.reset=function(){this.uchar=" ",this.penState.reset()},E.setChar=function(R,T){this.uchar=R,this.penState.copy(T)},E.setPenState=function(R){this.penState.copy(R)},E.equals=function(R){return this.uchar===R.uchar&&this.penState.equals(R.penState)},E.copy=function(R){this.uchar=R.uchar,this.penState.copy(R.penState)},E.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},A}(),x=function(){function A(R){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var T=0;T<s;T++)this.chars.push(new h);this.logger=R,this.pos=0,this.currPenState=new m}var E=A.prototype;return E.equals=function(R){for(var T=!0,L=0;L<s;L++)if(!this.chars[L].equals(R.chars[L])){T=!1;break}return T},E.copy=function(R){for(var T=0;T<s;T++)this.chars[T].copy(R.chars[T])},E.isEmpty=function(){for(var R=!0,T=0;T<s;T++)if(!this.chars[T].isEmpty()){R=!1;break}return R},E.setCursor=function(R){this.pos!==R&&(this.pos=R),this.pos<0?(this.logger.log(n.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>s&&(this.logger.log(n.DEBUG,"Too large cursor position "+this.pos),this.pos=s)},E.moveCursor=function(R){var T=this.pos+R;if(R>1)for(var L=this.pos+1;L<T+1;L++)this.chars[L].setPenState(this.currPenState);this.setCursor(T)},E.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},E.insertChar=function(R){R>=144&&this.backSpace();var T=d(R);this.pos>=s?this.logger.log(n.ERROR,"Cannot insert "+R.toString(16)+" ("+T+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(T,this.currPenState),this.moveCursor(1))},E.clearFromPos=function(R){var T;for(T=R;T<s;T++)this.chars[T].reset()},E.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},E.clearToEndOfRow=function(){this.clearFromPos(this.pos)},E.getTextString=function(){for(var R=[],T=!0,L=0;L<s;L++){var P=this.chars[L].uchar;P!==" "&&(T=!1),R.push(P)}return T?"":R.join("")},E.setPenStyles=function(R){this.currPenState.setStyles(R),this.chars[this.pos].setPenState(this.currPenState)},A}(),y=function(){function A(R){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var T=0;T<l;T++)this.rows.push(new x(R));this.logger=R,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var E=A.prototype;return E.reset=function(){for(var R=0;R<l;R++)this.rows[R].clear();this.currRow=14},E.equals=function(R){for(var T=!0,L=0;L<l;L++)if(!this.rows[L].equals(R.rows[L])){T=!1;break}return T},E.copy=function(R){for(var T=0;T<l;T++)this.rows[T].copy(R.rows[T])},E.isEmpty=function(){for(var R=!0,T=0;T<l;T++)if(!this.rows[T].isEmpty()){R=!1;break}return R},E.backSpace=function(){this.rows[this.currRow].backSpace()},E.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},E.insertChar=function(R){this.rows[this.currRow].insertChar(R)},E.setPen=function(R){this.rows[this.currRow].setPenStyles(R)},E.moveCursor=function(R){this.rows[this.currRow].moveCursor(R)},E.setCursor=function(R){this.logger.log(n.INFO,"setCursor: "+R),this.rows[this.currRow].setCursor(R)},E.setPAC=function(R){this.logger.log(n.INFO,"pacData = "+JSON.stringify(R));var T=R.row-1;if(this.nrRollUpRows&&T<this.nrRollUpRows-1&&(T=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==T){for(var L=0;L<l;L++)this.rows[L].clear();var P=this.currRow+1-this.nrRollUpRows,k=this.lastOutputScreen;if(k){var D=k.rows[P].cueStartTime,O=this.logger.time;if(D&&O!==null&&D<O)for(var M=0;M<this.nrRollUpRows;M++)this.rows[T-this.nrRollUpRows+M+1].copy(k.rows[P+M])}}this.currRow=T;var F=this.rows[this.currRow];if(R.indent!==null){var N=R.indent,U=Math.max(N-1,0);F.setCursor(R.indent),R.color=F.chars[U].penState.foreground}var G={foreground:R.color,underline:R.underline,italics:R.italics,background:"black",flash:!1};this.setPen(G)},E.setBkgData=function(R){this.logger.log(n.INFO,"bkgData = "+JSON.stringify(R)),this.backSpace(),this.setPen(R),this.insertChar(32)},E.setRollUpRows=function(R){this.nrRollUpRows=R},E.rollUp=function(){if(this.nrRollUpRows!==null){this.logger.log(n.TEXT,this.getDisplayText());var R=this.currRow+1-this.nrRollUpRows,T=this.rows.splice(R,1)[0];T.clear(),this.rows.splice(this.currRow,0,T),this.logger.log(n.INFO,"Rolling up")}else this.logger.log(n.DEBUG,"roll_up but nrRollUpRows not set yet")},E.getDisplayText=function(R){R=R||!1;for(var T=[],L="",P=-1,k=0;k<l;k++){var D=this.rows[k].getTextString();D&&(P=k+1,R?T.push("Row "+P+": '"+D+"'"):T.push(D.trim()))}return T.length>0&&(L=R?"["+T.join(" | ")+"]":T.join(`
`)),L},E.getTextAndFormat=function(){return this.rows},A}(),p=function(){function A(R,T,L){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=R,this.outputFilter=T,this.mode=null,this.verbose=0,this.displayedMemory=new y(L),this.nonDisplayedMemory=new y(L),this.lastOutputScreen=new y(L),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=L}var E=A.prototype;return E.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},E.getHandler=function(){return this.outputFilter},E.setHandler=function(R){this.outputFilter=R},E.setPAC=function(R){this.writeScreen.setPAC(R)},E.setBkgData=function(R){this.writeScreen.setBkgData(R)},E.setMode=function(R){R!==this.mode&&(this.mode=R,this.logger.log(n.INFO,"MODE="+R),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=R)},E.insertChars=function(R){for(var T=0;T<R.length;T++)this.writeScreen.insertChar(R[T]);var L=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(n.INFO,L+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(this.logger.log(n.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},E.ccRCL=function(){this.logger.log(n.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},E.ccBS=function(){this.logger.log(n.INFO,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},E.ccAOF=function(){},E.ccAON=function(){},E.ccDER=function(){this.logger.log(n.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},E.ccRU=function(R){this.logger.log(n.INFO,"RU("+R+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(R)},E.ccFON=function(){this.logger.log(n.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},E.ccRDC=function(){this.logger.log(n.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},E.ccTR=function(){this.logger.log(n.INFO,"TR"),this.setMode("MODE_TEXT")},E.ccRTD=function(){this.logger.log(n.INFO,"RTD"),this.setMode("MODE_TEXT")},E.ccEDM=function(){this.logger.log(n.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},E.ccCR=function(){this.logger.log(n.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},E.ccENM=function(){this.logger.log(n.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},E.ccEOC=function(){if(this.logger.log(n.INFO,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var R=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=R,this.writeScreen=this.nonDisplayedMemory,this.logger.log(n.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},E.ccTO=function(R){this.logger.log(n.INFO,"TO("+R+") - Tab Offset"),this.writeScreen.moveCursor(R)},E.ccMIDROW=function(R){var T={flash:!1};if(T.underline=R%2==1,T.italics=R>=46,T.italics)T.foreground="white";else{var L=Math.floor(R/2)-16;T.foreground=["white","green","blue","cyan","red","yellow","magenta"][L]}this.logger.log(n.INFO,"MIDROW: "+JSON.stringify(T)),this.writeScreen.setPen(T)},E.outputDataUpdate=function(R){R===void 0&&(R=!1);var T=this.logger.time;T!==null&&this.outputFilter&&(this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,T,this.lastOutputScreen),R&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:T):this.cueStartTime=T,this.lastOutputScreen.copy(this.displayedMemory))},E.cueSplitAtTime=function(R){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,R,this.displayedMemory),this.cueStartTime=R))},A}(),C=function(){function A(R,T,L){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var P=new b;this.channels=[null,new p(R,T,P),new p(R+1,L,P)],this.cmdHistory={a:null,b:null},this.logger=P}var E=A.prototype;return E.getHandler=function(R){return this.channels[R].getHandler()},E.setHandler=function(R,T){this.channels[R].setHandler(T)},E.addData=function(R,T){var L,P,k,D=!1;this.logger.time=R;for(var O=0;O<T.length;O+=2)if(P=127&T[O],k=127&T[O+1],P!==0||k!==0){if(this.logger.log(n.DATA,"["+g([T[O],T[O+1]])+"] -> ("+g([P,k])+")"),(L=this.parseCmd(P,k))||(L=this.parseMidrow(P,k)),L||(L=this.parsePAC(P,k)),L||(L=this.parseBackgroundAttributes(P,k)),!L&&(D=this.parseChars(P,k))){var M=this.currentChannel;M&&M>0?this.channels[M].insertChars(D):this.logger.log(n.WARNING,"No channel found yet. TEXT-MODE?")}L||D||this.logger.log(n.WARNING,"Couldn't parse cleaned data "+g([P,k])+" orig: "+g([T[O],T[O+1]]))}},E.parseCmd=function(R,T){var L=this.cmdHistory;if(!((R===20||R===28||R===21||R===29)&&T>=32&&T<=47||(R===23||R===31)&&T>=33&&T<=35))return!1;if(w(R,T,L))return S(null,null,L),this.logger.log(n.DEBUG,"Repeated command ("+g([R,T])+") is dropped"),!0;var P=R===20||R===21||R===23?1:2,k=this.channels[P];return R===20||R===21||R===28||R===29?T===32?k.ccRCL():T===33?k.ccBS():T===34?k.ccAOF():T===35?k.ccAON():T===36?k.ccDER():T===37?k.ccRU(2):T===38?k.ccRU(3):T===39?k.ccRU(4):T===40?k.ccFON():T===41?k.ccRDC():T===42?k.ccTR():T===43?k.ccRTD():T===44?k.ccEDM():T===45?k.ccCR():T===46?k.ccENM():T===47&&k.ccEOC():k.ccTO(T-32),S(R,T,L),this.currentChannel=P,!0},E.parseMidrow=function(R,T){var L=0;if((R===17||R===25)&&T>=32&&T<=47){if((L=R===17?1:2)!==this.currentChannel)return this.logger.log(n.ERROR,"Mismatch channel in midrow parsing"),!1;var P=this.channels[L];return!!P&&(P.ccMIDROW(T),this.logger.log(n.DEBUG,"MIDROW ("+g([R,T])+")"),!0)}return!1},E.parsePAC=function(R,T){var L,P=this.cmdHistory;if(!((R>=17&&R<=23||R>=25&&R<=31)&&T>=64&&T<=127||(R===16||R===24)&&T>=64&&T<=95))return!1;if(w(R,T,P))return S(null,null,P),!0;var k=R<=23?1:2;L=T>=64&&T<=95?k===1?c[R]:f[R]:k===1?u[R]:_[R];var D=this.channels[k];return!!D&&(D.setPAC(this.interpretPAC(L,T)),S(R,T,P),this.currentChannel=k,!0)},E.interpretPAC=function(R,T){var L,P={color:null,italics:!1,indent:null,underline:!1,row:R};return L=T>95?T-96:T-64,P.underline=(1&L)==1,L<=13?P.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(L/2)]:L<=15?(P.italics=!0,P.color="white"):P.indent=4*Math.floor((L-16)/2),P},E.parseChars=function(R,T){var L,P,k=null,D=null;if(R>=25?(L=2,D=R-8):(L=1,D=R),D>=17&&D<=19?(P=D===17?T+80:D===18?T+112:T+144,this.logger.log(n.INFO,"Special char '"+d(P)+"' in channel "+L),k=[P]):R>=32&&R<=127&&(k=T===0?[R]:[R,T]),k){var O=g(k);this.logger.log(n.DEBUG,"Char codes =  "+O.join(",")),S(R,T,this.cmdHistory)}return k},E.parseBackgroundAttributes=function(R,T){var L;if(!((R===16||R===24)&&T>=32&&T<=47||(R===23||R===31)&&T>=45&&T<=47))return!1;var P={};R===16||R===24?(L=Math.floor((T-32)/2),P.background=v[L],T%2==1&&(P.background=P.background+"_semi")):T===45?P.background="transparent":(P.foreground="black",T===47&&(P.underline=!0));var k=R<=23?1:2;return this.channels[k].setBkgData(P),S(R,T,this.cmdHistory),!0},E.reset=function(){for(var R=0;R<Object.keys(this.channels).length;R++){var T=this.channels[R];T&&T.reset()}this.cmdHistory={a:null,b:null}},E.cueSplitAtTime=function(R){for(var T=0;T<this.channels.length;T++){var L=this.channels[T];L&&L.cueSplitAtTime(R)}},A}();function S(A,E,R){R.a=A,R.b=E}function w(A,E,R){return R.a===A&&R.b===E}t.default=C},"./src/utils/codecs.ts":function(e,t,r){r.r(t),r.d(t,"isCodecType",function(){return o}),r.d(t,"isCodecSupportedInMp4",function(){return i});var n={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function o(a,d){var l=n[d];return!!l&&l[a.slice(0,4)]===!0}function i(a,d){return MediaSource.isTypeSupported((d||"video")+'/mp4;codecs="'+a+'"')}},"./src/utils/cues.ts":function(e,t,r){r.r(t);var n=r("./src/utils/vttparser.ts"),o=r("./src/utils/webvtt-parser.ts"),i=r("./src/utils/texttrack-utils.ts"),a=/\s/,d={newCue:function(l,s,c,u){for(var f,_,v,b,g,m=[],h=self.VTTCue||self.TextTrackCue,x=0;x<u.rows.length;x++)if(v=!0,b=0,g="",!(f=u.rows[x]).isEmpty()){for(var y=0;y<f.chars.length;y++)a.test(f.chars[y].uchar)&&v?b++:(g+=f.chars[y].uchar,v=!1);f.cueStartTime=s,s===c&&(c+=1e-4),b>=16?b--:b++;var p=Object(n.fixLineBreaks)(g.trim()),C=Object(o.generateCueId)(s,c,p);l&&l.cues&&l.cues.getCueById(C)||((_=new h(s,c,p)).id=C,_.line=x+1,_.align="left",_.position=10+Math.min(80,10*Math.floor(8*b/32)),m.push(_))}return l&&m.length&&(m.sort(function(S,w){return S.line==="auto"||w.line==="auto"?0:S.line>8&&w.line>8?w.line-S.line:S.line-w.line}),m.forEach(function(S){return Object(i.addCueToTrack)(l,S)})),m}};t.default=d},"./src/utils/discontinuities.ts":function(e,t,r){r.r(t),r.d(t,"findFirstFragWithCC",function(){return a}),r.d(t,"shouldAlignOnDiscontinuities",function(){return d}),r.d(t,"findDiscontinuousReferenceFrag",function(){return l}),r.d(t,"adjustSlidingStart",function(){return c}),r.d(t,"alignStream",function(){return u}),r.d(t,"alignPDT",function(){return f});var n=r("./src/polyfills/number.ts"),o=r("./src/utils/logger.ts"),i=r("./src/controller/level-helper.ts");function a(_,v){for(var b=null,g=0,m=_.length;g<m;g++){var h=_[g];if(h&&h.cc===v){b=h;break}}return b}function d(_,v,b){return!(!v.details||!(b.endCC>b.startCC||_&&_.cc<b.startCC))}function l(_,v){var b=_.fragments,g=v.fragments;if(g.length&&b.length){var m=a(b,g[0].cc);if(m&&(!m||m.startPTS))return m;o.logger.log("No frag in previous level to align on")}else o.logger.log("No fragments to align")}function s(_,v){if(_){var b=_.start+v;_.start=_.startPTS=b,_.endPTS=b+_.duration}}function c(_,v){for(var b=v.fragments,g=0,m=b.length;g<m;g++)s(b[g],_);v.fragmentHint&&s(v.fragmentHint,_),v.alignedSliding=!0}function u(_,v,b){v&&(function(g,m,h){if(d(g,h,m)){var x=l(h.details,m);x&&Object(n.isFiniteNumber)(x.start)&&(o.logger.log("Adjusting PTS using last level due to CC increase within current level "+m.url),c(x.start,m))}}(_,b,v),!b.alignedSliding&&v.details&&f(b,v.details),b.alignedSliding||!v.details||b.skippedSegments||Object(i.adjustSliding)(v.details,b))}function f(_,v){if(v.fragments.length&&_.hasProgramDateTime&&v.hasProgramDateTime){var b=v.fragments[0].programDateTime,g=_.fragments[0].programDateTime,m=(g-b)/1e3+v.fragments[0].start;m&&Object(n.isFiniteNumber)(m)&&(o.logger.log("Adjusting PTS using programDateTime delta "+(g-b)+"ms, sliding:"+m.toFixed(3)+" "+_.url+" "),c(m,_))}}},"./src/utils/ewma-bandwidth-estimator.ts":function(e,t,r){r.r(t);var n=r("./src/utils/ewma.ts"),o=function(){function i(d,l,s){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=s,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new n.default(d),this.fast_=new n.default(l)}var a=i.prototype;return a.update=function(d,l){var s=this.slow_,c=this.fast_;this.slow_.halfLife!==d&&(this.slow_=new n.default(d,s.getEstimate(),s.getTotalWeight())),this.fast_.halfLife!==l&&(this.fast_=new n.default(l,c.getEstimate(),c.getTotalWeight()))},a.sample=function(d,l){var s=(d=Math.max(d,this.minDelayMs_))/1e3,c=8*l/s;this.fast_.sample(s,c),this.slow_.sample(s,c)},a.canEstimate=function(){var d=this.fast_;return d&&d.getTotalWeight()>=this.minWeight_},a.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},a.destroy=function(){},i}();t.default=o},"./src/utils/ewma.ts":function(e,t,r){r.r(t);var n=function(){function o(a,d,l){d===void 0&&(d=0),l===void 0&&(l=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=a,this.alpha_=a?Math.exp(Math.log(.5)/a):0,this.estimate_=d,this.totalWeight_=l}var i=o.prototype;return i.sample=function(a,d){var l=Math.pow(this.alpha_,a);this.estimate_=d*(1-l)+l*this.estimate_,this.totalWeight_+=a},i.getTotalWeight=function(){return this.totalWeight_},i.getEstimate=function(){if(this.alpha_){var a=1-Math.pow(this.alpha_,this.totalWeight_);if(a)return this.estimate_/a}return this.estimate_},o}();t.default=n},"./src/utils/fetch-loader.ts":function(e,t,r){r.r(t),r.d(t,"fetchSupported",function(){return u});var n=r("./src/polyfills/number.ts"),o=r("./src/loader/load-stats.ts"),i=r("./src/demux/chunk-cache.ts");function a(b){var g=typeof Map=="function"?new Map:void 0;return(a=function(m){if(m===null||(h=m,Function.toString.call(h).indexOf("[native code]")===-1))return m;var h;if(typeof m!="function")throw new TypeError("Super expression must either be null or a function");if(g!==void 0){if(g.has(m))return g.get(m);g.set(m,x)}function x(){return d(m,arguments,c(this).constructor)}return x.prototype=Object.create(m.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),s(x,m)})(b)}function d(b,g,m){return(d=l()?Reflect.construct:function(h,x,y){var p=[null];p.push.apply(p,x);var C=new(Function.bind.apply(h,p));return y&&s(C,y.prototype),C}).apply(null,arguments)}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function s(b,g){return(s=Object.setPrototypeOf||function(m,h){return m.__proto__=h,m})(b,g)}function c(b){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(b)}function u(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}var f=function(){function b(m){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=m.fetchSetup||_,this.controller=new self.AbortController,this.stats=new o.LoadStats}var g=b.prototype;return g.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},g.abortInternal=function(){var m=this.response;m&&m.ok||(this.stats.aborted=!0,this.controller.abort())},g.abort=function(){var m;this.abortInternal(),(m=this.callbacks)!==null&&m!==void 0&&m.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},g.load=function(m,h,x){var y=this,p=this.stats;if(p.loading.start)throw new Error("Loader can only be used once.");p.loading.start=self.performance.now();var C=function(E,R){var T={method:"GET",mode:"cors",credentials:"same-origin",signal:R};return E.rangeEnd&&(T.headers=new self.Headers({Range:"bytes="+E.rangeStart+"-"+String(E.rangeEnd-1)})),T}(m,this.controller.signal),S=x.onProgress,w=m.responseType==="arraybuffer",A=w?"byteLength":"length";this.context=m,this.config=h,this.callbacks=x,this.request=this.fetchSetup(m,C),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(function(){y.abortInternal(),x.onTimeout(p,m,y.response)},h.timeout),self.fetch(this.request).then(function(E){if(y.response=y.loader=E,!E.ok){var R=E.status,T=E.statusText;throw new v(T||"fetch, bad network response",R,E)}return p.loading.first=Math.max(self.performance.now(),p.loading.start),p.total=parseInt(E.headers.get("Content-Length")||"0"),S&&Object(n.isFiniteNumber)(h.highWaterMark)?y.loadProgressively(E,p,m,h.highWaterMark,S):w?E.arrayBuffer():E.text()}).then(function(E){var R=y.response;self.clearTimeout(y.requestTimeout),p.loading.end=Math.max(self.performance.now(),p.loading.first),p.loaded=p.total=E[A];var T={url:R.url,data:E};S&&!Object(n.isFiniteNumber)(h.highWaterMark)&&S(p,m,E,R),x.onSuccess(T,p,m,R)}).catch(function(E){if(self.clearTimeout(y.requestTimeout),!p.aborted){var R=E.code||0;x.onError({code:R,text:E.message},m,E.details)}})},g.getCacheAge=function(){var m=null;if(this.response){var h=this.response.headers.get("age");m=h?parseFloat(h):null}return m},g.loadProgressively=function(m,h,x,y,p){y===void 0&&(y=0);var C=new i.default,S=m.body.getReader();return function w(){return S.read().then(function(A){if(A.done)return C.dataLength&&p(h,x,C.flush(),m),Promise.resolve(new ArrayBuffer(0));var E=A.value,R=E.length;return h.loaded+=R,R<y||C.dataLength?(C.push(E),C.dataLength>=y&&p(h,x,C.flush(),m)):p(h,x,E,m),w()}).catch(function(){return Promise.reject()})}()},b}();function _(b,g){return new self.Request(b.url,g)}var v=function(b){var g,m;function h(x,y,p){var C;return(C=b.call(this,x)||this).code=void 0,C.details=void 0,C.code=y,C.details=p,C}return m=b,(g=h).prototype=Object.create(m.prototype),g.prototype.constructor=g,s(g,m),h}(a(Error));t.default=f},"./src/utils/imsc1-ttml-parser.ts":function(e,t,r){r.r(t),r.d(t,"IMSC1_CODEC",function(){return c}),r.d(t,"parseIMSC1",function(){return v});var n=r("./src/utils/mp4-tools.ts"),o=r("./src/utils/vttparser.ts"),i=r("./src/utils/vttcue.ts"),a=r("./src/demux/id3.ts"),d=r("./src/utils/timescale-conversion.ts"),l=r("./src/utils/webvtt-parser.ts");function s(){return(s=Object.assign||function(p){for(var C=1;C<arguments.length;C++){var S=arguments[C];for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(p[w]=S[w])}return p}).apply(this,arguments)}var c="stpp.ttml.im1t",u=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,f=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,_={left:"start",center:"center",right:"end",start:"start",end:"end"};function v(p,C,S,w,A){var E=Object(n.findBox)(new Uint8Array(p),["mdat"]);if(E.length!==0){var R=E[0],T=Object(a.utf8ArrayToStr)(new Uint8Array(p,R.start,R.end-R.start)),L=Object(d.toTimescaleFromScale)(C,1,S);try{w(function(P,k){var D=new DOMParser().parseFromString(P,"text/xml").getElementsByTagName("tt")[0];if(!D)throw new Error("Invalid ttml");var O={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},M=Object.keys(O).reduce(function(H,Z){return H[Z]=D.getAttribute("ttp:"+Z)||O[Z],H},{}),F=D.getAttribute("xml:space")!=="preserve",N=g(b(D,"styling","style")),U=g(b(D,"layout","region")),G=b(D,"body","[begin]");return[].map.call(G,function(H){var Z=m(H,F);if(!Z||!H.hasAttribute("begin"))return null;var de=y(H.getAttribute("begin"),M),ee=y(H.getAttribute("dur"),M),W=y(H.getAttribute("end"),M);if(de===null)throw x(H);if(W===null){if(ee===null)throw x(H);W=de+ee}var ae=new i.default(de-k,W-k,Z);ae.id=Object(l.generateCueId)(ae.startTime,ae.endTime,ae.text);var q=U[H.getAttribute("region")],pe=N[H.getAttribute("style")];ae.position=10,ae.size=80;var we=function(z,Y){var j="http://www.w3.org/ns/ttml#styling";return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce(function(K,te){var re=h(Y,j,te)||h(z,j,te);return re&&(K[te]=re),K},{})}(q,pe),B=we.textAlign;if(B){var $=_[B];$&&(ae.lineAlign=$),ae.align=B}return s(ae,we),ae}).filter(function(H){return H!==null})}(T,L))}catch(P){A(P)}}else A(new Error("Could not parse IMSC1 mdat"))}function b(p,C,S){var w=p.getElementsByTagName(C)[0];return w?[].slice.call(w.querySelectorAll(S)):[]}function g(p){return p.reduce(function(C,S){var w=S.getAttribute("xml:id");return w&&(C[w]=S),C},{})}function m(p,C){return[].slice.call(p.childNodes).reduce(function(S,w,A){var E;return w.nodeName==="br"&&A?S+`
`:(E=w.childNodes)!==null&&E!==void 0&&E.length?m(w,C):C?S+w.textContent.trim().replace(/\s+/g," "):S+w.textContent},"")}function h(p,C,S){return p.hasAttributeNS(C,S)?p.getAttributeNS(C,S):null}function x(p){return new Error("Could not parse ttml timestamp "+p)}function y(p,C){if(!p)return null;var S=Object(o.parseTimeStamp)(p);return S===null&&(u.test(p)?S=function(w,A){var E=u.exec(w),R=(0|E[4])+(0|E[5])/A.subFrameRate;return 3600*(0|E[1])+60*(0|E[2])+(0|E[3])+R/A.frameRate}(p,C):f.test(p)&&(S=function(w,A){var E=f.exec(w),R=Number(E[1]);switch(E[2]){case"h":return 3600*R;case"m":return 60*R;case"ms":return 1e3*R;case"f":return R/A.frameRate;case"t":return R/A.tickRate}return R}(p,C))),S}},"./src/utils/logger.ts":function(e,t,r){r.r(t),r.d(t,"enableLogs",function(){return d}),r.d(t,"logger",function(){return l});var n=function(){},o={trace:n,debug:n,log:n,warn:n,info:n,error:n},i=o;function a(s){var c=self.console[s];return c?c.bind(self.console,"["+s+"] >"):n}function d(s){if(self.console&&s===!0||typeof s=="object"){(function(c){for(var u=arguments.length,f=new Array(u>1?u-1:0),_=1;_<u;_++)f[_-1]=arguments[_];f.forEach(function(v){i[v]=c[v]?c[v].bind(c):a(v)})})(s,"debug","log","info","warn","error");try{i.log()}catch{i=o}}else i=o}var l=o},"./src/utils/mediakeys-helper.ts":function(e,t,r){var n,o;r.r(t),r.d(t,"KeySystems",function(){return n}),r.d(t,"requestMediaKeySystemAccess",function(){return i}),(o=n||(n={})).WIDEVINE="com.widevine.alpha",o.PLAYREADY="com.microsoft.playready";var i=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":function(e,t,r){function n(){return self.MediaSource||self.WebKitMediaSource}r.r(t),r.d(t,"getMediaSource",function(){return n})},"./src/utils/mp4-tools.ts":function(e,t,r){r.r(t),r.d(t,"bin2str",function(){return d}),r.d(t,"readUint16",function(){return l}),r.d(t,"readUint32",function(){return s}),r.d(t,"writeUint32",function(){return c}),r.d(t,"findBox",function(){return u}),r.d(t,"parseSegmentIndex",function(){return f}),r.d(t,"parseInitSegment",function(){return _}),r.d(t,"getStartDTS",function(){return v}),r.d(t,"getDuration",function(){return b}),r.d(t,"computeRawDurationFromSamples",function(){return g}),r.d(t,"offsetStartDTS",function(){return m}),r.d(t,"segmentValidRange",function(){return h}),r.d(t,"appendUint8Array",function(){return x});var n=r("./src/utils/typed-array.ts"),o=r("./src/loader/fragment.ts"),i=Math.pow(2,32)-1,a=[].push;function d(y){return String.fromCharCode.apply(null,y)}function l(y,p){"data"in y&&(p+=y.start,y=y.data);var C=y[p]<<8|y[p+1];return C<0?65536+C:C}function s(y,p){"data"in y&&(p+=y.start,y=y.data);var C=y[p]<<24|y[p+1]<<16|y[p+2]<<8|y[p+3];return C<0?4294967296+C:C}function c(y,p,C){"data"in y&&(p+=y.start,y=y.data),y[p]=C>>24,y[p+1]=C>>16&255,y[p+2]=C>>8&255,y[p+3]=255&C}function u(y,p){var C,S,w,A=[];if(!p.length)return A;"data"in y?(C=y.data,S=y.start,w=y.end):(S=0,w=(C=y).byteLength);for(var E=S;E<w;){var R=s(C,E),T=R>1?E+R:w;if(d(C.subarray(E+4,E+8))===p[0])if(p.length===1)A.push({data:C,start:E+8,end:T});else{var L=u({data:C,start:E+8,end:T},p.slice(1));L.length&&a.apply(A,L)}E=T}return A}function f(y){var p=u(y,["moov"])[0],C=p?p.end:null,S=u(y,["sidx"]);if(!S||!S[0])return null;var w=[],A=S[0],E=A.data[0],R=E===0?8:16,T=s(A,R);R+=4,R+=E===0?8:16,R+=2;var L=A.end+0,P=l(A,R);R+=2;for(var k=0;k<P;k++){var D=R,O=s(A,D);D+=4;var M=2147483647&O;if((2147483648&O)>>>31==1)return console.warn("SIDX has hierarchical references (not supported)"),null;var F=s(A,D);D+=4,w.push({referenceSize:M,subsegmentDuration:F,info:{duration:F/T,start:L,end:L+M-1}}),L+=M,R=D+=4}return{earliestPresentationTime:0,timescale:T,version:E,referencesCount:P,references:w,moovEndOffset:C}}function _(y){for(var p=[],C=u(y,["moov","trak"]),S=0;S<C.length;S++){var w=C[S],A=u(w,["tkhd"])[0];if(A){var E=A.data[A.start],R=E===0?12:20,T=s(A,R),L=u(w,["mdia","mdhd"])[0];if(L){var P=s(L,R=(E=L.data[L.start])===0?12:20),k=u(w,["mdia","hdlr"])[0];if(k){var D=d(k.data.subarray(k.start+8,k.start+12)),O={soun:o.ElementaryStreamTypes.AUDIO,vide:o.ElementaryStreamTypes.VIDEO}[D];if(O){var M=u(w,["mdia","minf","stbl","stsd"])[0],F=void 0;M&&(F=d(M.data.subarray(M.start+12,M.start+16))),p[T]={timescale:P,type:O},p[O]={timescale:P,id:T,codec:F}}}}}}return u(y,["moov","mvex","trex"]).forEach(function(N){var U=s(N,4),G=p[U];G&&(G.default={duration:s(N,12),flags:s(N,20)})}),p}function v(y,p){return u(p,["moof","traf"]).reduce(function(C,S){var w=u(S,["tfdt"])[0],A=w.data[w.start],E=u(S,["tfhd"]).reduce(function(R,T){var L=s(T,4),P=y[L];if(P){var k=s(w,4);A===1&&(k*=Math.pow(2,32),k+=s(w,8));var D=k/(P.timescale||9e4);if(isFinite(D)&&(R===null||D<R))return D}return R},null);return E!==null&&isFinite(E)&&(C===null||E<C)?E:C},null)||0}function b(y,p){for(var C=0,S=0,w=0,A=u(y,["moof","traf"]),E=0;E<A.length;E++){var R=A[E],T=u(R,["tfhd"])[0],L=p[s(T,4)];if(L){var P=L.default,k=s(T,0)|(P==null?void 0:P.flags),D=P==null?void 0:P.duration;8&k&&(D=s(T,2&k?12:8));for(var O=L.timescale||9e4,M=u(R,["trun"]),F=0;F<M.length;F++)C=D?D*s(M[F],4):g(M[F]),L.type===o.ElementaryStreamTypes.VIDEO?S+=C/O:L.type===o.ElementaryStreamTypes.AUDIO&&(w+=C/O)}}if(S===0&&w===0){var N=f(y);if(N!=null&&N.references)return N.references.reduce(function(U,G){return U+G.info.duration||0},0)}return S||w}function g(y){var p=s(y,0),C=8;1&p&&(C+=4),4&p&&(C+=4);for(var S=0,w=s(y,4),A=0;A<w;A++)256&p&&(S+=s(y,C),C+=4),512&p&&(C+=4),1024&p&&(C+=4),2048&p&&(C+=4);return S}function m(y,p,C){u(p,["moof","traf"]).forEach(function(S){u(S,["tfhd"]).forEach(function(w){var A=s(w,4),E=y[A];if(E){var R=E.timescale||9e4;u(S,["tfdt"]).forEach(function(T){var L=T.data[T.start],P=s(T,4);if(L===0)c(T,4,P-C*R);else{P*=Math.pow(2,32),P+=s(T,8),P-=C*R,P=Math.max(P,0);var k=Math.floor(P/(i+1)),D=Math.floor(P%(i+1));c(T,4,k),c(T,8,D)}})}})})}function h(y){var p={valid:null,remainder:null},C=u(y,["moof"]);if(!C)return p;if(C.length<2)return p.remainder=y,p;var S=C[C.length-1];return p.valid=Object(n.sliceUint8)(y,0,S.start-8),p.remainder=Object(n.sliceUint8)(y,S.start-8),p}function x(y,p){var C=new Uint8Array(y.length+p.length);return C.set(y),C.set(p,y.length),C}},"./src/utils/output-filter.ts":function(e,t,r){r.r(t),r.d(t,"default",function(){return n});var n=function(){function o(a,d){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=a,this.trackName=d}var i=o.prototype;return i.dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},i.newCue=function(a,d,l){(this.startTime===null||this.startTime>a)&&(this.startTime=a),this.endTime=d,this.screen=l,this.timelineController.createCaptionsTrack(this.trackName)},i.reset=function(){this.cueRanges=[]},o}()},"./src/utils/texttrack-utils.ts":function(e,t,r){r.r(t),r.d(t,"sendAddTrackEvent",function(){return o}),r.d(t,"addCueToTrack",function(){return i}),r.d(t,"clearCurrentCues",function(){return a}),r.d(t,"removeCuesInRange",function(){return d}),r.d(t,"getCuesInRange",function(){return l});var n=r("./src/utils/logger.ts");function o(s,c){var u;try{u=new Event("addtrack")}catch{(u=document.createEvent("Event")).initEvent("addtrack",!1,!1)}u.track=s,c.dispatchEvent(u)}function i(s,c){var u=s.mode;if(u==="disabled"&&(s.mode="hidden"),s.cues&&!s.cues.getCueById(c.id))try{if(s.addCue(c),!s.cues.getCueById(c.id))throw new Error("addCue is failed for: "+c)}catch(_){n.logger.debug("[texttrack-utils]: "+_);var f=new self.TextTrackCue(c.startTime,c.endTime,c.text);f.id=c.id,s.addCue(f)}u==="disabled"&&(s.mode=u)}function a(s){var c=s.mode;if(c==="disabled"&&(s.mode="hidden"),s.cues)for(var u=s.cues.length;u--;)s.removeCue(s.cues[u]);c==="disabled"&&(s.mode=c)}function d(s,c,u){var f=s.mode;if(f==="disabled"&&(s.mode="hidden"),s.cues&&s.cues.length>0)for(var _=l(s.cues,c,u),v=0;v<_.length;v++)s.removeCue(_[v]);f==="disabled"&&(s.mode=f)}function l(s,c,u){var f=[],_=function(m,h){if(h<m[0].startTime)return 0;var x=m.length-1;if(h>m[x].endTime)return-1;for(var y=0,p=x;y<=p;){var C=Math.floor((p+y)/2);if(h<m[C].startTime)p=C-1;else{if(!(h>m[C].startTime&&y<x))return C;y=C+1}}return m[y].startTime-h<h-m[p].startTime?y:p}(s,c);if(_>-1)for(var v=_,b=s.length;v<b;v++){var g=s[v];if(g.startTime>=c&&g.endTime<=u)f.push(g);else if(g.startTime>u)return f}return f}},"./src/utils/time-ranges.ts":function(e,t,r){r.r(t),t.default={toString:function(n){for(var o="",i=n.length,a=0;a<i;a++)o+="["+n.start(a).toFixed(3)+","+n.end(a).toFixed(3)+"]";return o}}},"./src/utils/timescale-conversion.ts":function(e,t,r){function n(d,l,s,c){s===void 0&&(s=1),c===void 0&&(c=!1);var u=d*l*s;return c?Math.round(u):u}function o(d,l,s,c){return s===void 0&&(s=1),c===void 0&&(c=!1),n(d,l,1/s,c)}function i(d,l){return l===void 0&&(l=!1),n(d,1e3,1/9e4,l)}function a(d,l){return l===void 0&&(l=1),n(d,9e4,1/l)}r.r(t),r.d(t,"toTimescaleFromBase",function(){return n}),r.d(t,"toTimescaleFromScale",function(){return o}),r.d(t,"toMsFromMpegTsClock",function(){return i}),r.d(t,"toMpegTsClockFromTimescale",function(){return a})},"./src/utils/typed-array.ts":function(e,t,r){function n(o,i,a){return Uint8Array.prototype.slice?o.slice(i,a):new Uint8Array(Array.prototype.slice.call(o,i,a))}r.r(t),r.d(t,"sliceUint8",function(){return n})},"./src/utils/vttcue.ts":function(e,t,r){r.r(t),t.default=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;var n=["","lr","rl"],o=["start","middle","end","left","right"];function i(s,c){if(typeof c!="string"||!Array.isArray(s))return!1;var u=c.toLowerCase();return!!~s.indexOf(u)&&u}function a(s){return i(o,s)}function d(s){for(var c=arguments.length,u=new Array(c>1?c-1:0),f=1;f<c;f++)u[f-1]=arguments[f];for(var _=1;_<arguments.length;_++){var v=arguments[_];for(var b in v)s[b]=v[b]}return s}function l(s,c,u){var f=this,_={enumerable:!0};f.hasBeenReset=!1;var v="",b=!1,g=s,m=c,h=u,x=null,y="",p=!0,C="auto",S="start",w=50,A="middle",E=50,R="middle";Object.defineProperty(f,"id",d({},_,{get:function(){return v},set:function(T){v=""+T}})),Object.defineProperty(f,"pauseOnExit",d({},_,{get:function(){return b},set:function(T){b=!!T}})),Object.defineProperty(f,"startTime",d({},_,{get:function(){return g},set:function(T){if(typeof T!="number")throw new TypeError("Start time must be set to a number.");g=T,this.hasBeenReset=!0}})),Object.defineProperty(f,"endTime",d({},_,{get:function(){return m},set:function(T){if(typeof T!="number")throw new TypeError("End time must be set to a number.");m=T,this.hasBeenReset=!0}})),Object.defineProperty(f,"text",d({},_,{get:function(){return h},set:function(T){h=""+T,this.hasBeenReset=!0}})),Object.defineProperty(f,"region",d({},_,{get:function(){return x},set:function(T){x=T,this.hasBeenReset=!0}})),Object.defineProperty(f,"vertical",d({},_,{get:function(){return y},set:function(T){var L=function(P){return i(n,P)}(T);if(L===!1)throw new SyntaxError("An invalid or illegal string was specified.");y=L,this.hasBeenReset=!0}})),Object.defineProperty(f,"snapToLines",d({},_,{get:function(){return p},set:function(T){p=!!T,this.hasBeenReset=!0}})),Object.defineProperty(f,"line",d({},_,{get:function(){return C},set:function(T){if(typeof T!="number"&&T!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");C=T,this.hasBeenReset=!0}})),Object.defineProperty(f,"lineAlign",d({},_,{get:function(){return S},set:function(T){var L=a(T);if(!L)throw new SyntaxError("An invalid or illegal string was specified.");S=L,this.hasBeenReset=!0}})),Object.defineProperty(f,"position",d({},_,{get:function(){return w},set:function(T){if(T<0||T>100)throw new Error("Position must be between 0 and 100.");w=T,this.hasBeenReset=!0}})),Object.defineProperty(f,"positionAlign",d({},_,{get:function(){return A},set:function(T){var L=a(T);if(!L)throw new SyntaxError("An invalid or illegal string was specified.");A=L,this.hasBeenReset=!0}})),Object.defineProperty(f,"size",d({},_,{get:function(){return E},set:function(T){if(T<0||T>100)throw new Error("Size must be between 0 and 100.");E=T,this.hasBeenReset=!0}})),Object.defineProperty(f,"align",d({},_,{get:function(){return R},set:function(T){var L=a(T);if(!L)throw new SyntaxError("An invalid or illegal string was specified.");R=L,this.hasBeenReset=!0}})),f.displayState=void 0}return l.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},l}()},"./src/utils/vttparser.ts":function(e,t,r){r.r(t),r.d(t,"parseTimeStamp",function(){return i}),r.d(t,"fixLineBreaks",function(){return u}),r.d(t,"VTTParser",function(){return f});var n=r("./src/utils/vttcue.ts"),o=function(){function _(){}return _.prototype.decode=function(v,b){if(!v)return"";if(typeof v!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(v))},_}();function i(_){function v(g,m,h,x){return 3600*(0|g)+60*(0|m)+(0|h)+parseFloat(x||0)}var b=_.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return b?parseFloat(b[2])>59?v(b[2],b[3],0,b[4]):v(b[1],b[2],b[3],b[4]):null}var a=function(){function _(){this.values=Object.create(null)}var v=_.prototype;return v.set=function(b,g){this.get(b)||g===""||(this.values[b]=g)},v.get=function(b,g,m){return m?this.has(b)?this.values[b]:g[m]:this.has(b)?this.values[b]:g},v.has=function(b){return b in this.values},v.alt=function(b,g,m){for(var h=0;h<m.length;++h)if(g===m[h]){this.set(b,g);break}},v.integer=function(b,g){/^-?\d+$/.test(g)&&this.set(b,parseInt(g,10))},v.percent=function(b,g){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(g)){var m=parseFloat(g);if(m>=0&&m<=100)return this.set(b,m),!0}return!1},_}();function d(_,v,b,g){var m=g?_.split(g):[_];for(var h in m)if(typeof m[h]=="string"){var x=m[h].split(b);x.length===2&&v(x[0],x[1])}}var l=new n.default(0,0,""),s=l.align==="middle"?"middle":"center";function c(_,v,b){var g=_;function m(){var x=i(_);if(x===null)throw new Error("Malformed timestamp: "+g);return _=_.replace(/^[^\sa-zA-Z-]+/,""),x}function h(){_=_.replace(/^\s+/,"")}if(h(),v.startTime=m(),h(),_.substr(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+g);_=_.substr(3),h(),v.endTime=m(),h(),function(x,y){var p=new a;d(x,function(w,A){var E;switch(w){case"region":for(var R=b.length-1;R>=0;R--)if(b[R].id===A){p.set(w,b[R].region);break}break;case"vertical":p.alt(w,A,["rl","lr"]);break;case"line":E=A.split(","),p.integer(w,E[0]),p.percent(w,E[0])&&p.set("snapToLines",!1),p.alt(w,E[0],["auto"]),E.length===2&&p.alt("lineAlign",E[1],["start",s,"end"]);break;case"position":E=A.split(","),p.percent(w,E[0]),E.length===2&&p.alt("positionAlign",E[1],["start",s,"end","line-left","line-right","auto"]);break;case"size":p.percent(w,A);break;case"align":p.alt(w,A,["start",s,"end","left","right"])}},/:/,/\s/),y.region=p.get("region",null),y.vertical=p.get("vertical","");var C=p.get("line","auto");C==="auto"&&l.line===-1&&(C=-1),y.line=C,y.lineAlign=p.get("lineAlign","start"),y.snapToLines=p.get("snapToLines",!0),y.size=p.get("size",100),y.align=p.get("align",s);var S=p.get("position","auto");S==="auto"&&l.position===50&&(S=y.align==="start"||y.align==="left"?0:y.align==="end"||y.align==="right"?100:50),y.position=S}(_,v)}function u(_){return _.replace(/<br(?: \/)?>/gi,`
`)}var f=function(){function _(){this.state="INITIAL",this.buffer="",this.decoder=new o,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var v=_.prototype;return v.parse=function(b){var g=this;function m(){var C=g.buffer,S=0;for(C=u(C);S<C.length&&C[S]!=="\r"&&C[S]!==`
`;)++S;var w=C.substr(0,S);return C[S]==="\r"&&++S,C[S]===`
`&&++S,g.buffer=C.substr(S),w}b&&(g.buffer+=g.decoder.decode(b,{stream:!0}));try{var h="";if(g.state==="INITIAL"){if(!/\r\n|\n/.test(g.buffer))return this;var x=(h=m()).match(/^()?WEBVTT([ \t].*)?$/);if(!x||!x[0])throw new Error("Malformed WebVTT signature.");g.state="HEADER"}for(var y=!1;g.buffer;){if(!/\r\n|\n/.test(g.buffer))return this;switch(y?y=!1:h=m(),g.state){case"HEADER":/:/.test(h)?d(h,function(C,S){},/:/):h||(g.state="ID");continue;case"NOTE":h||(g.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(h)){g.state="NOTE";break}if(!h)continue;if(g.cue=new n.default(0,0,""),g.state="CUE",h.indexOf("-->")===-1){g.cue.id=h;continue}case"CUE":if(!g.cue){g.state="BADCUE";continue}try{c(h,g.cue,g.regionList)}catch{g.cue=null,g.state="BADCUE";continue}g.state="CUETEXT";continue;case"CUETEXT":var p=h.indexOf("-->")!==-1;if(!h||p&&(y=!0)){g.oncue&&g.cue&&g.oncue(g.cue),g.cue=null,g.state="ID";continue}if(g.cue===null)continue;g.cue.text&&(g.cue.text+=`
`),g.cue.text+=h;continue;case"BADCUE":h||(g.state="ID")}}}catch{g.state==="CUETEXT"&&g.cue&&g.oncue&&g.oncue(g.cue),g.cue=null,g.state=g.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},v.flush=function(){var b=this;try{if((b.cue||b.state==="HEADER")&&(b.buffer+=`

`,b.parse()),b.state==="INITIAL"||b.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(g){b.onparsingerror&&b.onparsingerror(g)}return b.onflush&&b.onflush(),this},_}()},"./src/utils/webvtt-parser.ts":function(e,t,r){r.r(t),r.d(t,"generateCueId",function(){return u}),r.d(t,"parseWebVTT",function(){return f});var n=r("./src/polyfills/number.ts"),o=r("./src/utils/vttparser.ts"),i=r("./src/demux/id3.ts"),a=r("./src/utils/timescale-conversion.ts"),d=r("./src/remux/mp4-remuxer.ts"),l=/\r\n|\n\r|\n|\r/g,s=function(_,v,b){return b===void 0&&(b=0),_.substr(b,v.length)===v},c=function(_){for(var v=5381,b=_.length;b;)v=33*v^_.charCodeAt(--b);return(v>>>0).toString()};function u(_,v,b){return c(_.toString())+c(v.toString())+c(b)}function f(_,v,b,g,m,h,x,y){var p,C=new o.VTTParser,S=Object(i.utf8ArrayToStr)(new Uint8Array(_)).trim().replace(l,`
`).split(`
`),w=[],A=Object(a.toMpegTsClockFromTimescale)(v,b),E="00:00.000",R=0,T=0,L=!0,P=!1;C.oncue=function(k){var D=g[m],O=g.ccOffset,M=(R-A)/9e4;if(D!=null&&D.new&&(T!==void 0?O=g.ccOffset=D.start:function(G,H,Z){var de=G[H],ee=G[de.prevCC];if(!ee||!ee.new&&de.new)return G.ccOffset=G.presentationOffset=de.start,void(de.new=!1);for(;(W=ee)!==null&&W!==void 0&&W.new;){var W;G.ccOffset+=de.start-ee.start,de.new=!1,ee=G[(de=ee).prevCC]}G.presentationOffset=Z}(g,m,M)),M&&(O=M-g.presentationOffset),P){var F=k.endTime-k.startTime,N=Object(d.normalizePts)(9e4*(k.startTime+O-T),9e4*h)/9e4;k.startTime=N,k.endTime=N+F}var U=k.text.trim();k.text=decodeURIComponent(encodeURIComponent(U)),k.id||(k.id=u(k.startTime,k.endTime,U)),k.endTime>0&&w.push(k)},C.onparsingerror=function(k){p=k},C.onflush=function(){p?y(p):x(w)},S.forEach(function(k){if(L){if(s(k,"X-TIMESTAMP-MAP=")){L=!1,P=!0,k.substr(16).split(",").forEach(function(D){s(D,"LOCAL:")?E=D.substr(6):s(D,"MPEGTS:")&&(R=parseInt(D.substr(7)))});try{T=function(D){var O=parseInt(D.substr(-3)),M=parseInt(D.substr(-6,2)),F=parseInt(D.substr(-9,2)),N=D.length>9?parseInt(D.substr(0,D.indexOf(":"))):0;if(!(Object(n.isFiniteNumber)(O)&&Object(n.isFiniteNumber)(M)&&Object(n.isFiniteNumber)(F)&&Object(n.isFiniteNumber)(N)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+D);return O+=1e3*M,(O+=6e4*F)+36e5*N}(E)/1e3}catch(D){P=!1,p=D}return}k===""&&(L=!1)}C.parse(k+`
`)}),C.flush()}},"./src/utils/xhr-loader.ts":function(e,t,r){r.r(t);var n=r("./src/utils/logger.ts"),o=r("./src/loader/load-stats.ts"),i=/^age:\s*[\d.]+\s*$/m,a=function(){function d(s){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=s?s.xhrSetup:null,this.stats=new o.LoadStats,this.retryDelay=0}var l=d.prototype;return l.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},l.abortInternal=function(){var s=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),s&&(s.onreadystatechange=null,s.onprogress=null,s.readyState!==4&&(this.stats.aborted=!0,s.abort()))},l.abort=function(){var s;this.abortInternal(),(s=this.callbacks)!==null&&s!==void 0&&s.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},l.load=function(s,c,u){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=s,this.config=c,this.callbacks=u,this.retryDelay=c.retryDelay,this.loadInternal()},l.loadInternal=function(){var s=this.config,c=this.context;if(s){var u=this.loader=new self.XMLHttpRequest,f=this.stats;f.loading.first=0,f.loaded=0;var _=this.xhrSetup;try{if(_)try{_(u,c.url)}catch{u.open("GET",c.url,!0),_(u,c.url)}u.readyState||u.open("GET",c.url,!0)}catch(v){return void this.callbacks.onError({code:u.status,text:v.message},c,u)}c.rangeEnd&&u.setRequestHeader("Range","bytes="+c.rangeStart+"-"+(c.rangeEnd-1)),u.onreadystatechange=this.readystatechange.bind(this),u.onprogress=this.loadprogress.bind(this),u.responseType=c.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.timeout),u.send()}},l.readystatechange=function(){var s=this.context,c=this.loader,u=this.stats;if(s&&c){var f=c.readyState,_=this.config;if(!u.aborted&&f>=2)if(self.clearTimeout(this.requestTimeout),u.loading.first===0&&(u.loading.first=Math.max(self.performance.now(),u.loading.start)),f===4){c.onreadystatechange=null,c.onprogress=null;var v=c.status;if(v>=200&&v<300){var b,g;if(u.loading.end=Math.max(self.performance.now(),u.loading.first),g=s.responseType==="arraybuffer"?(b=c.response).byteLength:(b=c.responseText).length,u.loaded=u.total=g,!this.callbacks)return;var m=this.callbacks.onProgress;if(m&&m(u,s,b,c),!this.callbacks)return;var h={url:c.responseURL,data:b};this.callbacks.onSuccess(h,u,s,c)}else u.retry>=_.maxRetry||v>=400&&v<499?(n.logger.error(v+" while loading "+s.url),this.callbacks.onError({code:v,text:c.statusText},s,c)):(n.logger.warn(v+" while loading "+s.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,_.maxRetryDelay),u.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),_.timeout)}},l.loadtimeout=function(){n.logger.warn("timeout while loading "+this.context.url);var s=this.callbacks;s&&(this.abortInternal(),s.onTimeout(this.stats,this.context,this.loader))},l.loadprogress=function(s){var c=this.stats;c.loaded=s.loaded,s.lengthComputable&&(c.total=s.total)},l.getCacheAge=function(){var s=null;if(this.loader&&i.test(this.loader.getAllResponseHeaders())){var c=this.loader.getResponseHeader("age");s=c?parseFloat(c):null}return s},d}();t.default=a}}).default);var Il=w6(w0.exports);const T6={name:"d-icon"},xr=Object.assign(T6,{props:{icon:String,size:[Number,String]},setup:function(e){const t=e,r=ne(()=>({fontSize:/^\d+$/.test(t.size)?t.size+"px":t.size}));return(n,o)=>(je(),Ye("i",{class:Mr(["d-icon iconfont",e.icon]),style:dr(be(r))},null,6))}});xr.__scopeId="data-v-0c690e66";gn("data-v-4cb76d59");const R6={class:"d-player-top"},A6={class:"top-title"},L6={class:"top-title"};vn();const P6={props:{title:{default:""}},setup(e){Date.prototype.format=function(n){let o={"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds()};for(var i in o)new RegExp("("+i+")").test(n)&&(n=n.replace(RegExp.$1,RegExp.$1.length==1?o[i]:("00"+o[i]).substr((""+o[i]).length)));return n};let t=Q("00:00:00");t.value=new Date().format("hh:mm:ss");let r=null;return r=setInterval(()=>{t.value=new Date().format("hh:mm:ss")},1e3),Xn(()=>{clearInterval(r)}),(n,o)=>(je(),Ye("div",R6,[ge("p",A6,bt(e.title||""),1),ge("p",L6,bt(be(t)),1)]))},__scopeId:"data-v-4cb76d59"};gn("data-v-ac2469ec");const k6={class:"d-status"},O6={class:"d-flex-center"},D6={class:"d-flex-center"},I6=Xe("5X ");vn();var T0=ye({props:["state"],setup:e=>(t,r)=>yt((je(),Ye("div",k6,[yt(ge("li",O6,[fe(xr,{size:"18",class:"d-status-icon",icon:"icon-volume-"+(e.state.volume==0?"mute":e.state.volume>.5?"up":"down")},null,8,["icon"]),Xe(" "+bt(~~(100*e.state.volume))+"% ",1)],512),[[Lt,e.state.handleType=="volume"]]),yt(ge("li",D6,[fe(xr,{size:"12",icon:"icon-play"}),fe(xr,{size:"12",icon:"icon-play",style:{"margin-right":"5px"}}),I6],512),[[Lt,e.state.handleType=="playbackRate"||e.state.isMultiplesPlay]])],512)),[[Lt,e.state.handleType||e.state.isMultiplesPlay]])});T0.__scopeId="data-v-ac2469ec",gn("data-v-385f7870");const M6=["checked","true-value","false-value"],F6=ge("span",{class:"d-switch_action"},null,-1);vn();var Bs=ye({props:{modelValue:{type:[Number,String,Boolean]},width:{type:String,default:"40px"},trueValue:{type:[Number,String,Boolean],default:!0},falseValue:{type:[Number,String,Boolean],default:!0},activeColor:{type:[String],default:"#409EFF"}},emits:["update:modelValue","change"],setup(e,{emit:t}){const r=e;Xu(a=>({"014e5dc0":e.width,e4e32852:e.activeColor}));const n=Q(null),o=ne(()=>r.modelValue===r.trueValue),i=()=>{$t(()=>{const a=n.value.checked;t("update:modelValue",a),t("change",a)})};return(a,d)=>(je(),Ye("div",{class:Mr(["d-switch",{"is-checked":be(o)}])},[ge("input",{class:"d-switch__input",ref:n,type:"checkbox",checked:be(o),onChange:i,"true-value":e.trueValue,"false-value":e.falseValue},null,40,M6),F6],2))}});Bs.__scopeId="data-v-385f7870",gn("data-v-b2384226");const B6={key:0},N6=ge("i",{class:"rotating iconfont icon-loading f50"},null,-1),$6=[ge("i",{class:"rotating iconfont icon-loading f50"},null,-1),ge("p",null,"...",-1)],U6=[ge("i",{class:"iconfont icon-replay f24 mr5"},null,-1),Xe(" ")],z6=[ge("i",{class:"iconfont icon-replay f24 mr5"},null,-1),Xe(" ")];vn();var R0=ye({props:{loadType:String,text:{type:String,default:""}},setup(e){const t=e,{proxy:r}=ar(),n=["loadstart","waiting","ended","error","stalled"],o=()=>{r.$parent.play()},i=ne(()=>{let a="background: rgba(0, 0, 0, .1);z-index:1";return t.loadType=="loadstart"&&(a="background: rgba(0, 0, 0, 1);;z-index:3"),a});return(a,d)=>yt((je(),Ye("div",{class:"d-loading",style:dr(be(i))},[ge("div",null,[e.loadType=="loadstart"?(je(),Ye("span",B6,[N6,ge("p",null,bt(e.text),1)])):Ot("",!0),yt(ge("span",null,$6,512),[[Lt,e.loadType=="waiting"]]),yt(ge("span",null,[ge("p",{onClick:o,class:"d-flex-x d-pointer"},U6)],512),[[Lt,e.loadType=="ended"]]),yt(ge("span",null,[ge("p",{onClick:o,class:"d-flex-x d-pointer"},z6)],512),[[Lt,e.loadType=="error"||e.loadType=="stalled"]])])],4)),[[Lt,n.includes(e.loadType)]])}});R0.__scopeId="data-v-b2384226";const Fn=function(e,t,r,n=!1){e&&t&&r&&e.addEventListener(t,r,n)},rr=function(e,t,r,n=!1){e&&t&&r&&e.removeEventListener(t,r,n)};gn("data-v-5a794390");const j6=["onMousedown"];vn();var Eo=ye(Tu(wu({},{name:"DSlider"}),{props:{modelValue:{required:!0,type:Number,default:0},disabled:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},hover:{type:Boolean,default:!0},hoverText:{type:String,default:""},preload:{type:Number,default:0},size:{type:String,default:"10px"}},emits:["update:modelValue","change","onMousemove"],setup:function(e,{emit:t}){const r=e;Xu(g=>({"5242b67b":e.size}));const n=Q(null),o=Q(null),i=Jt({dragging:!1,hoverPosition:0,hoverTipsLeft:"50%"}),a=ne(()=>{let g=r.modelValue<0?0:r.modelValue>1?1:r.modelValue;return r.vertical?`height:${100*g}%`:`width:${100*g}%`}),d=ne(()=>{let g=r.preload<0?0:r.preload>1?1:r.preload;return r.vertical?`height:${100*g}%`:`width:${100*g}%`}),l=ne(()=>{let g=i.hoverPosition<0?0:i.hoverPosition>1?1:i.hoverPosition;return r.vertical?`bottom:${100*g}%`:`left:${100*g}%`}),s=g=>{g.preventDefault()},c=g=>{r.disabled||(g.preventDefault(),i.dragging=!0,f(g),Fn(window,"mousemove",v),Fn(window,"touchmove",v),Fn(window,"mouseup",b),Fn(window,"touchend",b))},u=g=>{if(!r.hover)return;let m=_(g);if(t("onMousemove",g,m),i.hoverPosition=m,r.vertical)return;let h=n.value,x=o.value.clientWidth/2,y=g.clientX-h.getBoundingClientRect().left;y<x?i.hoverTipsLeft=x-y+"px":h.clientWidth-y<x?i.hoverTipsLeft=h.clientWidth-y-x+"px":i.hoverTipsLeft="50%"},f=g=>{let m=_(g);t("update:modelValue",m),t("change",g,m)},_=g=>{let m=n.value,h=0;if(r.vertical){let x=m.clientHeight;h=(m.getBoundingClientRect().bottom-g.clientY)/x}else h=(g.clientX-m.getBoundingClientRect().left)/m.clientWidth;return h<0?0:h>1?1:h},v=g=>{f(g)},b=g=>{i.dragging&&(rr(window,"mousemove",v),rr(window,"touchmove",v),rr(window,"mouseup",b),rr(window,"touchend",b),rr(window,"contextmenu",b),setTimeout(()=>{i.dragging=!1},0))};return(g,m)=>(je(),Ye("div",{ref:n,class:Mr(["d-slider",{"is-vertical":r.vertical}]),onMousedown:V1(c,["stop"]),onContextmenu:s},[ge("div",{class:"d-slider__runway",onMousemove:u},[yt(ge("div",{class:"d-slider__cursor",style:dr(be(l))},[yt(ge("div",{class:"d-slider__tips",ref:o,style:dr({left:be(i).hoverTipsLeft})},bt(r.hoverText),5),[[Lt,r.hoverText]])],4),[[Lt,r.hover]]),ge("div",{class:"d-slider__preload",style:dr(be(d))},null,4),ge("div",{class:"d-slider__bar",style:dr(be(a))},null,4)],32)],42,j6))}}));Eo.__scopeId="data-v-5a794390";gn("data-v-570fa0d1");const H6={key:0,class:"d-player-dialog"},W6={class:"d-player-dialog-body"},G6={class:"d-player-dialog-title"},V6={class:"d-player-hotkey-panel"},K6={class:"d-player-filter-panel"},Y6={class:"d-player-filter-panel-item"},X6=ge("span",null,"",-1),q6={class:"d-player-filter-panel-item"},Z6=ge("span",null,"",-1),J6={class:"d-player-filter-panel-item"},Q6=ge("span",null,"",-1),eB={key:0,class:"d-player-contextmenu"},tB=["dplayerKeyCode"],rB=ge("input",{class:"d-player-copyText"},null,-1);vn();var A0=ye({setup(e){const t=Jt({show:!1,dialogType:"",dialogTitle:"",version:"1.3.1-beta.6",mouseX:0,mouseY:0}),r=[{label:"",key:"filter"},{label:"",key:"hotkey"},{label:"",key:"copy"},{label:"1.3.1-beta.6",key:"version"}],n=[{key:"Space",label:"/"},{key:"",label:"10s5"},{key:"",label:"5s"},{key:"",label:"10%"},{key:"",label:"10%"},{key:"Esc",label:"/"},{key:"F",label:"/"}],o=Jt({saturate:.392,brightness:.392,contrast:.392}),i=ne(()=>({left:t.mouseX+"px",top:t.mouseY+"px"}));tt(o,c=>{let u=document.querySelector("#dPlayerVideo"),f=(2.55*c.saturate).toFixed(2),_=(2.55*c.brightness).toFixed(2),v=(2.55*c.contrast).toFixed(2);u.style.filter=`saturate(${f}) brightness(${_}) contrast(${v})`});const a=()=>{o.saturate=.392,o.brightness=.392,o.contrast=.392},d=c=>{c.key=="Escape"&&s(0)},l=c=>{c.preventDefault(),Fn(window,"keydown",d),Fn(window,"click",s);let u=document.querySelector("#refPlayerWrap"),f=u.clientWidth;u.clientHeight,t.mouseX=c.clientX-u.getBoundingClientRect().left,f-t.mouseX<130&&(t.mouseX=t.mouseX+(f-t.mouseX-130)),t.mouseY=c.clientY-u.getBoundingClientRect().top,t.show=!0},s=c=>{let u=c.path[0].tagName=="LI",f=c.path[0].attributes.dplayerKeyCode&&c.path[0].attributes.dplayerKeyCode.value,_=r.map(v=>v.key);if(u&&_.includes(f))if(t.dialogTitle=c.path[0].innerText,t.dialogType=f,f=="copy"){let v=document.querySelector(".d-player-copyText");v.value=window.location.href,v.select(),document.execCommand("copy"),t.dialogType=""}else f=="version"&&(t.dialogType="");t.show=!1,rr(window,"keydown",d),rr(window,"click",s)};return Rt(()=>{let c=document.querySelector("#refPlayerWrap");rr(window,"keydown",d),rr(window,"click",s),rr(c,"contextmenu",l),Fn(c,"contextmenu",l)}),Xn(()=>{let c=document.querySelector("#refPlayerWrap");rr(window,"keydown",d),rr(window,"click",s),rr(c,"contextmenu",l)}),(c,u)=>(je(),Ye("div",null,[fe(Ut,{name:"d-fade-in"},{default:ke(()=>[be(t).dialogType?(je(),Ye("div",H6,[ge("div",W6,[ge("h5",G6,[Xe(bt(be(t).dialogTitle)+" ",1),ge("i",{onClick:u[0]||(u[0]=f=>be(t).dialogType=!1),class:"icon icon-close"},"X")]),yt(ge("ul",V6,[(je(),Ye(Qe,null,Hs(n,f=>ge("li",{class:"d-player-hotkey-panel-item",key:f.key},[ge("span",null,bt(f.key),1),ge("span",null,bt(f.label),1)])),64))],512),[[Lt,be(t).dialogType=="hotkey"]]),yt(ge("ul",K6,[ge("li",Y6,[X6,fe(Eo,{class:"filter-panel-slider",size:"5px",modelValue:be(o).saturate,"onUpdate:modelValue":u[1]||(u[1]=f=>be(o).saturate=f)},null,8,["modelValue"]),ge("span",null,bt(Math.round(255*be(o).saturate)),1)]),ge("li",q6,[Z6,fe(Eo,{class:"filter-panel-slider",size:"5px",modelValue:be(o).brightness,"onUpdate:modelValue":u[2]||(u[2]=f=>be(o).brightness=f)},null,8,["modelValue"]),ge("span",null,bt(Math.round(255*be(o).brightness)),1)]),ge("li",J6,[Q6,fe(Eo,{class:"filter-panel-slider",size:"5px",modelValue:be(o).contrast,"onUpdate:modelValue":u[3]||(u[3]=f=>be(o).contrast=f)},null,8,["modelValue"]),ge("span",null,bt(Math.round(255*be(o).contrast)),1)]),ge("span",{onClick:a,title:"","aria-label":"",class:"d-player-filter-reset"},"")],512),[[Lt,be(t).dialogType=="filter"]])])])):Ot("",!0)]),_:1}),be(t).show?(je(),Ye("div",eB,[ge("ul",{class:"d-player-contextmenu-body",style:dr(be(i))},[(je(),Ye(Qe,null,Hs(r,f=>ge("li",{dplayerKeyCode:f.key,key:f.key},bt(f.label),9,tB)),64))],4),rB])):Ot("",!0)]))}});A0.__scopeId="data-v-570fa0d1";const Ml=e=>{let t=~~(e/3600),r=~~(e%3600/60),n=~~(e%60);return t=t<10?"0"+t:t,r=r<10?"0"+r:r,n=n<10?"0"+n:n,`${t}:${r}:${n}`},li="ontouchstart"in window,$h=["loadstart","play","pause","playing","seeking","seeked","waiting","durationchange","progress","canplay","timeupdate","ended","error","stalled"],nB={width:{type:String,default:"800px"},height:{type:String,default:"450px"},color:{type:String,default:"#409eff"},src:{required:!0,type:String,default:""},title:{type:String,default:""},type:{type:String,default:"video/mp4"},poster:{type:String,default:""},webFullScreen:{type:Boolean,default:!1},speed:{type:Boolean,default:!0},currentTime:{type:Number,default:0},playsinline:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},speedRate:{type:Array,default:()=>["2.0","1.5","1.25","1.0","0.75","0.5"]},autoPlay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},mirror:{type:Boolean,default:!1},ligthOff:{type:Boolean,default:!1},volume:{type:[String,Number],default:.3},control:{type:Boolean,default:!0},controlBtns:{type:Array,default:["audioTrack","quality","speedRate","volume","setting","pip","pageFullScreen","fullScreen"]},preload:{type:String,default:"auto"}};gn("data-v-01791e9e");const oB={class:"d-player-video",id:"dPlayerVideo"},iB=["controls","webkit-playsinline","playsinline","volume","muted","loop","preload","src","poster"],sB={class:"d-player-lightoff"},aB={key:1,class:"d-player-state"},lB={class:"d-play-btn"},uB=["onKeyup","onKeydown"],cB={class:"d-control-progress"},dB={class:"d-tool-bar"},fB={key:0,class:"d-tool-item d-tool-time audioTrack-btn"},hB=ge("span",{style:{margin:"0 3px"}},"/",-1),pB={class:"total-time"},gB={class:"d-tool-bar"},vB={key:0,class:"d-tool-item quality-btn"},mB={class:"d-tool-item-main"},bB={class:"speed-main",style:{"text-align":"center"}},yB=["onClick"],xB={key:1,class:"d-tool-item speedRate-btn"},_B={class:"d-tool-item-main"},CB={class:"speed-main"},SB=["onClick"],EB={key:2,class:"d-tool-item volume-btn"},wB={class:"d-tool-item-main volume-box",style:{width:"52px"}},TB={class:"volume-text-size"},RB={key:3,class:"d-tool-item setting-btn"},AB={class:"d-tool-item-main"},LB={class:"speed-main"},PB=Xe("  "),kB=Xe("  "),OB=Xe("  "),DB=ge("div",{class:"d-tool-item-main"},"",-1),IB=ge("div",{class:"d-tool-item-main"},"",-1),MB=ge("div",{class:"d-tool-item-main"},"",-1);vn();var Gi=ye(Tu(wu({},{name:"vue3VideoPlay",inheritAttrs:!1}),{props:nB,emits:[...$h,"mirrorChange","loopChange","lightOffChange"],setup:function(e,{expose:t,emit:r}){const n=e;Xu(O=>({"51d4439c":be(_),"77e758a6":O.width,b8a1afc0:O.height}));const o=new Il({fragLoadingTimeOut:2e3}),i=Q(null),a=Q(null),d=Q(null),l=Q(null),s=Jt(Tu(wu({dVideo:null},n),{muted:n.muted,playBtnState:n.autoPlay?"pause":"play",loadStateType:"loadstart",fullScreen:!1,handleType:"",currentTime:"00:00:00",preloadBar:0,totalTime:"00:00:00",isVideoHovering:!0,speedActive:"1.0",playProgress:0,isMultiplesPlay:!1,longPressTimeout:null,progressCursorTime:"00:00:00",qualityLevels:[],currentLevel:0})),c=(...O)=>M=>O.reverse().reduce((F,N)=>N(F),M),u=$h.reduce((O,M)=>{var F;return O[`on${F=M,F.charAt(0).toUpperCase()+F.slice(1)}`]=N=>{s.loadStateType=M,r(M,N)},O},{});u.onCanplay=c(u.onCanplay,()=>{s.playBtnState!="play"&&s.dVideo.play(),s.autoPlay&&(s.dVideo.play(),s.playBtnState="pause")}),u.onEnded=c(u.onEnded,()=>{s.playBtnState="replay"}),u.onDurationchange=O=>{r("durationchange",O),n.currentTime!=0&&(s.dVideo.currentTime=n.currentTime),u.onTimeupdate(O)},u.onProgress=O=>{console.log("..."),r("progress",O);let M=O.target.duration,F=O.target.buffered,N=O.target.buffered.length&&O.target.buffered.end(F-1);s.preloadBar=N/M},u.onTimeupdate=O=>{r("timeupdate",O);let M=O.duration||O.target.duration||0,F=O.currentTime||O.target.currentTime;s.playProgress=F/M,s.currentTime=Ml(F),s.totalTime=Ml(M)},u.onError=c(u.onError,()=>{s.playBtnState="replay"});let f=Uy();for(let O in f)u[O]=f[O];const _=(v=s.color,`${parseInt("0x"+v.slice(1,3))},${parseInt("0x"+v.slice(3,5))},${parseInt("0x"+v.slice(5,7))}`);var v;const b=Nh(500,()=>{s.handleType=""}),g=O=>{O.preventDefault(),O.code=="ArrowUp"?s.volume=s.volume+.1>1?1:s.volume+.1:s.volume=s.volume-.1<0?0:s.volume-.1,s.muted=!1,s.handleType="volume",b()},m=O=>{n.speed&&(s.dVideo.currentTime=s.dVideo.currentTime<10?.1:s.dVideo.currentTime-10,u.onTimeupdate(s.dVideo),y())},h=O=>{O.preventDefault();let M=O.type;if(O.key=="ArrowRight"){if(y(),M=="keyup"){if(clearTimeout(s.longPressTimeout),!n.speed&&!s.longPressTimeout)return;s.isMultiplesPlay?(s.dVideo.playbackRate=s.speedActive,s.isMultiplesPlay=!1):(s.dVideo.currentTime=s.dVideo.currentTime+10,u.onTimeupdate(s.dVideo))}else if(M=="keydown"){if(!n.speed)return;s.isMultiplesPlay&&clearTimeout(s.longPressTimeout),s.longPressTimeout=setTimeout(()=>{s.isMultiplesPlay=!0,s.dVideo.playbackRate=5,s.handleType="playbackRate",b()},500)}}},x=()=>{li||l.value.focus()},y=()=>{s.loadStateType="play",s.dVideo.play().catch(()=>{setTimeout(()=>{s.playBtnState="replay",s.loadStateType="error"},500)}),s.playBtnState="pause"},p=()=>{s.dVideo.pause(),s.playBtnState="play"},C=O=>{O&&O.preventDefault(),s.playBtnState=="play"||s.playBtnState=="replay"?y():s.playBtnState=="pause"&&p()},S=()=>{s.muted=!s.muted,s.volume==0&&(s.volume=.05)},w=(O,M)=>{let F=s.dVideo.duration||s.dVideo.target.duration;s.dVideo.currentTime=F*M,s.playBtnState=="play"&&(s.dVideo.play(),s.playBtnState="pause")},A=(O,M)=>{s.progressCursorTime=Ml(s.dVideo.duration*M)},E=Nh(2500,()=>{s.isVideoHovering=!1}),R=O=>{s.isVideoHovering=!0,E()},T=O=>{r("mirrorChange",O,s.dVideo)},L=O=>{r("loopChange",O,s.dVideo)},P=O=>{r("lightOffChange",O,s.dVideo)},k=()=>{var O;O=s.dVideo,document.pictureInPictureElement?document.exitPictureInPicture().catch(M=>{console.log(M,"Video failed to leave Picture-in-Picture mode.")}):O.requestPictureInPicture().catch(M=>{console.log(M,"Video failed to enter Picture-in-Picture mode.")})},D=()=>{s.fullScreen=(O=>{let M=document,F=M.webkitIsFullScreen||M.fullscreen;return F?(document.exitFullscreen||M.webkitExitFullScreen).call(M):(O.requestFullscreen||O.webkitRequestFullScreen).call(O),!F})(i.value)};return tt(()=>n.src,()=>{$t(()=>{s.dVideo.canPlayType(n.type)||s.dVideo.canPlayType("application/vnd.apple.mpegurl")?s.muted=n.autoPlay:Il.isSupported()&&(o.detachMedia(),o.attachMedia(s.dVideo),o.on(Il.Events.MEDIA_ATTACHED,()=>{o.loadSource(n.src),o.on("hlsManifestParsed",(O,M)=>{console.log(M),s.currentLevel=M.level,s.qualityLevels=M.levels||[]})}),o.on("hlsLevelSwitching",(O,M)=>{console.log(M),console.log("LEVEL_SWITCHING")}),o.on("hlsLevelSwitched",(O,M)=>{s.currentLevel=M.level,console.log("LEVEL_SWITCHED")}))})},{immediate:!0}),Rt(()=>{s.dVideo=a,x()}),t({play:y,pause:p,togglePlay:C}),(O,M)=>(je(),Ye("div",{ref:i,id:"refPlayerWrap",class:Mr(["d-player-wrap",{"web-full-screen":be(s).webFullScreen,"is-lightoff":be(s).lightOff,"d-player-wrap-hover":be(s).playBtnState=="play"||be(s).isVideoHovering}]),onMousemove:R},[ge("div",oB,[ge("video",sr({ref:a,class:["d-player-video-main",{"video-mirror":be(s).mirror}],id:"dPlayerVideoMain",controls:!(!be(li)||!be(s).speed),"webkit-playsinline":n.playsinline,playsinline:n.playsinline},be(u),{volume:be(s).volume,muted:be(s).muted,loop:be(s).loop,preload:O.preload,width:"100%",height:"100%",src:n.src,poster:n.poster}),"Video",16,iB)]),fe(Ut,{name:"d-fade-in"},{default:ke(()=>[yt(ge("div",sB,null,512),[[Lt,be(s).lightOff]])]),_:1}),be(s).fullScreen?(je(),Hn(P6,{key:0,title:n.title},null,8,["title"])):Ot("",!0),be(li)?Ot("",!0):(je(),Ye("div",aB,[fe(Ut,{name:"d-scale-out"},{default:ke(()=>[yt(ge("div",lB,[fe(xr,{icon:"icon-play",size:40})],512),[[Lt,be(s).playBtnState=="play"]])]),_:1}),fe(T0,{state:be(s)},null,8,["state"])])),be(li)?Ot("",!0):(je(),Ye("input",{key:2,type:"input",readonly:"readonly",ref:l,onDblclick:D,onKeyup:[Xo(D,["f"]),M[0]||(M[0]=Xo(F=>be(s).webFullScreen=!1,["esc"])),h],onClick:C,onKeydown:[Xo(C,["space"]),Xo(m,["arrow-left"]),Xo(g,["arrow-up","arrow-down"]),h],class:"d-player-input",maxlength:"0"},null,40,uB)),fe(R0,{loadType:be(s).loadStateType},null,8,["loadType"]),fe(A0),!be(li)&&be(s).control?(je(),Ye("div",{key:3,class:"d-player-control",ref:d},[ge("div",cB,[fe(Eo,{class:"d-progress-bar",onOnMousemove:A,onChange:w,disabled:!be(s).speed,hoverText:be(s).progressCursorTime,modelValue:be(s).playProgress,"onUpdate:modelValue":M[1]||(M[1]=F=>be(s).playProgress=F),preload:be(s).preloadBar},null,8,["disabled","hoverText","modelValue","preload"])]),ge("div",{class:"d-control-tool",onClick:x},[ge("div",dB,[ge("div",{class:"d-tool-item",onClick:C},[fe(xr,{size:"24",icon:`icon-${be(s).playBtnState}`},null,8,["icon"])]),n.controlBtns.includes("audioTrack")?(je(),Ye("div",fB,[ge("span",null,bt(be(s).currentTime),1),hB,ge("span",pB,bt(be(s).totalTime),1)])):Ot("",!0)]),ge("div",gB,[be(s).qualityLevels.length&&n.controlBtns.includes("quality")?(je(),Ye("div",vB,[Xe(bt(be(s).qualityLevels.length&&(be(s).qualityLevels[be(s).currentLevel]||{}).height)+"P ",1),ge("div",mB,[ge("ul",bB,[(je(!0),Ye(Qe,null,Hs(be(s).qualityLevels,(F,N)=>(je(),Ye("li",{class:Mr({"speed-active":be(s).currentLevel==N}),onClick:U=>((G,H)=>{o.currentLevel=H,s.currentLevel=H})(0,N),key:F},bt(F.height)+"P",11,yB))),128))])])])):Ot("",!0),n.controlBtns.includes("speedRate")?(je(),Ye("div",xB,[Xe(bt(be(s).speedActive=="1.0"?"":be(s).speedActive+"x")+" ",1),ge("div",_B,[ge("ul",CB,[(je(!0),Ye(Qe,null,Hs(be(s).speedRate,F=>(je(),Ye("li",{class:Mr({"speed-active":be(s).speedActive==F}),onClick:N=>(U=>{s.speedActive=U,s.dVideo.playbackRate=U})(F),key:F},bt(F)+"x",11,SB))),128))])])])):Ot("",!0),n.controlBtns.includes("volume")?(je(),Ye("div",EB,[ge("div",wB,[ge("div",{class:Mr(["volume-main",{"is-muted":be(s).muted}])},[ge("span",TB,bt(be(s).muted?0:~~(100*be(s).volume))+"%",1),fe(Eo,{onChange:M[2]||(M[2]=F=>be(s).muted=!1),hover:!1,size:"5px",vertical:!0,modelValue:be(s).volume,"onUpdate:modelValue":M[3]||(M[3]=F=>be(s).volume=F)},null,8,["modelValue"])],2)]),ge("span",{onClick:S,style:{display:"flex"}},[fe(xr,{size:"20",icon:"icon-volume-"+(be(s).volume==0||be(s).muted?"mute":be(s).volume>.5?"up":"down")},null,8,["icon"])])])):Ot("",!0),n.controlBtns.includes("setting")?(je(),Ye("div",RB,[fe(xr,{size:"20",class:"rotateHover",icon:"icon-settings"}),ge("div",AB,[ge("ul",LB,[ge("li",null,[PB,fe(Bs,{onChange:T,modelValue:be(s).mirror,"onUpdate:modelValue":M[4]||(M[4]=F=>be(s).mirror=F)},null,8,["modelValue"])]),ge("li",null,[kB,fe(Bs,{onChange:L,modelValue:be(s).loop,"onUpdate:modelValue":M[5]||(M[5]=F=>be(s).loop=F)},null,8,["modelValue"])]),ge("li",null,[OB,fe(Bs,{onChange:P,modelValue:be(s).lightOff,"onUpdate:modelValue":M[6]||(M[6]=F=>be(s).lightOff=F)},null,8,["modelValue"])])])])])):Ot("",!0),n.controlBtns.includes("pip")?(je(),Ye("div",{key:4,class:"d-tool-item pip-btn",onClick:k},[fe(xr,{size:"20",icon:"icon-pip"}),DB])):Ot("",!0),n.controlBtns.includes("pageFullScreen")?(je(),Ye("div",{key:5,class:"d-tool-item pip-btn",onClick:M[7]||(M[7]=F=>be(s).webFullScreen=!be(s).webFullScreen)},[fe(xr,{size:"20",icon:"icon-web-screen"}),IB])):Ot("",!0),n.controlBtns.includes("fullScreen")?(je(),Ye("div",{key:6,class:"d-tool-item fullScreen-btn",onClick:D},[MB,fe(xr,{size:"20",icon:"icon-screen"})])):Ot("",!0)])])],512)):Ot("",!0)],34))}}));function FB(e){e.component(Gi.name,Gi)}Gi.__scopeId="data-v-01791e9e",Gi.install=FB;const BB={class:"container"},NB=ye({__name:"NotFound",setup(e){return Ki({title:"404 - GoLive"}),(t,r)=>{const n=s3;return je(),Ye("div",BB,[fe(n,{status:"404",title:"404 ",description:"",size:"huge"})])}}}),L0=rs(NB,[["__scopeId","data-v-8f6c8d61"]]),$B={key:0,class:"liveroom-container"},UB={class:"header"},zB={class:"profile-info"},jB={class:"profile-name"},HB=ye({__name:"Liveroom",setup(e){const t=V_(),r=kc(),n=Q(t.params.roomid),o=Q(0);Rt(()=>{d()}),F_(s=>{n.value=s.params.roomid,d()});const i=Jt({width:"100%",height:"auto",color:"#409eff",loop:!1,mirror:!1,ligthOff:!1,control:!0,autoPlay:!0,src:"",type:"mp4",controlBtns:["audioTrack","quality","volume","pip","pageFullScreen","fullScreen"]}),a=Jt({nickname:"",username:"",verified:1,avatarUrl:""});tt(()=>a.nickname,s=>{Ki({title:`${s} - GoLive`})});async function d(){const s=await Ir.get("/api/live/get_info",{params:{roomid:n.value}}).then(f=>f.data);if(s.code==404){o.value=-1;return}else if(s.code!=0){r.error(s.msg);return}o.value=1;const{user:c,stream:u}=s.data;if(a.username=c.username,a.nickname=c.nickname,a.verified=c.verified,a.avatarUrl=c.avatarUrl,u&&Dl.isSupported()){const f=document.getElementById("video");f?l(u,f):setTimeout(()=>{try{l(u,document.getElementById("video"))}catch(_){console.log(_)}},500)}}function l(s,c){const u=Dl.createPlayer({type:"flv",url:s.flv});u.on(Dl.Events.ERROR,(f,_)=>{f==="MediaError"&&(console.log("[FLV] > "+_),i.type="m3u8",i.src=s.hls)}),u.attachMediaElement(c),u.load()}return(s,c)=>{const u=om,f=im,_=Zm;return je(),Ye(Qe,null,[o.value===1?(je(),Ye("div",$B,[ge("div",UB,[ge("div",zB,[fe(f,{value:"",show:a.verified===0},{default:ke(()=>[fe(u,{size:48,src:a.avatarUrl,"fallback-src":"/avatar.png"},null,8,["src"])]),_:1},8,["show"]),ge("div",jB,[fe(_,{class:"nickname"},{default:ke(()=>[Xe(bt(a.nickname),1)]),_:1}),fe(_,{class:"username"},{default:ke(()=>[Xe(bt(a.username),1)]),_:1})])])]),fe(be(Gi),sr(i,{id:"video"}),null,16)])):Ot("",!0),o.value===-1?(je(),Hn(L0,{key:1})):Ot("",!0)],64)}}}),WB=rs(HB,[["__scopeId","data-v-06721ddd"]]),GB=[{path:"/",component:b6},{path:"/live/:roomid",component:WB},{path:"/:pathMatch(.*)*",name:"NotFound",component:L0}],VB=W_({history:i_(),routes:GB}),KB=Ux(),$c=q1(G3);$c.use(KB);$c.use(VB);$c.mount("#app")});export default YB();
